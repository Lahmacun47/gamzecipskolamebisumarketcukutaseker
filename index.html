<html lang="tr"><head><style>
        @import url(https://fonts.googleapis.com/css?family=Google+Sans+Text);
        html {
          font-family: 'Google Sans Text', 'Google Sans';
          font-size: 14px;
          color-scheme: light dark;
          background: light-dark(white, black);
          color: light-dark(black, white);
        }
        </style>
        
        <script src="https://apis.google.com/_/scs/abc-static/_/js/k=gapi.lb.tr.azDnutpS-6s.O/m=gapi_iframes/rt=j/sv=1/d=1/ed=1/rs=AHpOoo9wrwdgHlQbi5ropVnnHwaNg2VaSQ/cb=gapi.loaded_0?le=scs" async=""></script><script type="importmap">{"imports":{"@modelcontextprotocol/sdk/":"https://esm.sh/@modelcontextprotocol/sdk/dist/esm/","https://esm.sh/@modelcontextprotocol/sdk@^1.11.0/es2022/":"https://esm.sh/@modelcontextprotocol/sdk@^1.11.0/es2022/dist/esm/","https://esm.sh/@modelcontextprotocol/sdk@^1.11.0/client/index?target=es2022":"https://esm.sh/@modelcontextprotocol/sdk@^1.11.0/dist/esm/client/index?target=es2022","https://esm.sh/@modelcontextprotocol/sdk@^1.11.0/types?target=es2022":"https://esm.sh/@modelcontextprotocol/sdk@^1.11.0/dist/esm/types?target=es2022","react":"https://esm.sh/react@18.2.0","react-dom/client":"https://esm.sh/react-dom@18.2.0/client","firebase/app":"https://www.gstatic.com/firebasejs/10.7.1/firebase-app.js","firebase/auth":"https://www.gstatic.com/firebasejs/10.7.1/firebase-auth.js","firebase/firestore":"https://www.gstatic.com/firebasejs/10.7.1/firebase-firestore.js","@/index":"data:application/javascript;base64,","@":"data:application/javascript;base64,","@/types":"data:application/javascript;base64,","@/services/firebase":"data:application/javascript;base64,","@/components/Sidebar":"data:application/javascript;base64,","@/components/Dashboard":"data:application/javascript;base64,","@/components/UserManagement":"data:application/javascript;base64,","@/components/Announcements":"data:application/javascript;base64,","@/components/GlobalChat":"data:application/javascript;base64,","@/App":"data:application/javascript;base64,"}}</script>
        <script>
          window.APPLET_FILES = ["index.tsx","metadata.json","index.html","types.ts","services/firebase.ts","components/Sidebar.tsx","components/Dashboard.tsx","components/UserManagement.tsx","components/Announcements.tsx","components/GlobalChat.tsx","App.tsx"];
          </script>
        <script type="module">
        (() => {
  if (window.self === window.top) {
    // Do not run the shim in the main window, only in iframes.
    return;
  }

  window.API_KEY = 'GEMINI_API_KEY';
  window.GEMINI_API_KEY = 'GEMINI_API_KEY';
  window.process = window.process || {};
  window.process.env = window.process.env || {};
  window.process.env.API_KEY = window.API_KEY;
  window.process.env.GEMINI_API_KEY = window.GEMINI_API_KEY;

  const bootstrapChannel = new Promise((resolve) => {
    window.addEventListener('message', (event) => {
      if (event.origin !== 'https://aistudio.google.com') {
        return;
      }

      if (event.data.type === 'bootstrap') {
        resolve({
          port: event.ports[0],
          urlPatterns:
              event.data.urlPatterns.map((pattern) => new RegExp(pattern)),
        });
      }
    });
  });

  window.aistudio = window.aistudio || {
    handleFullscreenEsc: true,
    getHostUrl: async function() {
      const hostPort = (await bootstrapChannel).port;
      return new Promise((resolve) => {
        const channel = new MessageChannel();
        hostPort.postMessage(
            {type: 'get_host_url'},
            [channel.port2]);
        const port = channel.port1;
        port.onmessage = (message) => {
          resolve(message.data.url);
        };
      });
    },
    hasSelectedApiKey: async function() {
      const hostPort = (await bootstrapChannel).port;
      return new Promise((resolve) => {
        const channel = new MessageChannel();
        hostPort.postMessage(
            {type: 'has_selected_api_key'},
            [channel.port2]);
        const port = channel.port1;
        port.onmessage = (message) => {
          resolve(message.data);
        };
      });
    },
    openSelectKey: async function() {
      const hostPort = (await bootstrapChannel).port;
      const channel = new MessageChannel();
      hostPort.postMessage(
          {type: 'open_select_key'},
          [channel.port2]);
    },
    getModelQuota: async function(model) {
      const hostPort = (await bootstrapChannel).port;
      return new Promise((resolve) => {
        const channel = new MessageChannel();
        hostPort.postMessage(
            {type: 'get_model_quota', model},
            [channel.port2]);
        const port = channel.port1;
        port.onmessage = (message) => {
          resolve(message.data.modelQuota);
        };
      });
    },
  };

  const nativeFetch = window.fetch;

  /**
   * @param {string | URL | Request} resource The resource of the fetch request.
   * @param {RequestInit} options The options of the fetch request.
   * @return {Promise!} The promise of the fetch request.
   */
  async function fetch(resource, options) {
    const config = await bootstrapChannel;

    const request = resource instanceof Request ?
      resource.clone() :
      new Request(resource, options);

    if (!config.urlPatterns.some((pattern) => request.url.match(pattern))) {
      return nativeFetch(resource, options);
    }
    const hostPort = config.port;

    const channel = new MessageChannel();
    const port = channel.port1;
    let bodyBytes;
    const transfer = [channel.port2];
    const parts = [];
    const buffer = await request.arrayBuffer();
    if (buffer.byteLength) {
      bodyBytes = buffer;
      transfer.push(bodyBytes);
    }
    hostPort.postMessage(
        {
          type: 'fetch',
          url: request.url,
          method: request.method,
          headers: [...request.headers.entries()],
          body: bodyBytes,
        },
        transfer);

    let streamController;
    const body = new ReadableStream({
      start(controller) {
        streamController = controller;
      },
    });
    let resolveReceive;
    const receivePromise = new Promise((resolve) => {
      resolveReceive = resolve;
    });
    port.onmessage = (message) => {
      switch (message.data.type) {
        case 'response':
          resolveReceive(new Response(body, {
            status: message.data.status,
            statusText: message.data.statusText,
            headers: new Headers(message.data.headers),
          }));
          break;
        case 'body':
          streamController.enqueue(message.data.data);
          break;
        case 'body_done':
          streamController.close();
          break;
      }
    };
    return receivePromise;
  }

  Object.defineProperty(window, 'fetch', {
    get: function() {
      return fetch;
    },
  });

  // See details in: https://github.com/angular/angular/issues/63064.
  function patchHistoryStateFunctionForAngular(originalFn, baseHref) {
    return (state, unused, url) => {
      if (typeof url === 'string' && !url.startsWith('blob:')) {
        url = baseHref + url;
      }
      return originalFn.apply(window.history, [state, unused, url]);
    };
  }

  if (false) {
    const baseHref = window.location.href;
    window.history.replaceState = patchHistoryStateFunctionForAngular(window.history.replaceState, baseHref);
    window.history.pushState = patchHistoryStateFunctionForAngular(window.history.pushState, baseHref);
  }

  const originalWebSocket = window.WebSocket;
  class ProxiedWebSocket extends EventTarget {
    /**
     * @param {string} url The url of the websocket.
     * @param {Object!} protocols The protocols of the websocket.
     */
    constructor(url, protocols) {
      super();
      this.url = url;
      this.protocols = protocols;

      this.open();
    }

    /** Opens the websocket. */
    async open() {
      const hostPort = (await bootstrapChannel).port;
      const channel = new MessageChannel();
      hostPort.postMessage(
          {type: 'websocket_open', url: this.url, protocols: this.protocols},
          [channel.port2]);
      this.port = channel.port1;
      this.port.onmessage = (message) => {
        if (message.data.type === 'close') {
          const event = new CloseEvent('close', {
            code: message.data.code,
            reason: message.data.reason,
            wasClean: message.data.wasClean,
          });
          if (this.onclose) {
            this.onclose(event);
          }
          this.dispatchEvent(event);
          return;
        } else if (message.data.type === 'open') {
          const event = new Event('open');
          if (this.onopen) {
            this.onopen(event);
          }
          this.dispatchEvent(event);
          return;
        } else if (message.data.type === 'message') {
          let data = message.data.data;
          if (message.data.messageType === 'text' || message.data.messageType === 'message') {
            data = new TextDecoder().decode(data);
          }
          const event = new MessageEvent('message', {
            data,
            type: message.data.messageType,
          });
          if (this.onmessage) {
            this.onmessage(event);
          }
          this.dispatchEvent(event);
          return;
        } else if (message.data.type === 'error') {
          const event = new ErrorEvent('error', {
            message: message.data.message,
          });
          if (this.onerror) {
            this.onerror(event);
          }
          this.dispatchEvent(event);
          return;
        }
        console.error('received unknown message in frame', event.data);
      };
    }
    /**
     * @param {string|ArrayBuffer!} data The data to send.
     */
    send(data) {
      if (typeof data === 'string') {
        this.port.postMessage({type: 'send', data});
      } else {
        this.port.postMessage({type: 'send', data}, [data.buffer]);
      }
    }

    /**
     * @param {number} code The code of the close event.
     * @param {string} reason The reason of the close event.
     */
    close(code, reason) {
      this.port.postMessage({type: 'close', code, reason});
    }
  }

  /**
   * @param {string} url The url of the websocket.
   * @param {Object!} protocols The protocols of the websocket.
   * @return {WebSocket!} The websocket.
   */
  function createWebSocket(url, protocols) {
    // This should come from the bootstrap channel, but we want this to
    // work for the synchronous constructor here.
    if (url.startsWith('wss://generativelanguage.googleapis.com/')) {
      return Reflect.construct(ProxiedWebSocket, [url, protocols]);
    }
    return Reflect.construct(originalWebSocket, [url, protocols]);
  }

  Object.defineProperty(window, 'WebSocket', {
    get: function() {
      return createWebSocket;
    },
  });

  async function instrumentErrorReporting() {
    const errors = [];
    let hostPort;

    function reportError(message) {
      if (!hostPort) {
        errors.push(message);
      } else {
        hostPort.postMessage({type: 'error', message: message}, message);
      }
    }

    function serialize(args) {
      return args.map((a) => {
        if (a instanceof Error || a instanceof ErrorEvent) {
          return a.message;
        }
        if(a instanceof CloseEvent) {
          return {code: a.code, reason: a.reason, wasClean: a.wasClean};
        }
        if( a instanceof Map) {
          return JSON.parse(JSON.stringify([...a.entries()]));
        }
        if( a instanceof Set) {
          return JSON.parse(JSON.stringify([...a.values()]));
        }
        if (a instanceof Object) {
          return JSON.parse(JSON.stringify(a));
        }
        return a;
      });
    }

    const originalConsole = window.console;
    const originalConsoleLog = window.console.log;
    const originalConsoleError = window.console.error;
    const originalConsoleWarn = window.console.warn;
    const originalConsoleDebug = window.console.debug;
    window.console = {
      ...originalConsole,
      log: (message, ...args) => {
        originalConsoleLog.apply(window.console, [message, ...args]);
        const combined = serialize([message, ...args]);
        reportError({type: 'console_log', message: combined });
      },
      debug: (message, ...args) => {
        originalConsoleDebug.apply(window.console, [message, ...args]);
        const combined = serialize([message, ...args]);
        reportError({type: 'console_debug', message: combined });
      },
      error: (message, ...args) => {
        originalConsoleError.apply(window.console, [message, ...args]);
        const combined = serialize([message, ...args]);
        reportError({type: 'console_error', message: combined });
      },
      warn: (message, ...args) => {
        originalConsoleWarn.apply(window.console, [message, ...args]);
        const combined = serialize([message, ...args]);
        reportError({type: 'console_warn', message: combined });
      },
    };

    window.onerror = (message, source, lineno, colno, error) => {
      reportError({type: 'error', message: serialize([message]), source, lineno, colno, error});
    };

    window.onunhandledrejection = (event) => {
      reportError({type: 'unhandledrejection', message: serialize([event.reason])});
    };

    window.alert = (message) => {
      reportError({type: 'alert', message: serialize([message]) });
    };

    hostPort = (await bootstrapChannel).port;
    for(const error of errors) {
      hostPort.postMessage({type: 'error', message: error});
    }
  }

  const availableFiles = new Set(window.APPLET_FILES || []);

  instrumentErrorReporting();

  if (false) {
    const notifyLocationChange = async () => {
      const hostPort = (await bootstrapChannel).port;
      hostPort.postMessage({type: 'locationchange', href: location.href});
    };

    // Send initial state on load.
    notifyLocationChange();

    const originalPushState = history.pushState;
    history.pushState = (...args) => {
      originalPushState.apply(history, args);
      notifyLocationChange();
    };

    const originalReplaceState = history.replaceState;
    history.replaceState = (...args) => {
      originalReplaceState.apply(history, args);
      notifyLocationChange();
    };
    window.addEventListener('popstate', (e) => {
      notifyLocationChange();
    });
  }

  window.addEventListener('hashchange', async (e) =>{
    const config = await bootstrapChannel;
    const hostPort = config.port;
    hostPort.postMessage({type: 'hashchange', hash: window.location.hash});
    if (false) {
      hostPort.postMessage({
        type: 'locationchange',
        href: location.href,
      });
    }
  });

  if (true) {
    const script = document.createElement('script');
    script.src = 'https://cdn.jsdelivr.net/npm/html2canvas-pro';
    script.onload = () => {
      window.addEventListener('message', async (event) => {
        if (event.data?.type === 'capture-screenshot') {
          try {
            const canvas = await html2canvas(document.documentElement, {
              logging: false,
              useCORS: true,
              backgroundColor: null,
              scale: 1,
            });
            const hostPort = (await bootstrapChannel).port;
            hostPort.postMessage(
              {
                type: 'screenshot-result',
                dataUrl: canvas.toDataURL('image/png'),
                requestId: event.data.requestId,
                scrollX: document.body.scrollLeft,
                scrollY: document.body.scrollTop,
              },
            );
          } catch (e) {
            const hostPort = (await bootstrapChannel).port;
            hostPort.postMessage(
              {
                type: 'screenshot-error',
                error: e.message,
                requestId: event.data.requestId,
              });
          }
        }
      });
    };
    document.head.appendChild(script);
  }

  if (false) {
    const MAX_ANCESTOR_LEVEL = 3;
    const MAX_DESCENDANT_LEVEL = 3;

    function getElementSelector(el) {
      if (!el || el.nodeType !== 1) {
        return '';
      }
      const parts = [];
      while(el && el.nodeType === 1 && el.tagName.toLowerCase() !== 'body') {
        let part = el.tagName.toLowerCase();
        if (el.id) {
          part += '#' + CSS.escape(el.id);
        }

        const parent = el.parentElement;
        if (parent) {
          let nth = 1;
          let prev = el.previousElementSibling;
          while(prev) {
            if (prev.tagName === el.tagName) {
              nth++;
            }
            prev = prev.previousElementSibling;
          }
          part += ':nth-of-type(' + nth + ')';
        }

        parts.unshift(part);
        el = el.parentElement;
      }
      return parts.join(' > ');
    }

    function getDomTreeAsString(element, depth, maxDepth) {
      if (!element || element.nodeType !== 1 || depth > maxDepth) {
        return '';
      }
      const tagName = element.tagName.toLowerCase();
      let attrs = [];
      if (element.id) {
        attrs.push('id="' + element.id + '"');
      }
      if (element.classList.length > 0) {
        attrs.push('class="' + element.classList.value + '"');
      }
      const attrString = attrs.length > 0 ? ' ' + attrs.join(' ') : '';

      let content = '';
      for (const node of element.childNodes) {
        if (node.nodeType === 1) { // Element node
          content += getDomTreeAsString(node, depth + 1, maxDepth);
        } else if (node.nodeType === 3) { // Text node
          content += node.textContent;
        }
      }

      return '<' + tagName + attrString + '>' + content + '</' + tagName + '>';
    }

    const style = document.createElement('style');
    style.textContent =
      '.aistudio-focus-mode-highlight { box-shadow: inset 0 0 0 0.5px white, inset 0 0 0 1.5px #87a9ff !important; }' +
      '#aistudio-focus-mode-tag { position: absolute; display: none; background: #87a9ff; border-radius: 4px; border: 0.5px solid white; z-index: 10000; text-transform: lowercase; padding: 2px 4px; color: #32302c; font-family: Inter, sans-serif; font-size: 12px; font-style: normal; font-weight: 400; line-height: 16px; pointer-events: none; }';
    document.head.appendChild(style);

    let highlightedElement = null;
    let focusTag = null;
    let resizeObserver = null;
    let iframeLoaded = false;

    function positionFocusTag() {
      if (!highlightedElement || !focusTag) return;
      requestAnimationFrame(() => {
        focusTag.style.display = 'inline-flex';
        const rect = highlightedElement.getBoundingClientRect();
        focusTag.style.top =
          rect.top + window.scrollY - focusTag.offsetHeight - 5 + 'px';
        focusTag.style.left = rect.left + window.scrollX + 'px';
      });
    }

    if (window.ResizeObserver) {
      resizeObserver = new ResizeObserver(() => {
        positionFocusTag();
      });
    }

    function highlight(element) {
      if (!iframeLoaded) return; // Do not highlight if iframe is not loaded
      if (!focusTag) {
        focusTag = document.createElement('div');
        focusTag.id = 'aistudio-focus-mode-tag';
        document.body.appendChild(focusTag);
      }

      const hadHighlightedElement = !!highlightedElement;
      if (highlightedElement) {
        highlightedElement.classList.remove('aistudio-focus-mode-highlight');
        highlightedElement.removeAttribute('data-aistudio-tag-name');
        if (resizeObserver) {
          resizeObserver.unobserve(highlightedElement);
        }
      }
      focusTag.style.display = 'none';
      highlightedElement = element;
      const hasHighlightedElement = !!highlightedElement;

      if (!hadHighlightedElement && hasHighlightedElement) {
        window.addEventListener('resize', positionFocusTag);
        window.addEventListener('scroll', positionFocusTag, true);
      } else if (hadHighlightedElement && !hasHighlightedElement) {
        window.removeEventListener('resize', positionFocusTag);
        window.removeEventListener('scroll', positionFocusTag, true);
      }

      if (highlightedElement) {
        highlightedElement.setAttribute(
          'data-aistudio-tag-name',
          highlightedElement.tagName,
        );
        highlightedElement.classList.add('aistudio-focus-mode-highlight');
        focusTag.textContent = highlightedElement.tagName.toLowerCase();
        positionFocusTag();
        if (resizeObserver) {
          resizeObserver.observe(highlightedElement);
        }
      }
    }

    window.addEventListener('load', () => {
      iframeLoaded = true;
    });

    window.addEventListener('message', async (event) => {
      if (event.data?.type === 'highlight-element-at-point') {
        try {
          const element = document.elementFromPoint(
            event.data.x,
            event.data.y,
          );
          highlight(element);
        } catch (e) {
          highlight(null);
        }
      } else if (event.data?.type === 'highlight-element-by-selector') {
        try {
          const selector = event.data.selector;
          if (selector) {
            const element = document.querySelector(selector);
            highlight(element);
          } else {
            highlight(null);
          }
        } catch (e) {
          highlight(null);
        }
      } else if (event.data?.type === 'get-element-at-point') {
        try {
          const element = document.elementFromPoint(
            event.data.x,
            event.data.y,
          );
          const hostPort = (await bootstrapChannel).port;
          if (!element) {
            hostPort.postMessage({
              type: 'element-at-point-error',
              error: 'No element found at point',
              requestId: event.data.requestId,
            });
            return;
          }
          const selector = getElementSelector(element);

          let levelsUp = 0;
          let root = element;
          while(levelsUp < MAX_ANCESTOR_LEVEL && root.parentElement && root.parentElement.tagName.toLowerCase() !== 'html') {
            root = root.parentElement;
            levelsUp++;
          }
          const domString = getDomTreeAsString(root, 0, levelsUp + MAX_DESCENDANT_LEVEL);

          const styles = window.getComputedStyle(element);
          const css = {};
          for (let i = 0; i < styles.length; i++) {
            const key = styles[i];
            css[key] = styles.getPropertyValue(key);
          }
          hostPort.postMessage({
            type: 'element-at-point-result',
            element: {
              selector: selector,
              domString: domString,
              css: css,
              x: event.data.x,
              y: event.data.y,
            },
            requestId: event.data.requestId,
          });
        } catch (e) {
          const hostPort = (await bootstrapChannel).port;
          hostPort.postMessage({
            type: 'element-at-point-error',
            error: e.message,
            requestId: event.data.requestId,
          });
        }
      } else if (event.data?.type === 'change-element-style') {
        try {
          const selector = event.data.selector;
          if (selector) {
            const element = document.querySelector(selector);
            if (element) {
              element.style.setProperty(
                event.data.property,
                event.data.value,
                'important',
              );
              positionFocusTag();
            }
          }
        } catch (e) {}
      }
    });
  }

  window.addEventListener('keydown', async (event) => {
    if (event.key === 'Escape' && window.aistudio?.handleFullscreenEsc) {
      const hostPort = (await bootstrapChannel).port;
      hostPort.postMessage({type: 'exit-fullscreen'});
    }
  });
})();
// # sourceURL=iframe_shim.js
        </script>
        <base href="https://ai.studio">



    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Ne Haber Admin Panel</title>
    
    <!-- Tailwind CSS -->
    <script src="https://cdn.tailwindcss.com"></script>
    <script>
      tailwind.config = {
        theme: {
          extend: {
            fontFamily: { sans: ['Inter', 'sans-serif'] },
            colors: {
              primary: { 50: '#eff6ff', 100: '#dbeafe', 500: '#3b82f6', 600: '#2563eb', 700: '#1d4ed8', 900: '#1e3a8a' }
            }
          }
        }
      }
    </script>

    <!-- Fonts & Icons -->
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&amp;display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">

    <!-- React & Babel -->
    <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
    
    <!-- Import Map -->
    <style>*, ::before, ::after{--tw-border-spacing-x:0;--tw-border-spacing-y:0;--tw-translate-x:0;--tw-translate-y:0;--tw-rotate:0;--tw-skew-x:0;--tw-skew-y:0;--tw-scale-x:1;--tw-scale-y:1;--tw-pan-x: ;--tw-pan-y: ;--tw-pinch-zoom: ;--tw-scroll-snap-strictness:proximity;--tw-gradient-from-position: ;--tw-gradient-via-position: ;--tw-gradient-to-position: ;--tw-ordinal: ;--tw-slashed-zero: ;--tw-numeric-figure: ;--tw-numeric-spacing: ;--tw-numeric-fraction: ;--tw-ring-inset: ;--tw-ring-offset-width:0px;--tw-ring-offset-color:#fff;--tw-ring-color:rgb(59 130 246 / 0.5);--tw-ring-offset-shadow:0 0 #0000;--tw-ring-shadow:0 0 #0000;--tw-shadow:0 0 #0000;--tw-shadow-colored:0 0 #0000;--tw-blur: ;--tw-brightness: ;--tw-contrast: ;--tw-grayscale: ;--tw-hue-rotate: ;--tw-invert: ;--tw-saturate: ;--tw-sepia: ;--tw-drop-shadow: ;--tw-backdrop-blur: ;--tw-backdrop-brightness: ;--tw-backdrop-contrast: ;--tw-backdrop-grayscale: ;--tw-backdrop-hue-rotate: ;--tw-backdrop-invert: ;--tw-backdrop-opacity: ;--tw-backdrop-saturate: ;--tw-backdrop-sepia: ;--tw-contain-size: ;--tw-contain-layout: ;--tw-contain-paint: ;--tw-contain-style: }::backdrop{--tw-border-spacing-x:0;--tw-border-spacing-y:0;--tw-translate-x:0;--tw-translate-y:0;--tw-rotate:0;--tw-skew-x:0;--tw-skew-y:0;--tw-scale-x:1;--tw-scale-y:1;--tw-pan-x: ;--tw-pan-y: ;--tw-pinch-zoom: ;--tw-scroll-snap-strictness:proximity;--tw-gradient-from-position: ;--tw-gradient-via-position: ;--tw-gradient-to-position: ;--tw-ordinal: ;--tw-slashed-zero: ;--tw-numeric-figure: ;--tw-numeric-spacing: ;--tw-numeric-fraction: ;--tw-ring-inset: ;--tw-ring-offset-width:0px;--tw-ring-offset-color:#fff;--tw-ring-color:rgb(59 130 246 / 0.5);--tw-ring-offset-shadow:0 0 #0000;--tw-ring-shadow:0 0 #0000;--tw-shadow:0 0 #0000;--tw-shadow-colored:0 0 #0000;--tw-blur: ;--tw-brightness: ;--tw-contrast: ;--tw-grayscale: ;--tw-hue-rotate: ;--tw-invert: ;--tw-saturate: ;--tw-sepia: ;--tw-drop-shadow: ;--tw-backdrop-blur: ;--tw-backdrop-brightness: ;--tw-backdrop-contrast: ;--tw-backdrop-grayscale: ;--tw-backdrop-hue-rotate: ;--tw-backdrop-invert: ;--tw-backdrop-opacity: ;--tw-backdrop-saturate: ;--tw-backdrop-sepia: ;--tw-contain-size: ;--tw-contain-layout: ;--tw-contain-paint: ;--tw-contain-style: }/* ! tailwindcss v3.4.17 | MIT License | https://tailwindcss.com */*,::after,::before{box-sizing:border-box;border-width:0;border-style:solid;border-color:#e5e7eb}::after,::before{--tw-content:''}:host,html{line-height:1.5;-webkit-text-size-adjust:100%;-moz-tab-size:4;tab-size:4;font-family:Inter, sans-serif;font-feature-settings:normal;font-variation-settings:normal;-webkit-tap-highlight-color:transparent}body{margin:0;line-height:inherit}hr{height:0;color:inherit;border-top-width:1px}abbr:where([title]){-webkit-text-decoration:underline dotted;text-decoration:underline dotted}h1,h2,h3,h4,h5,h6{font-size:inherit;font-weight:inherit}a{color:inherit;text-decoration:inherit}b,strong{font-weight:bolder}code,kbd,pre,samp{font-family:ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, "Liberation Mono", "Courier New", monospace;font-feature-settings:normal;font-variation-settings:normal;font-size:1em}small{font-size:80%}sub,sup{font-size:75%;line-height:0;position:relative;vertical-align:baseline}sub{bottom:-.25em}sup{top:-.5em}table{text-indent:0;border-color:inherit;border-collapse:collapse}button,input,optgroup,select,textarea{font-family:inherit;font-feature-settings:inherit;font-variation-settings:inherit;font-size:100%;font-weight:inherit;line-height:inherit;letter-spacing:inherit;color:inherit;margin:0;padding:0}button,select{text-transform:none}button,input:where([type=button]),input:where([type=reset]),input:where([type=submit]){-webkit-appearance:button;background-color:transparent;background-image:none}:-moz-focusring{outline:auto}:-moz-ui-invalid{box-shadow:none}progress{vertical-align:baseline}::-webkit-inner-spin-button,::-webkit-outer-spin-button{height:auto}[type=search]{-webkit-appearance:textfield;outline-offset:-2px}::-webkit-search-decoration{-webkit-appearance:none}::-webkit-file-upload-button{-webkit-appearance:button;font:inherit}summary{display:list-item}blockquote,dd,dl,figure,h1,h2,h3,h4,h5,h6,hr,p,pre{margin:0}fieldset{margin:0;padding:0}legend{padding:0}menu,ol,ul{list-style:none;margin:0;padding:0}dialog{padding:0}textarea{resize:vertical}input::placeholder,textarea::placeholder{opacity:1;color:#9ca3af}[role=button],button{cursor:pointer}:disabled{cursor:default}audio,canvas,embed,iframe,img,object,svg,video{display:block;vertical-align:middle}img,video{max-width:100%;height:auto}[hidden]:where(:not([hidden=until-found])){display:none}.relative{position:relative}.mb-1{margin-bottom:0.25rem}.mb-4{margin-bottom:1rem}.mb-6{margin-bottom:1.5rem}.mr-2{margin-right:0.5rem}.mt-8{margin-top:2rem}.block{display:block}.flex{display:flex}.inline-flex{display:inline-flex}.h-12{height:3rem}.h-20{height:5rem}.min-h-screen{min-height:100vh}.w-12{width:3rem}.w-20{width:5rem}.w-full{width:100%}.max-w-lg{max-width:32rem}@keyframes spin{to{transform:rotate(360deg)}}.animate-spin{animation:spin 1s linear infinite}@keyframes pulse{50%{opacity:.5}}.animate-pulse{animation:pulse 2s cubic-bezier(0.4, 0, 0.6, 1) infinite}.flex-col{flex-direction:column}.items-center{align-items:center}.justify-center{justify-content:center}.gap-3{gap:0.75rem}.space-y-3 > :not([hidden]) ~ :not([hidden]){--tw-space-y-reverse:0;margin-top:calc(0.75rem * calc(1 - var(--tw-space-y-reverse)));margin-bottom:calc(0.75rem * var(--tw-space-y-reverse))}.overflow-hidden{overflow:hidden}.rounded-full{border-radius:9999px}.rounded-2xl{border-radius:1rem}.rounded-lg{border-radius:0.5rem}.border{border-width:1px}.border-b-2{border-bottom-width:2px}.border-primary-600{--tw-border-opacity:1;border-color:rgb(37 99 235 / var(--tw-border-opacity, 1))}.border-red-800\/50{border-color:rgb(153 27 27 / 0.5)}.border-slate-700{--tw-border-opacity:1;border-color:rgb(51 65 85 / var(--tw-border-opacity, 1))}.bg-gray-50{--tw-bg-opacity:1;background-color:rgb(249 250 251 / var(--tw-bg-opacity, 1))}.bg-slate-50{--tw-bg-opacity:1;background-color:rgb(248 250 252 / var(--tw-bg-opacity, 1))}.bg-red-600\/80{background-color:rgb(220 38 38 / 0.8)}.bg-red-900\/30{background-color:rgb(127 29 29 / 0.3)}.bg-slate-700{--tw-bg-opacity:1;background-color:rgb(51 65 85 / var(--tw-bg-opacity, 1))}.bg-slate-800{--tw-bg-opacity:1;background-color:rgb(30 41 59 / var(--tw-bg-opacity, 1))}.bg-slate-900{--tw-bg-opacity:1;background-color:rgb(15 23 42 / var(--tw-bg-opacity, 1))}.bg-slate-900\/50{background-color:rgb(15 23 42 / 0.5)}.p-4{padding:1rem}.p-8{padding:2rem}.py-3{padding-top:0.75rem;padding-bottom:0.75rem}.text-left{text-align:left}.text-center{text-align:center}.text-2xl{font-size:1.5rem;line-height:2rem}.text-4xl{font-size:2.25rem;line-height:2.5rem}.text-sm{font-size:0.875rem;line-height:1.25rem}.font-bold{font-weight:700}.font-medium{font-weight:500}.leading-relaxed{line-height:1.625}.text-slate-800{--tw-text-opacity:1;color:rgb(30 41 59 / var(--tw-text-opacity, 1))}.text-red-500{--tw-text-opacity:1;color:rgb(239 68 68 / var(--tw-text-opacity, 1))}.text-slate-300{--tw-text-opacity:1;color:rgb(203 213 225 / var(--tw-text-opacity, 1))}.text-slate-400{--tw-text-opacity:1;color:rgb(148 163 184 / var(--tw-text-opacity, 1))}.text-white{--tw-text-opacity:1;color:rgb(255 255 255 / var(--tw-text-opacity, 1))}.antialiased{-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale}.shadow-2xl{--tw-shadow:0 25px 50px -12px rgb(0 0 0 / 0.25);--tw-shadow-colored:0 25px 50px -12px var(--tw-shadow-color);box-shadow:var(--tw-ring-offset-shadow, 0 0 #0000), var(--tw-ring-shadow, 0 0 #0000), var(--tw-shadow)}.transition-colors{transition-property:color, background-color, border-color, fill, stroke, -webkit-text-decoration-color;transition-property:color, background-color, border-color, text-decoration-color, fill, stroke;transition-property:color, background-color, border-color, text-decoration-color, fill, stroke, -webkit-text-decoration-color;transition-timing-function:cubic-bezier(0.4, 0, 0.2, 1);transition-duration:150ms}.hover\:bg-red-600:hover{--tw-bg-opacity:1;background-color:rgb(220 38 38 / var(--tw-bg-opacity, 1))}.hover\:bg-slate-600:hover{--tw-bg-opacity:1;background-color:rgb(71 85 105 / var(--tw-bg-opacity, 1))}</style><script src="https://cdn.jsdelivr.net/npm/html2canvas-pro"></script><script type="module">function ownKeys(e, r) { var t = Object.keys(e); if (Object.getOwnPropertySymbols) { var o = Object.getOwnPropertySymbols(e); r && (o = o.filter(function (r) { return Object.getOwnPropertyDescriptor(e, r).enumerable; })), t.push.apply(t, o); } return t; }
function _objectSpread(e) { for (var r = 1; r < arguments.length; r++) { var t = null != arguments[r] ? arguments[r] : {}; r % 2 ? ownKeys(Object(t), !0).forEach(function (r) { _defineProperty(e, r, t[r]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(e, Object.getOwnPropertyDescriptors(t)) : ownKeys(Object(t)).forEach(function (r) { Object.defineProperty(e, r, Object.getOwnPropertyDescriptor(t, r)); }); } return e; }
function _defineProperty(e, r, t) { return (r = _toPropertyKey(r)) in e ? Object.defineProperty(e, r, { value: t, enumerable: !0, configurable: !0, writable: !0 }) : e[r] = t, e; }
function _toPropertyKey(t) { var i = _toPrimitive(t, "string"); return "symbol" == typeof i ? i : i + ""; }
function _toPrimitive(t, r) { if ("object" != typeof t || !t) return t; var e = t[Symbol.toPrimitive]; if (void 0 !== e) { var i = e.call(t, r || "default"); if ("object" != typeof i) return i; throw new TypeError("@@toPrimitive must return a primitive value."); } return ("string" === r ? String : Number)(t); }
function asyncGeneratorStep(n, t, e, r, o, a, c) { try { var i = n[a](c), u = i.value; } catch (n) { return void e(n); } i.done ? t(u) : Promise.resolve(u).then(r, o); }
function _asyncToGenerator(n) { return function () { var t = this, e = arguments; return new Promise(function (r, o) { var a = n.apply(t, e); function _next(n) { asyncGeneratorStep(a, r, o, _next, _throw, "next", n); } function _throw(n) { asyncGeneratorStep(a, r, o, _next, _throw, "throw", n); } _next(void 0); }); }; }
import React, { useState, useEffect, useRef } from 'react';
import ReactDOM from 'react-dom/client';
import { initializeApp } from "firebase/app";
import { getAuth, GoogleAuthProvider, signInWithPopup, onAuthStateChanged, signOut } from "firebase/auth";
import { getFirestore, collection, doc, addDoc, updateDoc, deleteDoc, onSnapshot, query, orderBy } from "firebase/firestore";

// --- FIREBASE CONFIGURATION ---
var firebaseConfig = {
  apiKey: "AIzaSyAsxn43MPQiDJlHjNJ3zlGtEKo57G28KuQ",
  authDomain: "ne-haber-web.firebaseapp.com",
  projectId: "ne-haber-web",
  storageBucket: "ne-haber-web.firebasestorage.app",
  messagingSenderId: "690913738782",
  appId: "1:690913738782:web:91a39c8d8e0fa96307ee0f",
  measurementId: "G-18Q4ELPE3P"
};
var app = initializeApp(firebaseConfig);
var auth = getAuth(app);
var db = getFirestore(app);

// --- FIREBASE SERVICES ---
var signInWithGoogle = /*#__PURE__*/function () {
  var _ref = _asyncToGenerator(function* () {
    var provider = new GoogleAuthProvider();
    return signInWithPopup(auth, provider);
  });
  return function signInWithGoogle() {
    return _ref.apply(this, arguments);
  };
}();
var toggleUserVerification = /*#__PURE__*/function () {
  var _ref2 = _asyncToGenerator(function* (userId, currentStatus) {
    var userRef = doc(db, 'users', userId);
    yield updateDoc(userRef, {
      isVerified: !currentStatus
    });
  });
  return function toggleUserVerification(_x, _x2) {
    return _ref2.apply(this, arguments);
  };
}();
var banUser = /*#__PURE__*/function () {
  var _ref3 = _asyncToGenerator(function* (userId, durationInHours) {
    var userRef = doc(db, 'users', userId);
    var banData = {
      isBanned: true,
      banUntil: durationInHours ? Date.now() + durationInHours * 60 * 60 * 1000 : null
    };
    yield updateDoc(userRef, banData);
  });
  return function banUser(_x3, _x4) {
    return _ref3.apply(this, arguments);
  };
}();
var unbanUser = /*#__PURE__*/function () {
  var _ref4 = _asyncToGenerator(function* (userId) {
    var userRef = doc(db, 'users', userId);
    yield updateDoc(userRef, {
      isBanned: false,
      banUntil: null
    });
  });
  return function unbanUser(_x5) {
    return _ref4.apply(this, arguments);
  };
}();
var createAnnouncement = /*#__PURE__*/function () {
  var _ref5 = _asyncToGenerator(function* (title, content, author) {
    var announcementsRef = collection(db, 'announcements');
    yield addDoc(announcementsRef, {
      title,
      content,
      author,
      createdAt: Date.now(),
      active: true
    });
  });
  return function createAnnouncement(_x6, _x7, _x8) {
    return _ref5.apply(this, arguments);
  };
}();
var deleteAnnouncement = /*#__PURE__*/function () {
  var _ref6 = _asyncToGenerator(function* (id) {
    var annRef = doc(db, 'announcements', id);
    yield deleteDoc(annRef);
  });
  return function deleteAnnouncement(_x9) {
    return _ref6.apply(this, arguments);
  };
}();
var sendAdminMessage = /*#__PURE__*/function () {
  var _ref7 = _asyncToGenerator(function* (text, adminName) {
    var chatRef = collection(db, 'globalChat');
    yield addDoc(chatRef, {
      text,
      userId: 'ADMIN',
      displayName: adminName,
      timestamp: Date.now(),
      isAdmin: true
    });
  });
  return function sendAdminMessage(_x0, _x1) {
    return _ref7.apply(this, arguments);
  };
}();
var deleteChatMessage = /*#__PURE__*/function () {
  var _ref8 = _asyncToGenerator(function* (id) {
    var msgRef = doc(db, 'globalChat', id);
    yield deleteDoc(msgRef);
  });
  return function deleteChatMessage(_x10) {
    return _ref8.apply(this, arguments);
  };
}();

// --- ENUMS ---
var AdminView = {
  DASHBOARD: 'DASHBOARD',
  USERS: 'USERS',
  ANNOUNCEMENTS: 'ANNOUNCEMENTS',
  CHAT: 'CHAT'
};

// --- COMPONENTS ---

// 1. Sidebar
var Sidebar = _ref9 => {
  var {
    currentView,
    onChangeView,
    onLogout
  } = _ref9;
  var menuItems = [{
    id: AdminView.DASHBOARD,
    label: 'Panel Özeti',
    icon: 'fa-chart-line'
  }, {
    id: AdminView.USERS,
    label: 'Kullanıcı Yönetimi',
    icon: 'fa-users'
  }, {
    id: AdminView.ANNOUNCEMENTS,
    label: 'Duyurular',
    icon: 'fa-bullhorn'
  }, {
    id: AdminView.CHAT,
    label: 'Global Sohbet',
    icon: 'fa-comments'
  }];
  var handleDownloadCode = () => {
    var element = document.createElement("a");
    var file = new Blob([document.documentElement.outerHTML], {
      type: 'text/html'
    });
    element.href = URL.createObjectURL(file);
    element.download = "ne-haber-admin.html";
    document.body.appendChild(element);
    element.click();
    document.body.removeChild(element);
  };
  return /*#__PURE__*/React.createElement("div", {
    className: "w-64 bg-slate-900 text-white flex flex-col h-screen fixed left-0 top-0 shadow-xl z-10"
  }, /*#__PURE__*/React.createElement("div", {
    className: "p-6 border-b border-slate-800 flex items-center gap-3"
  }, /*#__PURE__*/React.createElement("div", {
    className: "w-8 h-8 bg-primary-500 rounded-lg flex items-center justify-center"
  }, /*#__PURE__*/React.createElement("i", {
    className: "fa-solid fa-shield-halved text-white text-sm"
  })), /*#__PURE__*/React.createElement("h1", {
    className: "text-xl font-bold tracking-tight"
  }, "Ne Haber", /*#__PURE__*/React.createElement("span", {
    className: "text-primary-500"
  }, ".Admin"))), /*#__PURE__*/React.createElement("div", {
    className: "px-4 pt-6"
  }, /*#__PURE__*/React.createElement("button", {
    onClick: handleDownloadCode,
    className: "w-full flex items-center justify-center gap-2 px-4 py-3 bg-green-600 text-white hover:bg-green-700 rounded-xl transition-all shadow-lg shadow-green-900/20 font-bold group"
  }, /*#__PURE__*/React.createElement("i", {
    className: "fa-solid fa-download group-hover:scale-110 transition-transform"
  }), /*#__PURE__*/React.createElement("span", null, "Kodu \u0130ndir / Yedekle"))), /*#__PURE__*/React.createElement("nav", {
    className: "flex-1 p-4 space-y-2"
  }, menuItems.map(item => /*#__PURE__*/React.createElement("button", {
    key: item.id,
    onClick: () => onChangeView(item.id),
    className: "w-full flex items-center gap-3 px-4 py-3 rounded-xl transition-all duration-200 group ".concat(currentView === item.id ? 'bg-primary-600 text-white shadow-lg shadow-primary-900/50' : 'text-slate-400 hover:bg-slate-800 hover:text-white')
  }, /*#__PURE__*/React.createElement("i", {
    className: "fa-solid ".concat(item.icon, " w-5 text-center transition-transform group-hover:scale-110")
  }), /*#__PURE__*/React.createElement("span", {
    className: "font-medium"
  }, item.label)))), /*#__PURE__*/React.createElement("div", {
    className: "p-4 border-t border-slate-800 space-y-2"
  }, /*#__PURE__*/React.createElement("button", {
    onClick: onLogout,
    className: "w-full flex items-center gap-2 px-4 py-2 text-slate-400 hover:text-red-400 hover:bg-slate-800/50 rounded-lg transition-colors"
  }, /*#__PURE__*/React.createElement("i", {
    className: "fa-solid fa-right-from-bracket"
  }), /*#__PURE__*/React.createElement("span", null, "\xC7\u0131k\u0131\u015F Yap"))));
};

// 2. Dashboard
var Dashboard = _ref0 => {
  var {
    userCount,
    onlineCount,
    messageCount
  } = _ref0;
  return /*#__PURE__*/React.createElement("div", {
    className: "space-y-6"
  }, /*#__PURE__*/React.createElement("h2", {
    className: "text-2xl font-bold text-slate-800"
  }, "Panel \xD6zeti"), /*#__PURE__*/React.createElement("div", {
    className: "grid grid-cols-1 md:grid-cols-3 gap-6"
  }, /*#__PURE__*/React.createElement("div", {
    className: "bg-white p-6 rounded-2xl shadow-sm border border-slate-100 flex items-center gap-4"
  }, /*#__PURE__*/React.createElement("div", {
    className: "w-12 h-12 rounded-full bg-blue-100 flex items-center justify-center text-blue-600"
  }, /*#__PURE__*/React.createElement("i", {
    className: "fa-solid fa-users text-xl"
  })), /*#__PURE__*/React.createElement("div", null, /*#__PURE__*/React.createElement("p", {
    className: "text-sm text-slate-500 font-medium"
  }, "Toplam Kullan\u0131c\u0131"), /*#__PURE__*/React.createElement("p", {
    className: "text-2xl font-bold text-slate-900"
  }, userCount))), /*#__PURE__*/React.createElement("div", {
    className: "bg-white p-6 rounded-2xl shadow-sm border border-slate-100 flex items-center gap-4"
  }, /*#__PURE__*/React.createElement("div", {
    className: "w-12 h-12 rounded-full bg-green-100 flex items-center justify-center text-green-600"
  }, /*#__PURE__*/React.createElement("i", {
    className: "fa-solid fa-circle text-xl animate-pulse"
  })), /*#__PURE__*/React.createElement("div", null, /*#__PURE__*/React.createElement("p", {
    className: "text-sm text-slate-500 font-medium"
  }, "Aktif Mesajlar"), /*#__PURE__*/React.createElement("p", {
    className: "text-2xl font-bold text-slate-900"
  }, messageCount))), /*#__PURE__*/React.createElement("div", {
    className: "bg-white p-6 rounded-2xl shadow-sm border border-slate-100 flex items-center gap-4"
  }, /*#__PURE__*/React.createElement("div", {
    className: "w-12 h-12 rounded-full bg-purple-100 flex items-center justify-center text-purple-600"
  }, /*#__PURE__*/React.createElement("i", {
    className: "fa-solid fa-server text-xl"
  })), /*#__PURE__*/React.createElement("div", null, /*#__PURE__*/React.createElement("p", {
    className: "text-sm text-slate-500 font-medium"
  }, "Sistem Durumu"), /*#__PURE__*/React.createElement("p", {
    className: "text-2xl font-bold text-slate-900"
  }, "Aktif")))), /*#__PURE__*/React.createElement("div", {
    className: "bg-gradient-to-r from-slate-800 to-slate-900 rounded-2xl p-8 text-white relative overflow-hidden"
  }, /*#__PURE__*/React.createElement("div", {
    className: "relative z-10"
  }, /*#__PURE__*/React.createElement("h3", {
    className: "text-xl font-bold mb-2"
  }, "Ho\u015Fgeldiniz, Admin"), /*#__PURE__*/React.createElement("p", {
    className: "text-slate-300 max-w-lg"
  }, "Bu panel \xFCzerinden kullan\u0131c\u0131lar\u0131 y\xF6netebilir, yasaklama i\u015Flemlerini ger\xE7ekle\u015Ftirebilir ve global duyurular yay\u0131nlayabilirsiniz.")), /*#__PURE__*/React.createElement("div", {
    className: "absolute right-0 bottom-0 opacity-10 transform translate-x-10 translate-y-10"
  }, /*#__PURE__*/React.createElement("i", {
    className: "fa-solid fa-fingerprint text-9xl"
  }))));
};

// 3. UserManagement
var UserManagement = _ref1 => {
  var {
    users
  } = _ref1;
  var [searchTerm, setSearchTerm] = useState('');
  var [selectedUserForBan, setSelectedUserForBan] = useState(null);
  var filteredUsers = users.filter(u => (u.displayName || '').toLowerCase().includes(searchTerm.toLowerCase()) || (u.email || '').toLowerCase().includes(searchTerm.toLowerCase()));
  var handleBanClick = /*#__PURE__*/function () {
    var _ref10 = _asyncToGenerator(function* (user) {
      if (user.isBanned) {
        if (window.confirm("".concat(user.displayName, " kullan\u0131c\u0131s\u0131n\u0131n yasa\u011F\u0131n\u0131 kald\u0131rmak istiyor musunuz?"))) {
          try {
            yield unbanUser(user.uid);
          } catch (error) {
            console.error(error);
            alert("İşlem başarısız: " + error.code);
          }
        }
      } else {
        setSelectedUserForBan(user);
      }
    });
    return function handleBanClick(_x11) {
      return _ref10.apply(this, arguments);
    };
  }();
  var confirmBan = /*#__PURE__*/function () {
    var _ref11 = _asyncToGenerator(function* (duration) {
      if (selectedUserForBan) {
        try {
          yield banUser(selectedUserForBan.uid, duration);
          setSelectedUserForBan(null);
        } catch (error) {
          console.error(error);
          alert("İşlem başarısız: " + error.code);
        }
      }
    });
    return function confirmBan(_x12) {
      return _ref11.apply(this, arguments);
    };
  }();
  var handleToggleVerification = /*#__PURE__*/function () {
    var _ref12 = _asyncToGenerator(function* (uid, currentStatus) {
      try {
        yield toggleUserVerification(uid, currentStatus);
      } catch (error) {
        console.error(error);
        alert("İşlem başarısız: " + error.code);
      }
    });
    return function handleToggleVerification(_x13, _x14) {
      return _ref12.apply(this, arguments);
    };
  }();
  return /*#__PURE__*/React.createElement("div", {
    className: "space-y-6"
  }, /*#__PURE__*/React.createElement("div", {
    className: "flex justify-between items-center"
  }, /*#__PURE__*/React.createElement("h2", {
    className: "text-2xl font-bold text-slate-800"
  }, "Kullan\u0131c\u0131 Y\xF6netimi"), /*#__PURE__*/React.createElement("div", {
    className: "relative"
  }, /*#__PURE__*/React.createElement("input", {
    type: "text",
    placeholder: "Kullan\u0131c\u0131 ara...",
    className: "pl-10 pr-4 py-2 border border-slate-300 rounded-lg focus:ring-2 focus:ring-primary-500 outline-none w-64",
    value: searchTerm,
    onChange: e => setSearchTerm(e.target.value)
  }), /*#__PURE__*/React.createElement("i", {
    className: "fa-solid fa-search absolute left-3 top-3 text-slate-400"
  }))), /*#__PURE__*/React.createElement("div", {
    className: "bg-white rounded-xl shadow-sm border border-slate-200 overflow-hidden"
  }, /*#__PURE__*/React.createElement("table", {
    className: "min-w-full divide-y divide-slate-200"
  }, /*#__PURE__*/React.createElement("thead", {
    className: "bg-slate-50"
  }, /*#__PURE__*/React.createElement("tr", null, /*#__PURE__*/React.createElement("th", {
    className: "px-6 py-3 text-left text-xs font-bold text-slate-500 uppercase"
  }, "Kullan\u0131c\u0131"), /*#__PURE__*/React.createElement("th", {
    className: "px-6 py-3 text-left text-xs font-bold text-slate-500 uppercase"
  }, "Durum"), /*#__PURE__*/React.createElement("th", {
    className: "px-6 py-3 text-left text-xs font-bold text-slate-500 uppercase"
  }, "Mavi Tik"), /*#__PURE__*/React.createElement("th", {
    className: "px-6 py-3 text-right text-xs font-bold text-slate-500 uppercase"
  }, "\u0130\u015Flemler"))), /*#__PURE__*/React.createElement("tbody", {
    className: "bg-white divide-y divide-slate-200"
  }, filteredUsers.length === 0 ? /*#__PURE__*/React.createElement("tr", null, /*#__PURE__*/React.createElement("td", {
    colSpan: 4,
    className: "px-6 py-8 text-center text-slate-500"
  }, "Kullan\u0131c\u0131 bulunamad\u0131.")) : filteredUsers.map(user => /*#__PURE__*/React.createElement("tr", {
    key: user.uid,
    className: "hover:bg-slate-50 transition-colors"
  }, /*#__PURE__*/React.createElement("td", {
    className: "px-6 py-4 whitespace-nowrap"
  }, /*#__PURE__*/React.createElement("div", {
    className: "flex items-center"
  }, /*#__PURE__*/React.createElement("div", {
    className: "h-10 w-10 flex-shrink-0 bg-slate-200 rounded-full flex items-center justify-center text-slate-500 font-bold overflow-hidden"
  }, user.photoURL ? /*#__PURE__*/React.createElement("img", {
    src: user.photoURL,
    className: "w-full h-full object-cover"
  }) : user.displayName ? user.displayName.charAt(0).toUpperCase() : '?'), /*#__PURE__*/React.createElement("div", {
    className: "ml-4"
  }, /*#__PURE__*/React.createElement("div", {
    className: "text-sm font-medium text-slate-900 flex items-center gap-1"
  }, user.displayName || 'İsimsiz Kullanıcı', user.isVerified && /*#__PURE__*/React.createElement("i", {
    className: "fa-solid fa-circle-check text-blue-500 text-xs"
  })), /*#__PURE__*/React.createElement("div", {
    className: "text-sm text-slate-500"
  }, user.email)))), /*#__PURE__*/React.createElement("td", {
    className: "px-6 py-4 whitespace-nowrap"
  }, user.isBanned ? /*#__PURE__*/React.createElement("span", {
    className: "px-2 inline-flex text-xs leading-5 font-semibold rounded-full bg-red-100 text-red-800"
  }, "Yasakl\u0131 ", user.banUntil ? "(Biti\u015F: ".concat(new Date(user.banUntil).toLocaleDateString(), ")") : '(Sınırsız)') : /*#__PURE__*/React.createElement("span", {
    className: "px-2 inline-flex text-xs leading-5 font-semibold rounded-full bg-green-100 text-green-800"
  }, "Aktif")), /*#__PURE__*/React.createElement("td", {
    className: "px-6 py-4 whitespace-nowrap"
  }, /*#__PURE__*/React.createElement("button", {
    onClick: () => handleToggleVerification(user.uid, user.isVerified || false),
    className: "text-2xl transition-colors ".concat(user.isVerified ? 'text-blue-500' : 'text-slate-200 hover:text-blue-300')
  }, /*#__PURE__*/React.createElement("i", {
    className: "fa-solid fa-circle-check"
  }))), /*#__PURE__*/React.createElement("td", {
    className: "px-6 py-4 whitespace-nowrap text-right text-sm font-medium"
  }, /*#__PURE__*/React.createElement("button", {
    onClick: () => handleBanClick(user),
    className: "px-3 py-1 rounded-md text-white text-xs font-bold uppercase transition-colors ".concat(user.isBanned ? 'bg-slate-500' : 'bg-red-500 hover:bg-red-600')
  }, user.isBanned ? 'Yasağı Kaldır' : 'Yasakla'))))))), selectedUserForBan && /*#__PURE__*/React.createElement("div", {
    className: "fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50"
  }, /*#__PURE__*/React.createElement("div", {
    className: "bg-white rounded-xl shadow-2xl p-6 w-96 max-w-full m-4"
  }, /*#__PURE__*/React.createElement("h3", {
    className: "text-lg font-bold text-slate-800 mb-4"
  }, "Kullan\u0131c\u0131y\u0131 Yasakla: ", /*#__PURE__*/React.createElement("span", {
    className: "text-primary-600"
  }, selectedUserForBan.displayName)), /*#__PURE__*/React.createElement("div", {
    className: "space-y-3"
  }, /*#__PURE__*/React.createElement("button", {
    onClick: () => confirmBan(24),
    className: "w-full p-3 text-left border rounded-lg hover:bg-slate-50 flex justify-between items-center group"
  }, /*#__PURE__*/React.createElement("span", null, "24 Saat"), /*#__PURE__*/React.createElement("i", {
    className: "fa-regular fa-clock text-slate-400 group-hover:text-primary-500"
  })), /*#__PURE__*/React.createElement("button", {
    onClick: () => confirmBan(168),
    className: "w-full p-3 text-left border rounded-lg hover:bg-slate-50 flex justify-between items-center group"
  }, /*#__PURE__*/React.createElement("span", null, "1 Hafta"), /*#__PURE__*/React.createElement("i", {
    className: "fa-solid fa-calendar-week text-slate-400 group-hover:text-primary-500"
  })), /*#__PURE__*/React.createElement("button", {
    onClick: () => confirmBan(null),
    className: "w-full p-3 text-left border border-red-200 bg-red-50 rounded-lg hover:bg-red-100 flex justify-between items-center group text-red-700 font-medium"
  }, /*#__PURE__*/React.createElement("span", null, "S\u0131n\u0131rs\u0131z"), /*#__PURE__*/React.createElement("i", {
    className: "fa-solid fa-ban text-red-400 group-hover:text-red-600"
  }))), /*#__PURE__*/React.createElement("div", {
    className: "mt-6 flex justify-end"
  }, /*#__PURE__*/React.createElement("button", {
    onClick: () => setSelectedUserForBan(null),
    className: "px-4 py-2 text-slate-500 hover:bg-slate-100 rounded-lg transition-colors"
  }, "\u0130ptal")))));
};

// 4. Announcements
var Announcements = _ref13 => {
  var {
    announcements
  } = _ref13;
  var [title, setTitle] = useState('');
  var [content, setContent] = useState('');
  var [isSubmitting, setIsSubmitting] = useState(false);
  var handleSubmit = /*#__PURE__*/function () {
    var _ref14 = _asyncToGenerator(function* (e) {
      e.preventDefault();
      if (!title.trim() || !content.trim()) return;
      setIsSubmitting(true);
      try {
        yield createAnnouncement(title, content, "Admin");
        setTitle('');
        setContent('');
      } catch (error) {
        console.error(error);
        alert("Duyuru yayınlanamadı: " + error.code);
      } finally {
        setIsSubmitting(false);
      }
    });
    return function handleSubmit(_x15) {
      return _ref14.apply(this, arguments);
    };
  }();
  var handleDelete = /*#__PURE__*/function () {
    var _ref15 = _asyncToGenerator(function* (id) {
      if (window.confirm("Bu duyuruyu silmek istediğinize emin misiniz?")) {
        try {
          yield deleteAnnouncement(id);
        } catch (error) {
          console.error(error);
          alert("Silme başarısız: " + error.code);
        }
      }
    });
    return function handleDelete(_x16) {
      return _ref15.apply(this, arguments);
    };
  }();
  return /*#__PURE__*/React.createElement("div", {
    className: "grid grid-cols-1 lg:grid-cols-3 gap-8"
  }, /*#__PURE__*/React.createElement("div", {
    className: "lg:col-span-1"
  }, /*#__PURE__*/React.createElement("div", {
    className: "bg-white p-6 rounded-xl shadow-sm border border-slate-200 sticky top-4"
  }, /*#__PURE__*/React.createElement("h2", {
    className: "text-xl font-bold text-slate-800 mb-4 flex items-center gap-2"
  }, /*#__PURE__*/React.createElement("i", {
    className: "fa-solid fa-pen-nib text-primary-500"
  }), " Yeni Duyuru"), /*#__PURE__*/React.createElement("form", {
    onSubmit: handleSubmit,
    className: "space-y-4"
  }, /*#__PURE__*/React.createElement("div", null, /*#__PURE__*/React.createElement("label", {
    className: "block text-sm font-medium text-slate-700 mb-1"
  }, "Ba\u015Fl\u0131k"), /*#__PURE__*/React.createElement("input", {
    type: "text",
    value: title,
    onChange: e => setTitle(e.target.value),
    className: "w-full px-4 py-2 border border-slate-300 rounded-lg focus:ring-2 focus:ring-primary-500 outline-none",
    placeholder: "\xD6rn: Sunucu Bak\u0131m\u0131"
  })), /*#__PURE__*/React.createElement("div", null, /*#__PURE__*/React.createElement("label", {
    className: "block text-sm font-medium text-slate-700 mb-1"
  }, "\u0130\xE7erik"), /*#__PURE__*/React.createElement("textarea", {
    value: content,
    onChange: e => setContent(e.target.value),
    rows: 5,
    className: "w-full px-4 py-2 border border-slate-300 rounded-lg focus:ring-2 focus:ring-primary-500 outline-none resize-none",
    placeholder: "Duyuru metni..."
  })), /*#__PURE__*/React.createElement("button", {
    type: "submit",
    disabled: isSubmitting,
    className: "w-full bg-primary-600 text-white py-2 px-4 rounded-lg hover:bg-primary-700 transition-colors disabled:opacity-50 font-medium"
  }, isSubmitting ? 'Yayınlanıyor...' : 'Yayınla')))), /*#__PURE__*/React.createElement("div", {
    className: "lg:col-span-2 space-y-4"
  }, /*#__PURE__*/React.createElement("h2", {
    className: "text-xl font-bold text-slate-800 mb-4"
  }, "Aktif Duyurular"), announcements.length === 0 ? /*#__PURE__*/React.createElement("div", {
    className: "text-center py-12 bg-slate-50 rounded-xl border border-dashed border-slate-300 text-slate-500"
  }, /*#__PURE__*/React.createElement("i", {
    className: "fa-regular fa-newspaper text-3xl mb-2"
  }), /*#__PURE__*/React.createElement("p", null, "Hen\xFCz duyuru olu\u015Fturulmam\u0131\u015F.")) : announcements.sort((a, b) => b.createdAt - a.createdAt).map(ann => /*#__PURE__*/React.createElement("div", {
    key: ann.id,
    className: "bg-white p-6 rounded-xl shadow-sm border border-slate-200 group hover:border-primary-200 transition-all"
  }, /*#__PURE__*/React.createElement("div", {
    className: "flex justify-between items-start mb-2"
  }, /*#__PURE__*/React.createElement("h3", {
    className: "font-bold text-lg text-slate-900"
  }, ann.title), /*#__PURE__*/React.createElement("button", {
    onClick: () => handleDelete(ann.id),
    className: "text-slate-400 hover:text-red-500 opacity-0 group-hover:opacity-100 transition-all p-1"
  }, /*#__PURE__*/React.createElement("i", {
    className: "fa-solid fa-trash-can"
  }))), /*#__PURE__*/React.createElement("p", {
    className: "text-slate-600 text-sm leading-relaxed whitespace-pre-wrap"
  }, ann.content), /*#__PURE__*/React.createElement("div", {
    className: "mt-4 flex items-center gap-2 text-xs text-slate-400 font-medium border-t border-slate-100 pt-3"
  }, /*#__PURE__*/React.createElement("i", {
    className: "fa-regular fa-clock"
  }), /*#__PURE__*/React.createElement("span", null, new Date(ann.createdAt).toLocaleString()))))));
};

// 5. GlobalChat
var GlobalChat = _ref16 => {
  var {
    messages
  } = _ref16;
  var [adminMsg, setAdminMsg] = useState('');
  var messagesEndRef = useRef(null);
  useEffect(() => {
    if (messagesEndRef.current) {
      messagesEndRef.current.scrollIntoView({
        behavior: "smooth"
      });
    }
  }, [messages]);
  var handleSend = /*#__PURE__*/function () {
    var _ref17 = _asyncToGenerator(function* (e) {
      e.preventDefault();
      if (!adminMsg.trim()) return;
      try {
        yield sendAdminMessage(adminMsg, "Sistem Admini");
        setAdminMsg('');
      } catch (error) {
        console.error(error);
        alert("Mesaj gönderilemedi: " + error.code);
      }
    });
    return function handleSend(_x17) {
      return _ref17.apply(this, arguments);
    };
  }();
  var handleDelete = /*#__PURE__*/function () {
    var _ref18 = _asyncToGenerator(function* (id) {
      if (window.confirm("Bu mesajı silmek istediğinize emin misiniz?")) {
        try {
          yield deleteChatMessage(id);
        } catch (error) {
          console.error(error);
          alert("Silme başarısız: " + error.code);
        }
      }
    });
    return function handleDelete(_x18) {
      return _ref18.apply(this, arguments);
    };
  }();
  var sortedMessages = [...messages].sort((a, b) => a.timestamp - b.timestamp);
  return /*#__PURE__*/React.createElement("div", {
    className: "flex flex-col h-[calc(100vh-8rem)] bg-white rounded-xl shadow-sm border border-slate-200 overflow-hidden"
  }, /*#__PURE__*/React.createElement("div", {
    className: "p-4 border-b border-slate-200 bg-slate-50 flex justify-between items-center"
  }, /*#__PURE__*/React.createElement("h2", {
    className: "font-bold text-slate-800 flex items-center gap-2"
  }, /*#__PURE__*/React.createElement("i", {
    className: "fa-solid fa-comments text-primary-500"
  }), " Canl\u0131 Global Sohbet"), /*#__PURE__*/React.createElement("span", {
    className: "text-xs font-bold bg-green-100 text-green-700 px-2 py-1 rounded-full flex items-center gap-1"
  }, /*#__PURE__*/React.createElement("span", {
    className: "w-2 h-2 bg-green-500 rounded-full animate-pulse"
  }), "Canl\u0131 Ak\u0131\u015F")), /*#__PURE__*/React.createElement("div", {
    className: "flex-1 overflow-y-auto p-4 space-y-4 bg-slate-50/50"
  }, sortedMessages.length === 0 ? /*#__PURE__*/React.createElement("div", {
    className: "flex h-full items-center justify-center text-slate-400"
  }, /*#__PURE__*/React.createElement("p", null, "Hen\xFCz mesaj yok.")) : sortedMessages.map(msg => /*#__PURE__*/React.createElement("div", {
    key: msg.id,
    className: "flex gap-3 group ".concat(msg.isAdmin ? 'justify-end' : '')
  }, !msg.isAdmin && /*#__PURE__*/React.createElement("div", {
    className: "w-8 h-8 bg-slate-200 rounded-full flex items-center justify-center text-xs font-bold text-slate-600 flex-shrink-0"
  }, msg.displayName ? msg.displayName.charAt(0).toUpperCase() : '?'), /*#__PURE__*/React.createElement("div", {
    className: "max-w-[70%] relative group"
  }, /*#__PURE__*/React.createElement("div", {
    className: "p-3 rounded-2xl text-sm shadow-sm ".concat(msg.isAdmin ? 'bg-primary-600 text-white rounded-br-none' : 'bg-white text-slate-800 border border-slate-200 rounded-bl-none')
  }, !msg.isAdmin && /*#__PURE__*/React.createElement("div", {
    className: "font-bold text-xs mb-1 text-primary-600"
  }, msg.displayName), msg.text), /*#__PURE__*/React.createElement("div", {
    className: "text-[10px] text-slate-400 mt-1 flex items-center gap-2 ".concat(msg.isAdmin ? 'justify-end' : 'justify-start')
  }, new Date(msg.timestamp).toLocaleTimeString([], {
    hour: '2-digit',
    minute: '2-digit'
  }), /*#__PURE__*/React.createElement("button", {
    onClick: () => handleDelete(msg.id),
    className: "opacity-0 group-hover:opacity-100 text-red-400 hover:text-red-600 transition-opacity bg-white/80 rounded px-1"
  }, /*#__PURE__*/React.createElement("i", {
    className: "fa-solid fa-trash-can"
  })))), msg.isAdmin && /*#__PURE__*/React.createElement("div", {
    className: "w-8 h-8 bg-primary-100 rounded-full flex items-center justify-center text-xs font-bold text-primary-600 flex-shrink-0"
  }, /*#__PURE__*/React.createElement("i", {
    className: "fa-solid fa-shield-halved"
  })))), /*#__PURE__*/React.createElement("div", {
    ref: messagesEndRef
  })), /*#__PURE__*/React.createElement("div", {
    className: "p-4 bg-white border-t border-slate-200"
  }, /*#__PURE__*/React.createElement("form", {
    onSubmit: handleSend,
    className: "flex gap-2"
  }, /*#__PURE__*/React.createElement("input", {
    type: "text",
    value: adminMsg,
    onChange: e => setAdminMsg(e.target.value),
    className: "flex-1 px-4 py-2 border border-slate-300 rounded-lg focus:ring-2 focus:ring-primary-500 outline-none text-sm",
    placeholder: "Admin olarak mesaj g\xF6nder..."
  }), /*#__PURE__*/React.createElement("button", {
    type: "submit",
    disabled: !adminMsg.trim(),
    className: "bg-primary-600 text-white px-4 py-2 rounded-lg hover:bg-primary-700 disabled:opacity-50 transition-colors"
  }, /*#__PURE__*/React.createElement("i", {
    className: "fa-solid fa-paper-plane"
  })))));
};

// 6. MAIN APP
var App = () => {
  var _currentUser$email;
  var [currentUser, setCurrentUser] = useState(null);
  var [loading, setLoading] = useState(true);
  var [currentView, setCurrentView] = useState(AdminView.DASHBOARD);
  var [isCompatibleEnv, setIsCompatibleEnv] = useState(true);
  var [ignoreEnvError, setIgnoreEnvError] = useState(false);

  // Data
  var [users, setUsers] = useState([]);
  var [announcements, setAnnouncements] = useState([]);
  var [messages, setMessages] = useState([]);

  // Security Steps
  // Start at -1 for "Download Code?" prompt
  var [securityStep, setSecurityStep] = useState(-1);
  var [securityAnswer, setSecurityAnswer] = useState('');
  var [error, setError] = useState('');
  useEffect(() => {
    // Environment Check for file:// protocol which causes CORS errors
    var protocol = window.location.protocol;
    if (protocol !== 'http:' && protocol !== 'https:') {
      setIsCompatibleEnv(false);
      setLoading(false);
      return;
    }
    var unsubscribe = onAuthStateChanged(auth, user => {
      if (user && user.email !== 'muhammedaliaras47@gmail.com') {
        signOut(auth);
        setError('Yetkisiz e-posta adresi. Erişim reddedildi.');
        setCurrentUser(null);
      } else {
        setCurrentUser(user);
      }
      setLoading(false);
    });
    return () => unsubscribe();
  }, []);
  useEffect(() => {
    if (!currentUser) return;

    // FIRESTORE LISTENERS
    var usersRef = collection(db, 'users');
    var unsubUsers = onSnapshot(usersRef, snapshot => {
      var list = snapshot.docs.map(doc => _objectSpread({
        uid: doc.id
      }, doc.data()));
      setUsers(list);
    });
    var annRef = collection(db, 'announcements');
    var unsubAnn = onSnapshot(annRef, snapshot => {
      var list = snapshot.docs.map(doc => _objectSpread({
        id: doc.id
      }, doc.data()));
      setAnnouncements(list);
    });
    var chatQuery = query(collection(db, 'globalChat'), orderBy('timestamp', 'asc'));
    var unsubChat = onSnapshot(chatQuery, snapshot => {
      var list = snapshot.docs.map(doc => _objectSpread({
        id: doc.id
      }, doc.data()));
      setMessages(list);
    });
    return () => {
      unsubUsers();
      unsubAnn();
      unsubChat();
    };
  }, [currentUser]);
  var handleSecuritySubmit = e => {
    e.preventDefault();
    setError('');
    var answer = securityAnswer.trim();
    if (securityStep === 0) {
      if (answer === 'Lahmacun') {
        setSecurityStep(1);
        setSecurityAnswer('');
      } else setError('Yanlış cevap! Güvenlik protokolü ihlali.');
    } else if (securityStep === 1) {
      if (answer === 'Redmi Note 11 Pro 4G') {
        setSecurityStep(2);
        setSecurityAnswer('');
      } else setError('Yanlış cihaz modeli!');
    } else if (securityStep === 2) {
      if (answer === 'SigaraİçmekÖldürür') {
        setSecurityStep(3);
        setSecurityAnswer('');
      } else setError('Hatalı Master Şifre! Sistem kilitleniyor...');
    }
  };
  var handleDownloadCode = () => {
    var element = document.createElement("a");
    var file = new Blob([document.documentElement.outerHTML], {
      type: 'text/html'
    });
    element.href = URL.createObjectURL(file);
    element.download = "ne-haber-admin.html";
    document.body.appendChild(element);
    element.click();
    document.body.removeChild(element);
  };
  var handleGoogleLogin = /*#__PURE__*/function () {
    var _ref19 = _asyncToGenerator(function* () {
      setError('');

      // 1. Check Protocol Explicitly in Login
      if (window.location.protocol === 'file:') {
        setError('KRİTİK HATA: Google ile Giriş özelliği "file://" protokolünde (dosyaya çift tıklayarak açtığınızda) güvenlik nedeniyle ÇALIŞMAZ.\n\nÇözüm:\n1. VS Code "Live Server" eklentisini kurun.\n2. Dosyaya sağ tıklayıp "Open with Live Server" diyerek açın.');
        return;
      }
      try {
        var result = yield signInWithGoogle();
        if (result.user.email !== 'muhammedaliaras47@gmail.com') {
          yield signOut(auth);
          setError('Bu panel sadece yetkili yönetici (muhammedaliaras47@gmail.com) içindir.');
        }
      } catch (err) {
        console.error("Login Err:", err);
        var msg = "Google Giri\u015F Hatas\u0131: ".concat(err.message);
        if (err.code === 'auth/unauthorized-domain') {
          var currentDomain = window.location.hostname || "Belirsiz (Local)";
          msg = "YETK\u0130LEND\u0130RME SORUNU (Domain \u0130zni Yok)\n\n\u015Eu an \xE7al\u0131\u015Ft\u0131\u011F\u0131n\u0131z adres: ".concat(currentDomain, "\n\nBu hatay\u0131 \xE7\xF6zmek i\xE7in:\n1. Firebase Console'a gidin.\n2. Authentication > Settings > Authorized Domains sekmesini a\xE7\u0131n.\n3. \"Add Domain\" butonuna bas\u0131p \u015Fu adresi ekleyin: ").concat(currentDomain);
        } else if (err.code === 'auth/popup-closed-by-user') {
          msg = 'Giriş penceresini kapattınız. Lütfen tekrar deneyin.';
        } else if (err.code === 'auth/cancelled-popup-request') {
          msg = 'Giriş işlemi iptal edildi veya yeni bir istek yapıldı.';
        } else if (err.code === 'auth/popup-blocked') {
          msg = 'Tarayıcınız açılır pencereyi (popup) engelledi. Adres çubuğundaki simgeye tıklayıp izin verin.';
        } else if (err.code === 'auth/operation-not-supported-in-this-environment') {
          msg = 'Bu ortamda Google Girişi desteklenmiyor. Lütfen HTTP/HTTPS sunucusu (localhost) kullanın.';
        }
        setError(msg);
      }
    });
    return function handleGoogleLogin() {
      return _ref19.apply(this, arguments);
    };
  }();
  var handleLogout = () => {
    signOut(auth);
    setSecurityStep(-1); // Reset to download prompt
    setSecurityAnswer('');
  };

  // Warning Screen for file:// protocol
  if (!isCompatibleEnv && !ignoreEnvError) {
    return /*#__PURE__*/React.createElement("div", {
      className: "min-h-screen flex items-center justify-center bg-slate-900 p-4"
    }, /*#__PURE__*/React.createElement("div", {
      className: "bg-slate-800 p-8 rounded-2xl shadow-2xl w-full max-w-lg border border-red-800/50 relative overflow-hidden text-center"
    }, /*#__PURE__*/React.createElement("div", {
      className: "inline-flex items-center justify-center w-20 h-20 rounded-full bg-red-900/30 mb-6 animate-pulse"
    }, /*#__PURE__*/React.createElement("i", {
      className: "fa-solid fa-triangle-exclamation text-red-500 text-4xl"
    })), /*#__PURE__*/React.createElement("h1", {
      className: "text-2xl font-bold text-white mb-4"
    }, "Desteklenmeyen \xC7al\u0131\u015Fma Ortam\u0131"), /*#__PURE__*/React.createElement("p", {
      className: "text-slate-300 mb-6 text-sm leading-relaxed"
    }, "Bu uygulama g\xFCvenlik nedenleriyle (Google CORS Politikas\u0131) do\u011Frudan dosya sistemi (file:// veya content://) \xFCzerinden \xE7al\u0131\u015Ft\u0131r\u0131ld\u0131\u011F\u0131nda Google Giri\u015Fi hatal\u0131 \xE7al\u0131\u015Fabilir."), /*#__PURE__*/React.createElement("div", {
      className: "bg-slate-900/50 p-4 rounded-lg text-left text-sm text-slate-400 space-y-3 border border-slate-700"
    }, /*#__PURE__*/React.createElement("div", null, /*#__PURE__*/React.createElement("strong", {
      className: "text-primary-400 block mb-1"
    }, /*#__PURE__*/React.createElement("i", {
      className: "fa-solid fa-code mr-2"
    }), "VS Code Kullan\u0131yorsan\u0131z:"), "L\xFCtfen dosyaya sa\u011F t\u0131klay\u0131p \"Open with Live Server\" se\xE7ene\u011Fini kullan\u0131n (Eklenti gerektirir)."), /*#__PURE__*/React.createElement("div", null, /*#__PURE__*/React.createElement("strong", {
      className: "text-primary-400 block mb-1"
    }, /*#__PURE__*/React.createElement("i", {
      className: "fa-solid fa-desktop mr-2"
    }), "Di\u011Fer Edit\xF6rler:"), "Herhangi bir yerel sunucu (localhost) \xFCzerinden \xE7al\u0131\u015Ft\u0131r\u0131n.")), /*#__PURE__*/React.createElement("div", {
      className: "mt-8 flex flex-col gap-3"
    }, /*#__PURE__*/React.createElement("button", {
      onClick: () => setIgnoreEnvError(true),
      className: "w-full bg-red-600/80 text-white py-3 rounded-lg hover:bg-red-600 transition-colors font-bold"
    }, "Riskleri Kabul Et ve Devam Et"), /*#__PURE__*/React.createElement("button", {
      onClick: handleDownloadCode,
      className: "w-full bg-slate-700 text-white py-3 rounded-lg hover:bg-slate-600 transition-colors font-medium"
    }, /*#__PURE__*/React.createElement("i", {
      className: "fa-solid fa-download mr-2"
    }), "Yine de Kaynak Kodu \u0130ndir"))));
  }
  if (loading) return /*#__PURE__*/React.createElement("div", {
    className: "min-h-screen flex items-center justify-center bg-slate-50"
  }, /*#__PURE__*/React.createElement("div", {
    className: "animate-spin rounded-full h-12 w-12 border-b-2 border-primary-600"
  }));
  if (!currentUser) {
    return /*#__PURE__*/React.createElement("div", {
      className: "min-h-screen flex items-center justify-center bg-slate-900 p-4 relative overflow-hidden"
    }, /*#__PURE__*/React.createElement("div", {
      className: "absolute inset-0 opacity-10 pointer-events-none"
    }, /*#__PURE__*/React.createElement("div", {
      className: "absolute top-0 left-0 w-full h-full bg-[radial-gradient(circle_at_center,_var(--tw-gradient-stops))] from-slate-700 via-slate-900 to-black"
    })), /*#__PURE__*/React.createElement("div", {
      className: "bg-slate-800 p-8 rounded-2xl shadow-2xl w-full max-w-md border border-slate-700 relative z-10"
    }, /*#__PURE__*/React.createElement("div", {
      className: "text-center mb-8"
    }, /*#__PURE__*/React.createElement("div", {
      className: "inline-flex items-center justify-center w-16 h-16 rounded-full bg-slate-700 mb-4 shadow-inner"
    }, /*#__PURE__*/React.createElement("i", {
      className: "fa-solid ".concat(securityStep < 3 ? 'fa-shield-cat' : 'fa-google', " ").concat(securityStep < 3 ? 'text-primary-500' : 'text-white', " text-2xl")
    })), /*#__PURE__*/React.createElement("h1", {
      className: "text-2xl font-bold text-white"
    }, "G\xFCvenlik Protokol\xFC"), /*#__PURE__*/React.createElement("p", {
      className: "text-slate-400 mt-2 text-sm"
    }, securityStep === -1 && "Başlangıç: Kaynak Kodu", securityStep === 0 && "1. Aşama: Kimlik Doğrulama", securityStep === 1 && "2. Aşama: Cihaz Doğrulama", securityStep === 2 && "3. Aşama: Master Erişim", securityStep === 3 && "4. Aşama: Google Yetkilendirme"), /*#__PURE__*/React.createElement("div", {
      className: "mt-4 h-1 w-full bg-slate-700 rounded-full overflow-hidden"
    }, /*#__PURE__*/React.createElement("div", {
      className: "h-full bg-primary-500 transition-all duration-500",
      style: {
        width: "".concat((securityStep + 2) / 5 * 100, "%")
      }
    }))), error && /*#__PURE__*/React.createElement("div", {
      className: "bg-red-900/50 text-red-200 p-3 rounded-lg text-sm mb-4 border border-red-800 flex items-center gap-2 animate-pulse break-words whitespace-pre-line select-text"
    }, /*#__PURE__*/React.createElement("i", {
      className: "fa-solid fa-triangle-exclamation flex-shrink-0 mt-1"
    }), /*#__PURE__*/React.createElement("span", null, error)), securityStep === -1 ? /*#__PURE__*/React.createElement("div", {
      className: "space-y-4"
    }, /*#__PURE__*/React.createElement("p", {
      className: "text-white text-center font-medium"
    }, "Bu kodu indirmek istiyor musunuz?"), /*#__PURE__*/React.createElement("button", {
      onClick: () => {
        handleDownloadCode();
        setSecurityStep(0);
      },
      className: "w-full bg-green-600 text-white py-3 rounded-lg hover:bg-green-700 transition-colors font-bold shadow-lg shadow-green-900/20 flex items-center justify-center gap-2"
    }, /*#__PURE__*/React.createElement("i", {
      className: "fa-solid fa-download"
    }), " Evet, Kodu \u0130ndir"), /*#__PURE__*/React.createElement("button", {
      onClick: () => setSecurityStep(0),
      className: "w-full bg-slate-700 text-slate-300 py-3 rounded-lg hover:bg-slate-600 transition-colors font-medium"
    }, "Hay\u0131r, Giri\u015F Yap")) : /*#__PURE__*/React.createElement(React.Fragment, null, securityStep < 3 ? /*#__PURE__*/React.createElement("form", {
      onSubmit: handleSecuritySubmit,
      className: "space-y-4"
    }, /*#__PURE__*/React.createElement("div", null, /*#__PURE__*/React.createElement("label", {
      className: "block text-sm font-medium text-slate-300 mb-1"
    }, securityStep === 0 && "Favori yemeğiniz nedir?", securityStep === 1 && "Telefon modeliniz nedir?", securityStep === 2 && "Master Şifre:"), /*#__PURE__*/React.createElement("input", {
      type: securityStep === 2 ? "password" : "text",
      value: securityAnswer,
      onChange: e => setSecurityAnswer(e.target.value),
      className: "w-full px-4 py-3 bg-slate-900 border border-slate-600 text-white rounded-lg focus:ring-2 focus:ring-primary-500 outline-none placeholder-slate-600",
      placeholder: "Cevab\u0131n\u0131z\u0131 girin...",
      autoFocus: true,
      required: true
    })), /*#__PURE__*/React.createElement("div", {
      className: "flex gap-2"
    }, securityStep > 0 && /*#__PURE__*/React.createElement("button", {
      type: "button",
      onClick: () => setSecurityStep(securityStep - 1),
      className: "px-4 py-3 bg-slate-700 text-slate-300 rounded-lg hover:bg-slate-600"
    }, /*#__PURE__*/React.createElement("i", {
      className: "fa-solid fa-arrow-left"
    })), /*#__PURE__*/React.createElement("button", {
      type: "submit",
      className: "flex-1 bg-primary-600 text-white py-3 rounded-lg hover:bg-primary-700 transition-colors font-bold shadow-lg shadow-primary-900/20"
    }, "Sonraki Ad\u0131m ", /*#__PURE__*/React.createElement("i", {
      className: "fa-solid fa-arrow-right ml-2"
    })))) : /*#__PURE__*/React.createElement("div", {
      className: "space-y-4"
    }, /*#__PURE__*/React.createElement("div", {
      className: "text-xs text-center text-slate-500 mb-4"
    }, "G\xFCvenlik duvarlar\u0131 a\u015F\u0131ld\u0131.", /*#__PURE__*/React.createElement("br", null), "L\xFCtfen yetkili Google hesab\u0131 ile devam edin."), /*#__PURE__*/React.createElement("button", {
      onClick: handleGoogleLogin,
      className: "w-full bg-white text-slate-800 py-3 rounded-lg hover:bg-slate-100 transition-colors font-bold shadow-lg flex items-center justify-center gap-3"
    }, /*#__PURE__*/React.createElement("img", {
      src: "https://www.svgrepo.com/show/475656/google-color.svg",
      alt: "Google",
      className: "w-5 h-5"
    }), " Google ile Giri\u015F Yap"), /*#__PURE__*/React.createElement("button", {
      onClick: () => setSecurityStep(2),
      className: "w-full text-slate-500 text-sm hover:text-slate-300"
    }, "Geri D\xF6n")))));
  }
  return /*#__PURE__*/React.createElement("div", {
    className: "flex bg-slate-50 min-h-screen"
  }, /*#__PURE__*/React.createElement(Sidebar, {
    currentView: currentView,
    onChangeView: setCurrentView,
    onLogout: handleLogout
  }), /*#__PURE__*/React.createElement("main", {
    className: "ml-64 flex-1 p-8"
  }, /*#__PURE__*/React.createElement("header", {
    className: "flex justify-between items-center mb-8"
  }, /*#__PURE__*/React.createElement("div", null, /*#__PURE__*/React.createElement("h1", {
    className: "text-2xl font-bold text-slate-900 capitalize"
  }, currentView === AdminView.DASHBOARD && 'Genel Bakış', currentView === AdminView.USERS && 'Kullanıcılar', currentView === AdminView.ANNOUNCEMENTS && 'Duyuru Merkezi', currentView === AdminView.CHAT && 'Sohbet Denetimi'), /*#__PURE__*/React.createElement("p", {
    className: "text-slate-500 text-sm"
  }, "Son g\xFCncelleme: ", new Date().toLocaleTimeString())), /*#__PURE__*/React.createElement("div", {
    className: "flex items-center gap-4"
  }, /*#__PURE__*/React.createElement("div", {
    className: "text-right hidden sm:block"
  }, /*#__PURE__*/React.createElement("p", {
    className: "text-sm font-bold text-slate-800"
  }, currentUser.email), /*#__PURE__*/React.createElement("p", {
    className: "text-xs text-primary-600 font-medium"
  }, "S\xFCper Admin")), /*#__PURE__*/React.createElement("div", {
    className: "w-10 h-10 bg-slate-900 rounded-full flex items-center justify-center text-white font-bold border-2 border-slate-200"
  }, currentUser.photoURL ? /*#__PURE__*/React.createElement("img", {
    src: currentUser.photoURL,
    className: "w-full h-full rounded-full object-cover"
  }) : (_currentUser$email = currentUser.email) === null || _currentUser$email === void 0 ? void 0 : _currentUser$email.charAt(0).toUpperCase()))), /*#__PURE__*/React.createElement("div", {
    className: "animate-fade-in"
  }, currentView === AdminView.DASHBOARD && /*#__PURE__*/React.createElement(Dashboard, {
    userCount: users.length,
    onlineCount: messages.length,
    messageCount: messages.length
  }), currentView === AdminView.USERS && /*#__PURE__*/React.createElement(UserManagement, {
    users: users
  }), currentView === AdminView.ANNOUNCEMENTS && /*#__PURE__*/React.createElement(Announcements, {
    announcements: announcements
  }), currentView === AdminView.CHAT && /*#__PURE__*/React.createElement(GlobalChat, {
    messages: messages
  }))));
};
var root = ReactDOM.createRoot(document.getElementById('root'));
root.render(/*#__PURE__*/React.createElement(App, null));
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJSZWFjdCIsInVzZVN0YXRlIiwidXNlRWZmZWN0IiwidXNlUmVmIiwiUmVhY3RET00iLCJpbml0aWFsaXplQXBwIiwiZ2V0QXV0aCIsIkdvb2dsZUF1dGhQcm92aWRlciIsInNpZ25JbldpdGhQb3B1cCIsIm9uQXV0aFN0YXRlQ2hhbmdlZCIsInNpZ25PdXQiLCJnZXRGaXJlc3RvcmUiLCJjb2xsZWN0aW9uIiwiZG9jIiwiYWRkRG9jIiwidXBkYXRlRG9jIiwiZGVsZXRlRG9jIiwib25TbmFwc2hvdCIsInF1ZXJ5Iiwib3JkZXJCeSIsImZpcmViYXNlQ29uZmlnIiwiYXBpS2V5IiwiYXV0aERvbWFpbiIsInByb2plY3RJZCIsInN0b3JhZ2VCdWNrZXQiLCJtZXNzYWdpbmdTZW5kZXJJZCIsImFwcElkIiwibWVhc3VyZW1lbnRJZCIsImFwcCIsImF1dGgiLCJkYiIsInNpZ25JbldpdGhHb29nbGUiLCJfcmVmIiwiX2FzeW5jVG9HZW5lcmF0b3IiLCJwcm92aWRlciIsImFwcGx5IiwiYXJndW1lbnRzIiwidG9nZ2xlVXNlclZlcmlmaWNhdGlvbiIsIl9yZWYyIiwidXNlcklkIiwiY3VycmVudFN0YXR1cyIsInVzZXJSZWYiLCJpc1ZlcmlmaWVkIiwiX3giLCJfeDIiLCJiYW5Vc2VyIiwiX3JlZjMiLCJkdXJhdGlvbkluSG91cnMiLCJiYW5EYXRhIiwiaXNCYW5uZWQiLCJiYW5VbnRpbCIsIkRhdGUiLCJub3ciLCJfeDMiLCJfeDQiLCJ1bmJhblVzZXIiLCJfcmVmNCIsIl94NSIsImNyZWF0ZUFubm91bmNlbWVudCIsIl9yZWY1IiwidGl0bGUiLCJjb250ZW50IiwiYXV0aG9yIiwiYW5ub3VuY2VtZW50c1JlZiIsImNyZWF0ZWRBdCIsImFjdGl2ZSIsIl94NiIsIl94NyIsIl94OCIsImRlbGV0ZUFubm91bmNlbWVudCIsIl9yZWY2IiwiaWQiLCJhbm5SZWYiLCJfeDkiLCJzZW5kQWRtaW5NZXNzYWdlIiwiX3JlZjciLCJ0ZXh0IiwiYWRtaW5OYW1lIiwiY2hhdFJlZiIsImRpc3BsYXlOYW1lIiwidGltZXN0YW1wIiwiaXNBZG1pbiIsIl94MCIsIl94MSIsImRlbGV0ZUNoYXRNZXNzYWdlIiwiX3JlZjgiLCJtc2dSZWYiLCJfeDEwIiwiQWRtaW5WaWV3IiwiREFTSEJPQVJEIiwiVVNFUlMiLCJBTk5PVU5DRU1FTlRTIiwiQ0hBVCIsIlNpZGViYXIiLCJfcmVmOSIsImN1cnJlbnRWaWV3Iiwib25DaGFuZ2VWaWV3Iiwib25Mb2dvdXQiLCJtZW51SXRlbXMiLCJsYWJlbCIsImljb24iLCJoYW5kbGVEb3dubG9hZENvZGUiLCJlbGVtZW50IiwiZG9jdW1lbnQiLCJjcmVhdGVFbGVtZW50IiwiZmlsZSIsIkJsb2IiLCJkb2N1bWVudEVsZW1lbnQiLCJvdXRlckhUTUwiLCJ0eXBlIiwiaHJlZiIsIlVSTCIsImNyZWF0ZU9iamVjdFVSTCIsImRvd25sb2FkIiwiYm9keSIsImFwcGVuZENoaWxkIiwiY2xpY2siLCJyZW1vdmVDaGlsZCIsImNsYXNzTmFtZSIsIm9uQ2xpY2siLCJtYXAiLCJpdGVtIiwia2V5IiwiY29uY2F0IiwiRGFzaGJvYXJkIiwiX3JlZjAiLCJ1c2VyQ291bnQiLCJvbmxpbmVDb3VudCIsIm1lc3NhZ2VDb3VudCIsIlVzZXJNYW5hZ2VtZW50IiwiX3JlZjEiLCJ1c2VycyIsInNlYXJjaFRlcm0iLCJzZXRTZWFyY2hUZXJtIiwic2VsZWN0ZWRVc2VyRm9yQmFuIiwic2V0U2VsZWN0ZWRVc2VyRm9yQmFuIiwiZmlsdGVyZWRVc2VycyIsImZpbHRlciIsInUiLCJ0b0xvd2VyQ2FzZSIsImluY2x1ZGVzIiwiZW1haWwiLCJoYW5kbGVCYW5DbGljayIsIl9yZWYxMCIsInVzZXIiLCJ3aW5kb3ciLCJjb25maXJtIiwidWlkIiwiZXJyb3IiLCJjb25zb2xlIiwiYWxlcnQiLCJjb2RlIiwiX3gxMSIsImNvbmZpcm1CYW4iLCJfcmVmMTEiLCJkdXJhdGlvbiIsIl94MTIiLCJoYW5kbGVUb2dnbGVWZXJpZmljYXRpb24iLCJfcmVmMTIiLCJfeDEzIiwiX3gxNCIsInBsYWNlaG9sZGVyIiwidmFsdWUiLCJvbkNoYW5nZSIsImUiLCJ0YXJnZXQiLCJsZW5ndGgiLCJjb2xTcGFuIiwicGhvdG9VUkwiLCJzcmMiLCJjaGFyQXQiLCJ0b1VwcGVyQ2FzZSIsInRvTG9jYWxlRGF0ZVN0cmluZyIsIkFubm91bmNlbWVudHMiLCJfcmVmMTMiLCJhbm5vdW5jZW1lbnRzIiwic2V0VGl0bGUiLCJzZXRDb250ZW50IiwiaXNTdWJtaXR0aW5nIiwic2V0SXNTdWJtaXR0aW5nIiwiaGFuZGxlU3VibWl0IiwiX3JlZjE0IiwicHJldmVudERlZmF1bHQiLCJ0cmltIiwiX3gxNSIsImhhbmRsZURlbGV0ZSIsIl9yZWYxNSIsIl94MTYiLCJvblN1Ym1pdCIsInJvd3MiLCJkaXNhYmxlZCIsInNvcnQiLCJhIiwiYiIsImFubiIsInRvTG9jYWxlU3RyaW5nIiwiR2xvYmFsQ2hhdCIsIl9yZWYxNiIsIm1lc3NhZ2VzIiwiYWRtaW5Nc2ciLCJzZXRBZG1pbk1zZyIsIm1lc3NhZ2VzRW5kUmVmIiwiY3VycmVudCIsInNjcm9sbEludG9WaWV3IiwiYmVoYXZpb3IiLCJoYW5kbGVTZW5kIiwiX3JlZjE3IiwiX3gxNyIsIl9yZWYxOCIsIl94MTgiLCJzb3J0ZWRNZXNzYWdlcyIsIm1zZyIsInRvTG9jYWxlVGltZVN0cmluZyIsImhvdXIiLCJtaW51dGUiLCJyZWYiLCJBcHAiLCJfY3VycmVudFVzZXIkZW1haWwiLCJjdXJyZW50VXNlciIsInNldEN1cnJlbnRVc2VyIiwibG9hZGluZyIsInNldExvYWRpbmciLCJzZXRDdXJyZW50VmlldyIsImlzQ29tcGF0aWJsZUVudiIsInNldElzQ29tcGF0aWJsZUVudiIsImlnbm9yZUVudkVycm9yIiwic2V0SWdub3JlRW52RXJyb3IiLCJzZXRVc2VycyIsInNldEFubm91bmNlbWVudHMiLCJzZXRNZXNzYWdlcyIsInNlY3VyaXR5U3RlcCIsInNldFNlY3VyaXR5U3RlcCIsInNlY3VyaXR5QW5zd2VyIiwic2V0U2VjdXJpdHlBbnN3ZXIiLCJzZXRFcnJvciIsInByb3RvY29sIiwibG9jYXRpb24iLCJ1bnN1YnNjcmliZSIsInVzZXJzUmVmIiwidW5zdWJVc2VycyIsInNuYXBzaG90IiwibGlzdCIsImRvY3MiLCJfb2JqZWN0U3ByZWFkIiwiZGF0YSIsInVuc3ViQW5uIiwiY2hhdFF1ZXJ5IiwidW5zdWJDaGF0IiwiaGFuZGxlU2VjdXJpdHlTdWJtaXQiLCJhbnN3ZXIiLCJoYW5kbGVHb29nbGVMb2dpbiIsIl9yZWYxOSIsInJlc3VsdCIsImVyciIsIm1lc3NhZ2UiLCJjdXJyZW50RG9tYWluIiwiaG9zdG5hbWUiLCJoYW5kbGVMb2dvdXQiLCJzdHlsZSIsIndpZHRoIiwiRnJhZ21lbnQiLCJhdXRvRm9jdXMiLCJyZXF1aXJlZCIsImFsdCIsInJvb3QiLCJjcmVhdGVSb290IiwiZ2V0RWxlbWVudEJ5SWQiLCJyZW5kZXIiXSwic291cmNlcyI6WyJJbmxpbmUgQmFiZWwgc2NyaXB0Il0sInNvdXJjZXNDb250ZW50IjpbIlxuICAgICAgICBpbXBvcnQgUmVhY3QsIHsgdXNlU3RhdGUsIHVzZUVmZmVjdCwgdXNlUmVmIH0gZnJvbSAncmVhY3QnO1xuICAgICAgICBpbXBvcnQgUmVhY3RET00gZnJvbSAncmVhY3QtZG9tL2NsaWVudCc7XG4gICAgICAgIGltcG9ydCB7IGluaXRpYWxpemVBcHAgfSBmcm9tIFwiZmlyZWJhc2UvYXBwXCI7XG4gICAgICAgIGltcG9ydCB7IGdldEF1dGgsIEdvb2dsZUF1dGhQcm92aWRlciwgc2lnbkluV2l0aFBvcHVwLCBvbkF1dGhTdGF0ZUNoYW5nZWQsIHNpZ25PdXQgfSBmcm9tIFwiZmlyZWJhc2UvYXV0aFwiO1xuICAgICAgICBpbXBvcnQgeyBnZXRGaXJlc3RvcmUsIGNvbGxlY3Rpb24sIGRvYywgYWRkRG9jLCB1cGRhdGVEb2MsIGRlbGV0ZURvYywgb25TbmFwc2hvdCwgcXVlcnksIG9yZGVyQnkgfSBmcm9tIFwiZmlyZWJhc2UvZmlyZXN0b3JlXCI7XG5cbiAgICAgICAgLy8gLS0tIEZJUkVCQVNFIENPTkZJR1VSQVRJT04gLS0tXG4gICAgICAgIGNvbnN0IGZpcmViYXNlQ29uZmlnID0ge1xuICAgICAgICAgICAgYXBpS2V5OiBcIkFJemFTeUFzeG40M01QUWlESmxIak5KM3psR3RFS281N0cyOEt1UVwiLFxuICAgICAgICAgICAgYXV0aERvbWFpbjogXCJuZS1oYWJlci13ZWIuZmlyZWJhc2VhcHAuY29tXCIsXG4gICAgICAgICAgICBwcm9qZWN0SWQ6IFwibmUtaGFiZXItd2ViXCIsXG4gICAgICAgICAgICBzdG9yYWdlQnVja2V0OiBcIm5lLWhhYmVyLXdlYi5maXJlYmFzZXN0b3JhZ2UuYXBwXCIsXG4gICAgICAgICAgICBtZXNzYWdpbmdTZW5kZXJJZDogXCI2OTA5MTM3Mzg3ODJcIixcbiAgICAgICAgICAgIGFwcElkOiBcIjE6NjkwOTEzNzM4NzgyOndlYjo5MWEzOWM4ZDhlMGZhOTYzMDdlZTBmXCIsXG4gICAgICAgICAgICBtZWFzdXJlbWVudElkOiBcIkctMThRNEVMUEUzUFwiXG4gICAgICAgIH07XG5cbiAgICAgICAgY29uc3QgYXBwID0gaW5pdGlhbGl6ZUFwcChmaXJlYmFzZUNvbmZpZyk7XG4gICAgICAgIGNvbnN0IGF1dGggPSBnZXRBdXRoKGFwcCk7XG4gICAgICAgIGNvbnN0IGRiID0gZ2V0RmlyZXN0b3JlKGFwcCk7XG5cbiAgICAgICAgLy8gLS0tIEZJUkVCQVNFIFNFUlZJQ0VTIC0tLVxuICAgICAgICBjb25zdCBzaWduSW5XaXRoR29vZ2xlID0gYXN5bmMgKCkgPT4ge1xuICAgICAgICAgICAgY29uc3QgcHJvdmlkZXIgPSBuZXcgR29vZ2xlQXV0aFByb3ZpZGVyKCk7XG4gICAgICAgICAgICByZXR1cm4gc2lnbkluV2l0aFBvcHVwKGF1dGgsIHByb3ZpZGVyKTtcbiAgICAgICAgfTtcblxuICAgICAgICBjb25zdCB0b2dnbGVVc2VyVmVyaWZpY2F0aW9uID0gYXN5bmMgKHVzZXJJZCwgY3VycmVudFN0YXR1cykgPT4ge1xuICAgICAgICAgICAgY29uc3QgdXNlclJlZiA9IGRvYyhkYiwgJ3VzZXJzJywgdXNlcklkKTtcbiAgICAgICAgICAgIGF3YWl0IHVwZGF0ZURvYyh1c2VyUmVmLCB7IGlzVmVyaWZpZWQ6ICFjdXJyZW50U3RhdHVzIH0pO1xuICAgICAgICB9O1xuXG4gICAgICAgIGNvbnN0IGJhblVzZXIgPSBhc3luYyAodXNlcklkLCBkdXJhdGlvbkluSG91cnMpID0+IHtcbiAgICAgICAgICAgIGNvbnN0IHVzZXJSZWYgPSBkb2MoZGIsICd1c2VycycsIHVzZXJJZCk7XG4gICAgICAgICAgICBjb25zdCBiYW5EYXRhID0ge1xuICAgICAgICAgICAgICAgIGlzQmFubmVkOiB0cnVlLFxuICAgICAgICAgICAgICAgIGJhblVudGlsOiBkdXJhdGlvbkluSG91cnMgPyBEYXRlLm5vdygpICsgKGR1cmF0aW9uSW5Ib3VycyAqIDYwICogNjAgKiAxMDAwKSA6IG51bGxcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICBhd2FpdCB1cGRhdGVEb2ModXNlclJlZiwgYmFuRGF0YSk7XG4gICAgICAgIH07XG5cbiAgICAgICAgY29uc3QgdW5iYW5Vc2VyID0gYXN5bmMgKHVzZXJJZCkgPT4ge1xuICAgICAgICAgICAgY29uc3QgdXNlclJlZiA9IGRvYyhkYiwgJ3VzZXJzJywgdXNlcklkKTtcbiAgICAgICAgICAgIGF3YWl0IHVwZGF0ZURvYyh1c2VyUmVmLCB7IGlzQmFubmVkOiBmYWxzZSwgYmFuVW50aWw6IG51bGwgfSk7XG4gICAgICAgIH07XG5cbiAgICAgICAgY29uc3QgY3JlYXRlQW5ub3VuY2VtZW50ID0gYXN5bmMgKHRpdGxlLCBjb250ZW50LCBhdXRob3IpID0+IHtcbiAgICAgICAgICAgIGNvbnN0IGFubm91bmNlbWVudHNSZWYgPSBjb2xsZWN0aW9uKGRiLCAnYW5ub3VuY2VtZW50cycpO1xuICAgICAgICAgICAgYXdhaXQgYWRkRG9jKGFubm91bmNlbWVudHNSZWYsIHtcbiAgICAgICAgICAgICAgICB0aXRsZSwgY29udGVudCwgYXV0aG9yLCBjcmVhdGVkQXQ6IERhdGUubm93KCksIGFjdGl2ZTogdHJ1ZVxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH07XG5cbiAgICAgICAgY29uc3QgZGVsZXRlQW5ub3VuY2VtZW50ID0gYXN5bmMgKGlkKSA9PiB7XG4gICAgICAgICAgICBjb25zdCBhbm5SZWYgPSBkb2MoZGIsICdhbm5vdW5jZW1lbnRzJywgaWQpO1xuICAgICAgICAgICAgYXdhaXQgZGVsZXRlRG9jKGFublJlZik7XG4gICAgICAgIH07XG5cbiAgICAgICAgY29uc3Qgc2VuZEFkbWluTWVzc2FnZSA9IGFzeW5jICh0ZXh0LCBhZG1pbk5hbWUpID0+IHtcbiAgICAgICAgICAgIGNvbnN0IGNoYXRSZWYgPSBjb2xsZWN0aW9uKGRiLCAnZ2xvYmFsQ2hhdCcpO1xuICAgICAgICAgICAgYXdhaXQgYWRkRG9jKGNoYXRSZWYsIHtcbiAgICAgICAgICAgICAgICB0ZXh0LCB1c2VySWQ6ICdBRE1JTicsIGRpc3BsYXlOYW1lOiBhZG1pbk5hbWUsIHRpbWVzdGFtcDogRGF0ZS5ub3coKSwgaXNBZG1pbjogdHJ1ZVxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH07XG5cbiAgICAgICAgY29uc3QgZGVsZXRlQ2hhdE1lc3NhZ2UgPSBhc3luYyAoaWQpID0+IHtcbiAgICAgICAgICAgIGNvbnN0IG1zZ1JlZiA9IGRvYyhkYiwgJ2dsb2JhbENoYXQnLCBpZCk7XG4gICAgICAgICAgICBhd2FpdCBkZWxldGVEb2MobXNnUmVmKTtcbiAgICAgICAgfTtcblxuICAgICAgICAvLyAtLS0gRU5VTVMgLS0tXG4gICAgICAgIGNvbnN0IEFkbWluVmlldyA9IHtcbiAgICAgICAgICAgIERBU0hCT0FSRDogJ0RBU0hCT0FSRCcsXG4gICAgICAgICAgICBVU0VSUzogJ1VTRVJTJyxcbiAgICAgICAgICAgIEFOTk9VTkNFTUVOVFM6ICdBTk5PVU5DRU1FTlRTJyxcbiAgICAgICAgICAgIENIQVQ6ICdDSEFUJ1xuICAgICAgICB9O1xuXG4gICAgICAgIC8vIC0tLSBDT01QT05FTlRTIC0tLVxuXG4gICAgICAgIC8vIDEuIFNpZGViYXJcbiAgICAgICAgY29uc3QgU2lkZWJhciA9ICh7IGN1cnJlbnRWaWV3LCBvbkNoYW5nZVZpZXcsIG9uTG9nb3V0IH0pID0+IHtcbiAgICAgICAgICAgIGNvbnN0IG1lbnVJdGVtcyA9IFtcbiAgICAgICAgICAgICAgICB7IGlkOiBBZG1pblZpZXcuREFTSEJPQVJELCBsYWJlbDogJ1BhbmVsIMOWemV0aScsIGljb246ICdmYS1jaGFydC1saW5lJyB9LFxuICAgICAgICAgICAgICAgIHsgaWQ6IEFkbWluVmlldy5VU0VSUywgbGFiZWw6ICdLdWxsYW7EsWPEsSBZw7ZuZXRpbWknLCBpY29uOiAnZmEtdXNlcnMnIH0sXG4gICAgICAgICAgICAgICAgeyBpZDogQWRtaW5WaWV3LkFOTk9VTkNFTUVOVFMsIGxhYmVsOiAnRHV5dXJ1bGFyJywgaWNvbjogJ2ZhLWJ1bGxob3JuJyB9LFxuICAgICAgICAgICAgICAgIHsgaWQ6IEFkbWluVmlldy5DSEFULCBsYWJlbDogJ0dsb2JhbCBTb2hiZXQnLCBpY29uOiAnZmEtY29tbWVudHMnIH0sXG4gICAgICAgICAgICBdO1xuXG4gICAgICAgICAgICBjb25zdCBoYW5kbGVEb3dubG9hZENvZGUgPSAoKSA9PiB7XG4gICAgICAgICAgICAgICAgY29uc3QgZWxlbWVudCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJhXCIpO1xuICAgICAgICAgICAgICAgIGNvbnN0IGZpbGUgPSBuZXcgQmxvYihbZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50Lm91dGVySFRNTF0sIHt0eXBlOiAndGV4dC9odG1sJ30pO1xuICAgICAgICAgICAgICAgIGVsZW1lbnQuaHJlZiA9IFVSTC5jcmVhdGVPYmplY3RVUkwoZmlsZSk7XG4gICAgICAgICAgICAgICAgZWxlbWVudC5kb3dubG9hZCA9IFwibmUtaGFiZXItYWRtaW4uaHRtbFwiO1xuICAgICAgICAgICAgICAgIGRvY3VtZW50LmJvZHkuYXBwZW5kQ2hpbGQoZWxlbWVudCk7XG4gICAgICAgICAgICAgICAgZWxlbWVudC5jbGljaygpO1xuICAgICAgICAgICAgICAgIGRvY3VtZW50LmJvZHkucmVtb3ZlQ2hpbGQoZWxlbWVudCk7XG4gICAgICAgICAgICB9O1xuXG4gICAgICAgICAgICByZXR1cm4gKFxuICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwidy02NCBiZy1zbGF0ZS05MDAgdGV4dC13aGl0ZSBmbGV4IGZsZXgtY29sIGgtc2NyZWVuIGZpeGVkIGxlZnQtMCB0b3AtMCBzaGFkb3cteGwgei0xMFwiPlxuICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInAtNiBib3JkZXItYiBib3JkZXItc2xhdGUtODAwIGZsZXggaXRlbXMtY2VudGVyIGdhcC0zXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInctOCBoLTggYmctcHJpbWFyeS01MDAgcm91bmRlZC1sZyBmbGV4IGl0ZW1zLWNlbnRlciBqdXN0aWZ5LWNlbnRlclwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxpIGNsYXNzTmFtZT1cImZhLXNvbGlkIGZhLXNoaWVsZC1oYWx2ZWQgdGV4dC13aGl0ZSB0ZXh0LXNtXCI+PC9pPlxuICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICA8aDEgY2xhc3NOYW1lPVwidGV4dC14bCBmb250LWJvbGQgdHJhY2tpbmctdGlnaHRcIj5OZSBIYWJlcjxzcGFuIGNsYXNzTmFtZT1cInRleHQtcHJpbWFyeS01MDBcIj4uQWRtaW48L3NwYW4+PC9oMT5cbiAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInB4LTQgcHQtNlwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgPGJ1dHRvbiBvbkNsaWNrPXtoYW5kbGVEb3dubG9hZENvZGV9IGNsYXNzTmFtZT1cInctZnVsbCBmbGV4IGl0ZW1zLWNlbnRlciBqdXN0aWZ5LWNlbnRlciBnYXAtMiBweC00IHB5LTMgYmctZ3JlZW4tNjAwIHRleHQtd2hpdGUgaG92ZXI6YmctZ3JlZW4tNzAwIHJvdW5kZWQteGwgdHJhbnNpdGlvbi1hbGwgc2hhZG93LWxnIHNoYWRvdy1ncmVlbi05MDAvMjAgZm9udC1ib2xkIGdyb3VwXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPGkgY2xhc3NOYW1lPVwiZmEtc29saWQgZmEtZG93bmxvYWQgZ3JvdXAtaG92ZXI6c2NhbGUtMTEwIHRyYW5zaXRpb24tdHJhbnNmb3JtXCI+PC9pPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxzcGFuPktvZHUgxLBuZGlyIC8gWWVkZWtsZTwvc3Bhbj5cbiAgICAgICAgICAgICAgICAgICAgICAgIDwvYnV0dG9uPlxuICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cblxuICAgICAgICAgICAgICAgICAgICA8bmF2IGNsYXNzTmFtZT1cImZsZXgtMSBwLTQgc3BhY2UteS0yXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICB7bWVudUl0ZW1zLm1hcCgoaXRlbSkgPT4gKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxidXR0b25cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAga2V5PXtpdGVtLmlkfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbkNsaWNrPXsoKSA9PiBvbkNoYW5nZVZpZXcoaXRlbS5pZCl9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT17YHctZnVsbCBmbGV4IGl0ZW1zLWNlbnRlciBnYXAtMyBweC00IHB5LTMgcm91bmRlZC14bCB0cmFuc2l0aW9uLWFsbCBkdXJhdGlvbi0yMDAgZ3JvdXAgJHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGN1cnJlbnRWaWV3ID09PSBpdGVtLmlkIFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgID8gJ2JnLXByaW1hcnktNjAwIHRleHQtd2hpdGUgc2hhZG93LWxnIHNoYWRvdy1wcmltYXJ5LTkwMC81MCcgXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgOiAndGV4dC1zbGF0ZS00MDAgaG92ZXI6Ymctc2xhdGUtODAwIGhvdmVyOnRleHQtd2hpdGUnXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1gfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGkgY2xhc3NOYW1lPXtgZmEtc29saWQgJHtpdGVtLmljb259IHctNSB0ZXh0LWNlbnRlciB0cmFuc2l0aW9uLXRyYW5zZm9ybSBncm91cC1ob3ZlcjpzY2FsZS0xMTBgfT48L2k+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cImZvbnQtbWVkaXVtXCI+e2l0ZW0ubGFiZWx9PC9zcGFuPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvYnV0dG9uPlxuICAgICAgICAgICAgICAgICAgICAgICAgKSl9XG4gICAgICAgICAgICAgICAgICAgIDwvbmF2PlxuICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInAtNCBib3JkZXItdCBib3JkZXItc2xhdGUtODAwIHNwYWNlLXktMlwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgPGJ1dHRvbiBvbkNsaWNrPXtvbkxvZ291dH0gY2xhc3NOYW1lPVwidy1mdWxsIGZsZXggaXRlbXMtY2VudGVyIGdhcC0yIHB4LTQgcHktMiB0ZXh0LXNsYXRlLTQwMCBob3Zlcjp0ZXh0LXJlZC00MDAgaG92ZXI6Ymctc2xhdGUtODAwLzUwIHJvdW5kZWQtbGcgdHJhbnNpdGlvbi1jb2xvcnNcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8aSBjbGFzc05hbWU9XCJmYS1zb2xpZCBmYS1yaWdodC1mcm9tLWJyYWNrZXRcIj48L2k+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPHNwYW4+w4fEsWvEscWfIFlhcDwvc3Bhbj5cbiAgICAgICAgICAgICAgICAgICAgICAgIDwvYnV0dG9uPlxuICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICk7XG4gICAgICAgIH07XG5cbiAgICAgICAgLy8gMi4gRGFzaGJvYXJkXG4gICAgICAgIGNvbnN0IERhc2hib2FyZCA9ICh7IHVzZXJDb3VudCwgb25saW5lQ291bnQsIG1lc3NhZ2VDb3VudCB9KSA9PiB7XG4gICAgICAgICAgICByZXR1cm4gKFxuICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwic3BhY2UteS02XCI+XG4gICAgICAgICAgICAgICAgICAgIDxoMiBjbGFzc05hbWU9XCJ0ZXh0LTJ4bCBmb250LWJvbGQgdGV4dC1zbGF0ZS04MDBcIj5QYW5lbCDDlnpldGk8L2gyPlxuICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImdyaWQgZ3JpZC1jb2xzLTEgbWQ6Z3JpZC1jb2xzLTMgZ2FwLTZcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiYmctd2hpdGUgcC02IHJvdW5kZWQtMnhsIHNoYWRvdy1zbSBib3JkZXIgYm9yZGVyLXNsYXRlLTEwMCBmbGV4IGl0ZW1zLWNlbnRlciBnYXAtNFwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwidy0xMiBoLTEyIHJvdW5kZWQtZnVsbCBiZy1ibHVlLTEwMCBmbGV4IGl0ZW1zLWNlbnRlciBqdXN0aWZ5LWNlbnRlciB0ZXh0LWJsdWUtNjAwXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxpIGNsYXNzTmFtZT1cImZhLXNvbGlkIGZhLXVzZXJzIHRleHQteGxcIj48L2k+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHAgY2xhc3NOYW1lPVwidGV4dC1zbSB0ZXh0LXNsYXRlLTUwMCBmb250LW1lZGl1bVwiPlRvcGxhbSBLdWxsYW7EsWPEsTwvcD5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHAgY2xhc3NOYW1lPVwidGV4dC0yeGwgZm9udC1ib2xkIHRleHQtc2xhdGUtOTAwXCI+e3VzZXJDb3VudH08L3A+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiYmctd2hpdGUgcC02IHJvdW5kZWQtMnhsIHNoYWRvdy1zbSBib3JkZXIgYm9yZGVyLXNsYXRlLTEwMCBmbGV4IGl0ZW1zLWNlbnRlciBnYXAtNFwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwidy0xMiBoLTEyIHJvdW5kZWQtZnVsbCBiZy1ncmVlbi0xMDAgZmxleCBpdGVtcy1jZW50ZXIganVzdGlmeS1jZW50ZXIgdGV4dC1ncmVlbi02MDBcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGkgY2xhc3NOYW1lPVwiZmEtc29saWQgZmEtY2lyY2xlIHRleHQteGwgYW5pbWF0ZS1wdWxzZVwiPjwvaT5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8cCBjbGFzc05hbWU9XCJ0ZXh0LXNtIHRleHQtc2xhdGUtNTAwIGZvbnQtbWVkaXVtXCI+QWt0aWYgTWVzYWpsYXI8L3A+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxwIGNsYXNzTmFtZT1cInRleHQtMnhsIGZvbnQtYm9sZCB0ZXh0LXNsYXRlLTkwMFwiPnttZXNzYWdlQ291bnR9PC9wPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImJnLXdoaXRlIHAtNiByb3VuZGVkLTJ4bCBzaGFkb3ctc20gYm9yZGVyIGJvcmRlci1zbGF0ZS0xMDAgZmxleCBpdGVtcy1jZW50ZXIgZ2FwLTRcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInctMTIgaC0xMiByb3VuZGVkLWZ1bGwgYmctcHVycGxlLTEwMCBmbGV4IGl0ZW1zLWNlbnRlciBqdXN0aWZ5LWNlbnRlciB0ZXh0LXB1cnBsZS02MDBcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGkgY2xhc3NOYW1lPVwiZmEtc29saWQgZmEtc2VydmVyIHRleHQteGxcIj48L2k+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHAgY2xhc3NOYW1lPVwidGV4dC1zbSB0ZXh0LXNsYXRlLTUwMCBmb250LW1lZGl1bVwiPlNpc3RlbSBEdXJ1bXU8L3A+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxwIGNsYXNzTmFtZT1cInRleHQtMnhsIGZvbnQtYm9sZCB0ZXh0LXNsYXRlLTkwMFwiPkFrdGlmPC9wPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImJnLWdyYWRpZW50LXRvLXIgZnJvbS1zbGF0ZS04MDAgdG8tc2xhdGUtOTAwIHJvdW5kZWQtMnhsIHAtOCB0ZXh0LXdoaXRlIHJlbGF0aXZlIG92ZXJmbG93LWhpZGRlblwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJyZWxhdGl2ZSB6LTEwXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPGgzIGNsYXNzTmFtZT1cInRleHQteGwgZm9udC1ib2xkIG1iLTJcIj5Ib8WfZ2VsZGluaXosIEFkbWluPC9oMz5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8cCBjbGFzc05hbWU9XCJ0ZXh0LXNsYXRlLTMwMCBtYXgtdy1sZ1wiPkJ1IHBhbmVsIMO8emVyaW5kZW4ga3VsbGFuxLFjxLFsYXLEsSB5w7ZuZXRlYmlsaXIsIHlhc2FrbGFtYSBpxZ9sZW1sZXJpbmkgZ2Vyw6dla2xlxZ90aXJlYmlsaXIgdmUgZ2xvYmFsIGR1eXVydWxhciB5YXnEsW5sYXlhYmlsaXJzaW5pei48L3A+XG4gICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiYWJzb2x1dGUgcmlnaHQtMCBib3R0b20tMCBvcGFjaXR5LTEwIHRyYW5zZm9ybSB0cmFuc2xhdGUteC0xMCB0cmFuc2xhdGUteS0xMFwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxpIGNsYXNzTmFtZT1cImZhLXNvbGlkIGZhLWZpbmdlcnByaW50IHRleHQtOXhsXCI+PC9pPlxuICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgKTtcbiAgICAgICAgfTtcblxuICAgICAgICAvLyAzLiBVc2VyTWFuYWdlbWVudFxuICAgICAgICBjb25zdCBVc2VyTWFuYWdlbWVudCA9ICh7IHVzZXJzIH0pID0+IHtcbiAgICAgICAgICAgIGNvbnN0IFtzZWFyY2hUZXJtLCBzZXRTZWFyY2hUZXJtXSA9IHVzZVN0YXRlKCcnKTtcbiAgICAgICAgICAgIGNvbnN0IFtzZWxlY3RlZFVzZXJGb3JCYW4sIHNldFNlbGVjdGVkVXNlckZvckJhbl0gPSB1c2VTdGF0ZShudWxsKTtcblxuICAgICAgICAgICAgY29uc3QgZmlsdGVyZWRVc2VycyA9IHVzZXJzLmZpbHRlcih1ID0+IFxuICAgICAgICAgICAgICAgICh1LmRpc3BsYXlOYW1lIHx8ICcnKS50b0xvd2VyQ2FzZSgpLmluY2x1ZGVzKHNlYXJjaFRlcm0udG9Mb3dlckNhc2UoKSkgfHxcbiAgICAgICAgICAgICAgICAodS5lbWFpbCB8fCAnJykudG9Mb3dlckNhc2UoKS5pbmNsdWRlcyhzZWFyY2hUZXJtLnRvTG93ZXJDYXNlKCkpXG4gICAgICAgICAgICApO1xuXG4gICAgICAgICAgICBjb25zdCBoYW5kbGVCYW5DbGljayA9IGFzeW5jICh1c2VyKSA9PiB7XG4gICAgICAgICAgICAgICAgaWYgKHVzZXIuaXNCYW5uZWQpIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHdpbmRvdy5jb25maXJtKGAke3VzZXIuZGlzcGxheU5hbWV9IGt1bGxhbsSxY8Sxc8SxbsSxbiB5YXNhxJ/EsW7EsSBrYWxkxLFybWFrIGlzdGl5b3IgbXVzdW51ej9gKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBhd2FpdCB1bmJhblVzZXIodXNlci51aWQpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmVycm9yKGVycm9yKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBhbGVydChcIsSwxZ9sZW0gYmHFn2FyxLFzxLF6OiBcIiArIGVycm9yLmNvZGUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgc2V0U2VsZWN0ZWRVc2VyRm9yQmFuKHVzZXIpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH07XG5cbiAgICAgICAgICAgIGNvbnN0IGNvbmZpcm1CYW4gPSBhc3luYyAoZHVyYXRpb24pID0+IHtcbiAgICAgICAgICAgICAgICBpZiAoc2VsZWN0ZWRVc2VyRm9yQmFuKSB7XG4gICAgICAgICAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBhd2FpdCBiYW5Vc2VyKHNlbGVjdGVkVXNlckZvckJhbi51aWQsIGR1cmF0aW9uKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHNldFNlbGVjdGVkVXNlckZvckJhbihudWxsKTtcbiAgICAgICAgICAgICAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoZXJyb3IpO1xuICAgICAgICAgICAgICAgICAgICAgICAgYWxlcnQoXCLEsMWfbGVtIGJhxZ9hcsSxc8SxejogXCIgKyBlcnJvci5jb2RlKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH07XG5cbiAgICAgICAgICAgIGNvbnN0IGhhbmRsZVRvZ2dsZVZlcmlmaWNhdGlvbiA9IGFzeW5jICh1aWQsIGN1cnJlbnRTdGF0dXMpID0+IHtcbiAgICAgICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgICAgICBhd2FpdCB0b2dnbGVVc2VyVmVyaWZpY2F0aW9uKHVpZCwgY3VycmVudFN0YXR1cyk7XG4gICAgICAgICAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgICAgICAgICAgICAgY29uc29sZS5lcnJvcihlcnJvcik7XG4gICAgICAgICAgICAgICAgICAgIGFsZXJ0KFwixLDFn2xlbSBiYcWfYXLEsXPEsXo6IFwiICsgZXJyb3IuY29kZSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfTtcblxuICAgICAgICAgICAgcmV0dXJuIChcbiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInNwYWNlLXktNlwiPlxuICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXgganVzdGlmeS1iZXR3ZWVuIGl0ZW1zLWNlbnRlclwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgPGgyIGNsYXNzTmFtZT1cInRleHQtMnhsIGZvbnQtYm9sZCB0ZXh0LXNsYXRlLTgwMFwiPkt1bGxhbsSxY8SxIFnDtm5ldGltaTwvaDI+XG4gICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInJlbGF0aXZlXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPGlucHV0IFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0eXBlPVwidGV4dFwiIHBsYWNlaG9sZGVyPVwiS3VsbGFuxLFjxLEgYXJhLi4uXCIgXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cInBsLTEwIHByLTQgcHktMiBib3JkZXIgYm9yZGVyLXNsYXRlLTMwMCByb3VuZGVkLWxnIGZvY3VzOnJpbmctMiBmb2N1czpyaW5nLXByaW1hcnktNTAwIG91dGxpbmUtbm9uZSB3LTY0XCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFsdWU9e3NlYXJjaFRlcm19IG9uQ2hhbmdlPXsoZSkgPT4gc2V0U2VhcmNoVGVybShlLnRhcmdldC52YWx1ZSl9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLz5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8aSBjbGFzc05hbWU9XCJmYS1zb2xpZCBmYS1zZWFyY2ggYWJzb2x1dGUgbGVmdC0zIHRvcC0zIHRleHQtc2xhdGUtNDAwXCI+PC9pPlxuICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImJnLXdoaXRlIHJvdW5kZWQteGwgc2hhZG93LXNtIGJvcmRlciBib3JkZXItc2xhdGUtMjAwIG92ZXJmbG93LWhpZGRlblwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgPHRhYmxlIGNsYXNzTmFtZT1cIm1pbi13LWZ1bGwgZGl2aWRlLXkgZGl2aWRlLXNsYXRlLTIwMFwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDx0aGVhZCBjbGFzc05hbWU9XCJiZy1zbGF0ZS01MFwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8dHI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8dGggY2xhc3NOYW1lPVwicHgtNiBweS0zIHRleHQtbGVmdCB0ZXh0LXhzIGZvbnQtYm9sZCB0ZXh0LXNsYXRlLTUwMCB1cHBlcmNhc2VcIj5LdWxsYW7EsWPEsTwvdGg+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8dGggY2xhc3NOYW1lPVwicHgtNiBweS0zIHRleHQtbGVmdCB0ZXh0LXhzIGZvbnQtYm9sZCB0ZXh0LXNsYXRlLTUwMCB1cHBlcmNhc2VcIj5EdXJ1bTwvdGg+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8dGggY2xhc3NOYW1lPVwicHgtNiBweS0zIHRleHQtbGVmdCB0ZXh0LXhzIGZvbnQtYm9sZCB0ZXh0LXNsYXRlLTUwMCB1cHBlcmNhc2VcIj5NYXZpIFRpazwvdGg+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8dGggY2xhc3NOYW1lPVwicHgtNiBweS0zIHRleHQtcmlnaHQgdGV4dC14cyBmb250LWJvbGQgdGV4dC1zbGF0ZS01MDAgdXBwZXJjYXNlXCI+xLDFn2xlbWxlcjwvdGg+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvdHI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPC90aGVhZD5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8dGJvZHkgY2xhc3NOYW1lPVwiYmctd2hpdGUgZGl2aWRlLXkgZGl2aWRlLXNsYXRlLTIwMFwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7ZmlsdGVyZWRVc2Vycy5sZW5ndGggPT09IDAgPyAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8dHI+PHRkIGNvbFNwYW49ezR9IGNsYXNzTmFtZT1cInB4LTYgcHktOCB0ZXh0LWNlbnRlciB0ZXh0LXNsYXRlLTUwMFwiPkt1bGxhbsSxY8SxIGJ1bHVuYW1hZMSxLjwvdGQ+PC90cj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKSA6IChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZpbHRlcmVkVXNlcnMubWFwKHVzZXIgPT4gKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDx0ciBrZXk9e3VzZXIudWlkfSBjbGFzc05hbWU9XCJob3ZlcjpiZy1zbGF0ZS01MCB0cmFuc2l0aW9uLWNvbG9yc1wiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8dGQgY2xhc3NOYW1lPVwicHgtNiBweS00IHdoaXRlc3BhY2Utbm93cmFwXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXggaXRlbXMtY2VudGVyXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJoLTEwIHctMTAgZmxleC1zaHJpbmstMCBiZy1zbGF0ZS0yMDAgcm91bmRlZC1mdWxsIGZsZXggaXRlbXMtY2VudGVyIGp1c3RpZnktY2VudGVyIHRleHQtc2xhdGUtNTAwIGZvbnQtYm9sZCBvdmVyZmxvdy1oaWRkZW5cIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAge3VzZXIucGhvdG9VUkwgPyA8aW1nIHNyYz17dXNlci5waG90b1VSTH0gY2xhc3NOYW1lPVwidy1mdWxsIGgtZnVsbCBvYmplY3QtY292ZXJcIi8+IDogKHVzZXIuZGlzcGxheU5hbWUgPyB1c2VyLmRpc3BsYXlOYW1lLmNoYXJBdCgwKS50b1VwcGVyQ2FzZSgpIDogJz8nKX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cIm1sLTRcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJ0ZXh0LXNtIGZvbnQtbWVkaXVtIHRleHQtc2xhdGUtOTAwIGZsZXggaXRlbXMtY2VudGVyIGdhcC0xXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7dXNlci5kaXNwbGF5TmFtZSB8fCAnxLBzaW1zaXogS3VsbGFuxLFjxLEnfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAge3VzZXIuaXNWZXJpZmllZCAmJiA8aSBjbGFzc05hbWU9XCJmYS1zb2xpZCBmYS1jaXJjbGUtY2hlY2sgdGV4dC1ibHVlLTUwMCB0ZXh0LXhzXCI+PC9pPn1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwidGV4dC1zbSB0ZXh0LXNsYXRlLTUwMFwiPnt1c2VyLmVtYWlsfTwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvdGQ+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDx0ZCBjbGFzc05hbWU9XCJweC02IHB5LTQgd2hpdGVzcGFjZS1ub3dyYXBcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHt1c2VyLmlzQmFubmVkID8gKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cInB4LTIgaW5saW5lLWZsZXggdGV4dC14cyBsZWFkaW5nLTUgZm9udC1zZW1pYm9sZCByb3VuZGVkLWZ1bGwgYmctcmVkLTEwMCB0ZXh0LXJlZC04MDBcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgWWFzYWtsxLEge3VzZXIuYmFuVW50aWwgPyBgKEJpdGnFnzogJHtuZXcgRGF0ZSh1c2VyLmJhblVudGlsKS50b0xvY2FsZURhdGVTdHJpbmcoKX0pYCA6ICcoU8SxbsSxcnPEsXopJ31cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L3NwYW4+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICApIDogKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cInB4LTIgaW5saW5lLWZsZXggdGV4dC14cyBsZWFkaW5nLTUgZm9udC1zZW1pYm9sZCByb3VuZGVkLWZ1bGwgYmctZ3JlZW4tMTAwIHRleHQtZ3JlZW4tODAwXCI+QWt0aWY8L3NwYW4+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICApfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L3RkPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8dGQgY2xhc3NOYW1lPVwicHgtNiBweS00IHdoaXRlc3BhY2Utbm93cmFwXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8YnV0dG9uIG9uQ2xpY2s9eygpID0+IGhhbmRsZVRvZ2dsZVZlcmlmaWNhdGlvbih1c2VyLnVpZCwgdXNlci5pc1ZlcmlmaWVkIHx8IGZhbHNlKX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU9e2B0ZXh0LTJ4bCB0cmFuc2l0aW9uLWNvbG9ycyAke3VzZXIuaXNWZXJpZmllZCA/ICd0ZXh0LWJsdWUtNTAwJyA6ICd0ZXh0LXNsYXRlLTIwMCBob3Zlcjp0ZXh0LWJsdWUtMzAwJ31gfT5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8aSBjbGFzc05hbWU9XCJmYS1zb2xpZCBmYS1jaXJjbGUtY2hlY2tcIj48L2k+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2J1dHRvbj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC90ZD5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHRkIGNsYXNzTmFtZT1cInB4LTYgcHktNCB3aGl0ZXNwYWNlLW5vd3JhcCB0ZXh0LXJpZ2h0IHRleHQtc20gZm9udC1tZWRpdW1cIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxidXR0b24gb25DbGljaz17KCkgPT4gaGFuZGxlQmFuQ2xpY2sodXNlcil9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPXtgcHgtMyBweS0xIHJvdW5kZWQtbWQgdGV4dC13aGl0ZSB0ZXh0LXhzIGZvbnQtYm9sZCB1cHBlcmNhc2UgdHJhbnNpdGlvbi1jb2xvcnMgJHt1c2VyLmlzQmFubmVkID8gJ2JnLXNsYXRlLTUwMCcgOiAnYmctcmVkLTUwMCBob3ZlcjpiZy1yZWQtNjAwJ31gfT5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7dXNlci5pc0Jhbm5lZCA/ICdZYXNhxJ/EsSBLYWxkxLFyJyA6ICdZYXNha2xhJ31cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvYnV0dG9uPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L3RkPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvdHI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICApKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICApfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvdGJvZHk+XG4gICAgICAgICAgICAgICAgICAgICAgICA8L3RhYmxlPlxuICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAge3NlbGVjdGVkVXNlckZvckJhbiAmJiAoXG4gICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZpeGVkIGluc2V0LTAgYmctYmxhY2sgYmctb3BhY2l0eS01MCBmbGV4IGl0ZW1zLWNlbnRlciBqdXN0aWZ5LWNlbnRlciB6LTUwXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJiZy13aGl0ZSByb3VuZGVkLXhsIHNoYWRvdy0yeGwgcC02IHctOTYgbWF4LXctZnVsbCBtLTRcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGgzIGNsYXNzTmFtZT1cInRleHQtbGcgZm9udC1ib2xkIHRleHQtc2xhdGUtODAwIG1iLTRcIj5LdWxsYW7EsWPEsXnEsSBZYXNha2xhOiA8c3BhbiBjbGFzc05hbWU9XCJ0ZXh0LXByaW1hcnktNjAwXCI+e3NlbGVjdGVkVXNlckZvckJhbi5kaXNwbGF5TmFtZX08L3NwYW4+PC9oMz5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJzcGFjZS15LTNcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxidXR0b24gb25DbGljaz17KCkgPT4gY29uZmlybUJhbigyNCl9IGNsYXNzTmFtZT1cInctZnVsbCBwLTMgdGV4dC1sZWZ0IGJvcmRlciByb3VuZGVkLWxnIGhvdmVyOmJnLXNsYXRlLTUwIGZsZXgganVzdGlmeS1iZXR3ZWVuIGl0ZW1zLWNlbnRlciBncm91cFwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxzcGFuPjI0IFNhYXQ8L3NwYW4+PGkgY2xhc3NOYW1lPVwiZmEtcmVndWxhciBmYS1jbG9jayB0ZXh0LXNsYXRlLTQwMCBncm91cC1ob3Zlcjp0ZXh0LXByaW1hcnktNTAwXCI+PC9pPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9idXR0b24+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8YnV0dG9uIG9uQ2xpY2s9eygpID0+IGNvbmZpcm1CYW4oMTY4KX0gY2xhc3NOYW1lPVwidy1mdWxsIHAtMyB0ZXh0LWxlZnQgYm9yZGVyIHJvdW5kZWQtbGcgaG92ZXI6Ymctc2xhdGUtNTAgZmxleCBqdXN0aWZ5LWJldHdlZW4gaXRlbXMtY2VudGVyIGdyb3VwXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHNwYW4+MSBIYWZ0YTwvc3Bhbj48aSBjbGFzc05hbWU9XCJmYS1zb2xpZCBmYS1jYWxlbmRhci13ZWVrIHRleHQtc2xhdGUtNDAwIGdyb3VwLWhvdmVyOnRleHQtcHJpbWFyeS01MDBcIj48L2k+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2J1dHRvbj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxidXR0b24gb25DbGljaz17KCkgPT4gY29uZmlybUJhbihudWxsKX0gY2xhc3NOYW1lPVwidy1mdWxsIHAtMyB0ZXh0LWxlZnQgYm9yZGVyIGJvcmRlci1yZWQtMjAwIGJnLXJlZC01MCByb3VuZGVkLWxnIGhvdmVyOmJnLXJlZC0xMDAgZmxleCBqdXN0aWZ5LWJldHdlZW4gaXRlbXMtY2VudGVyIGdyb3VwIHRleHQtcmVkLTcwMCBmb250LW1lZGl1bVwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxzcGFuPlPEsW7EsXJzxLF6PC9zcGFuPjxpIGNsYXNzTmFtZT1cImZhLXNvbGlkIGZhLWJhbiB0ZXh0LXJlZC00MDAgZ3JvdXAtaG92ZXI6dGV4dC1yZWQtNjAwXCI+PC9pPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9idXR0b24+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cIm10LTYgZmxleCBqdXN0aWZ5LWVuZFwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGJ1dHRvbiBvbkNsaWNrPXsoKSA9PiBzZXRTZWxlY3RlZFVzZXJGb3JCYW4obnVsbCl9IGNsYXNzTmFtZT1cInB4LTQgcHktMiB0ZXh0LXNsYXRlLTUwMCBob3ZlcjpiZy1zbGF0ZS0xMDAgcm91bmRlZC1sZyB0cmFuc2l0aW9uLWNvbG9yc1wiPsSwcHRhbDwvYnV0dG9uPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICApfVxuICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgKTtcbiAgICAgICAgfTtcblxuICAgICAgICAvLyA0LiBBbm5vdW5jZW1lbnRzXG4gICAgICAgIGNvbnN0IEFubm91bmNlbWVudHMgPSAoeyBhbm5vdW5jZW1lbnRzIH0pID0+IHtcbiAgICAgICAgICAgIGNvbnN0IFt0aXRsZSwgc2V0VGl0bGVdID0gdXNlU3RhdGUoJycpO1xuICAgICAgICAgICAgY29uc3QgW2NvbnRlbnQsIHNldENvbnRlbnRdID0gdXNlU3RhdGUoJycpO1xuICAgICAgICAgICAgY29uc3QgW2lzU3VibWl0dGluZywgc2V0SXNTdWJtaXR0aW5nXSA9IHVzZVN0YXRlKGZhbHNlKTtcblxuICAgICAgICAgICAgY29uc3QgaGFuZGxlU3VibWl0ID0gYXN5bmMgKGUpID0+IHtcbiAgICAgICAgICAgICAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgICAgICAgICAgaWYgKCF0aXRsZS50cmltKCkgfHwgIWNvbnRlbnQudHJpbSgpKSByZXR1cm47XG4gICAgICAgICAgICAgICAgc2V0SXNTdWJtaXR0aW5nKHRydWUpO1xuICAgICAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgICAgIGF3YWl0IGNyZWF0ZUFubm91bmNlbWVudCh0aXRsZSwgY29udGVudCwgXCJBZG1pblwiKTtcbiAgICAgICAgICAgICAgICAgICAgc2V0VGl0bGUoJycpOyBzZXRDb250ZW50KCcnKTtcbiAgICAgICAgICAgICAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmVycm9yKGVycm9yKTtcbiAgICAgICAgICAgICAgICAgICAgYWxlcnQoXCJEdXl1cnUgeWF5xLFubGFuYW1hZMSxOiBcIiArIGVycm9yLmNvZGUpO1xuICAgICAgICAgICAgICAgIH0gZmluYWxseSB7IFxuICAgICAgICAgICAgICAgICAgICBzZXRJc1N1Ym1pdHRpbmcoZmFsc2UpOyBcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9O1xuXG4gICAgICAgICAgICBjb25zdCBoYW5kbGVEZWxldGUgPSBhc3luYyAoaWQpID0+IHtcbiAgICAgICAgICAgICAgICBpZiAod2luZG93LmNvbmZpcm0oXCJCdSBkdXl1cnV5dSBzaWxtZWsgaXN0ZWRpxJ9pbml6ZSBlbWluIG1pc2luaXo/XCIpKSB7XG4gICAgICAgICAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBhd2FpdCBkZWxldGVBbm5vdW5jZW1lbnQoaWQpO1xuICAgICAgICAgICAgICAgICAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgICAgICAgICAgICAgICAgICAgY29uc29sZS5lcnJvcihlcnJvcik7XG4gICAgICAgICAgICAgICAgICAgICAgICBhbGVydChcIlNpbG1lIGJhxZ9hcsSxc8SxejogXCIgKyBlcnJvci5jb2RlKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH07XG5cbiAgICAgICAgICAgIHJldHVybiAoXG4gICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJncmlkIGdyaWQtY29scy0xIGxnOmdyaWQtY29scy0zIGdhcC04XCI+XG4gICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwibGc6Y29sLXNwYW4tMVwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJiZy13aGl0ZSBwLTYgcm91bmRlZC14bCBzaGFkb3ctc20gYm9yZGVyIGJvcmRlci1zbGF0ZS0yMDAgc3RpY2t5IHRvcC00XCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPGgyIGNsYXNzTmFtZT1cInRleHQteGwgZm9udC1ib2xkIHRleHQtc2xhdGUtODAwIG1iLTQgZmxleCBpdGVtcy1jZW50ZXIgZ2FwLTJcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGkgY2xhc3NOYW1lPVwiZmEtc29saWQgZmEtcGVuLW5pYiB0ZXh0LXByaW1hcnktNTAwXCI+PC9pPiBZZW5pIER1eXVydVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvaDI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPGZvcm0gb25TdWJtaXQ9e2hhbmRsZVN1Ym1pdH0gY2xhc3NOYW1lPVwic3BhY2UteS00XCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8bGFiZWwgY2xhc3NOYW1lPVwiYmxvY2sgdGV4dC1zbSBmb250LW1lZGl1bSB0ZXh0LXNsYXRlLTcwMCBtYi0xXCI+QmHFn2zEsWs8L2xhYmVsPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGlucHV0IHR5cGU9XCJ0ZXh0XCIgdmFsdWU9e3RpdGxlfSBvbkNoYW5nZT17KGUpID0+IHNldFRpdGxlKGUudGFyZ2V0LnZhbHVlKX0gY2xhc3NOYW1lPVwidy1mdWxsIHB4LTQgcHktMiBib3JkZXIgYm9yZGVyLXNsYXRlLTMwMCByb3VuZGVkLWxnIGZvY3VzOnJpbmctMiBmb2N1czpyaW5nLXByaW1hcnktNTAwIG91dGxpbmUtbm9uZVwiIHBsYWNlaG9sZGVyPVwiw5ZybjogU3VudWN1IEJha8SxbcSxXCIvPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxsYWJlbCBjbGFzc05hbWU9XCJibG9jayB0ZXh0LXNtIGZvbnQtbWVkaXVtIHRleHQtc2xhdGUtNzAwIG1iLTFcIj7EsMOnZXJpazwvbGFiZWw+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8dGV4dGFyZWEgdmFsdWU9e2NvbnRlbnR9IG9uQ2hhbmdlPXsoZSkgPT4gc2V0Q29udGVudChlLnRhcmdldC52YWx1ZSl9IHJvd3M9ezV9IGNsYXNzTmFtZT1cInctZnVsbCBweC00IHB5LTIgYm9yZGVyIGJvcmRlci1zbGF0ZS0zMDAgcm91bmRlZC1sZyBmb2N1czpyaW5nLTIgZm9jdXM6cmluZy1wcmltYXJ5LTUwMCBvdXRsaW5lLW5vbmUgcmVzaXplLW5vbmVcIiBwbGFjZWhvbGRlcj1cIkR1eXVydSBtZXRuaS4uLlwiPjwvdGV4dGFyZWE+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8YnV0dG9uIHR5cGU9XCJzdWJtaXRcIiBkaXNhYmxlZD17aXNTdWJtaXR0aW5nfSBjbGFzc05hbWU9XCJ3LWZ1bGwgYmctcHJpbWFyeS02MDAgdGV4dC13aGl0ZSBweS0yIHB4LTQgcm91bmRlZC1sZyBob3ZlcjpiZy1wcmltYXJ5LTcwMCB0cmFuc2l0aW9uLWNvbG9ycyBkaXNhYmxlZDpvcGFjaXR5LTUwIGZvbnQtbWVkaXVtXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7aXNTdWJtaXR0aW5nID8gJ1lhecSxbmxhbsSxeW9yLi4uJyA6ICdZYXnEsW5sYSd9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvYnV0dG9uPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZm9ybT5cbiAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJsZzpjb2wtc3Bhbi0yIHNwYWNlLXktNFwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgPGgyIGNsYXNzTmFtZT1cInRleHQteGwgZm9udC1ib2xkIHRleHQtc2xhdGUtODAwIG1iLTRcIj5Ba3RpZiBEdXl1cnVsYXI8L2gyPlxuICAgICAgICAgICAgICAgICAgICAgICAge2Fubm91bmNlbWVudHMubGVuZ3RoID09PSAwID8gKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwidGV4dC1jZW50ZXIgcHktMTIgYmctc2xhdGUtNTAgcm91bmRlZC14bCBib3JkZXIgYm9yZGVyLWRhc2hlZCBib3JkZXItc2xhdGUtMzAwIHRleHQtc2xhdGUtNTAwXCI+PGkgY2xhc3NOYW1lPVwiZmEtcmVndWxhciBmYS1uZXdzcGFwZXIgdGV4dC0zeGwgbWItMlwiPjwvaT48cD5IZW7DvHogZHV5dXJ1IG9sdcWfdHVydWxtYW3EscWfLjwvcD48L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICkgOiAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYW5ub3VuY2VtZW50cy5zb3J0KChhLGIpID0+IGIuY3JlYXRlZEF0IC0gYS5jcmVhdGVkQXQpLm1hcChhbm4gPT4gKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGtleT17YW5uLmlkfSBjbGFzc05hbWU9XCJiZy13aGl0ZSBwLTYgcm91bmRlZC14bCBzaGFkb3ctc20gYm9yZGVyIGJvcmRlci1zbGF0ZS0yMDAgZ3JvdXAgaG92ZXI6Ym9yZGVyLXByaW1hcnktMjAwIHRyYW5zaXRpb24tYWxsXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXgganVzdGlmeS1iZXR3ZWVuIGl0ZW1zLXN0YXJ0IG1iLTJcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8aDMgY2xhc3NOYW1lPVwiZm9udC1ib2xkIHRleHQtbGcgdGV4dC1zbGF0ZS05MDBcIj57YW5uLnRpdGxlfTwvaDM+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGJ1dHRvbiBvbkNsaWNrPXsoKSA9PiBoYW5kbGVEZWxldGUoYW5uLmlkKX0gY2xhc3NOYW1lPVwidGV4dC1zbGF0ZS00MDAgaG92ZXI6dGV4dC1yZWQtNTAwIG9wYWNpdHktMCBncm91cC1ob3ZlcjpvcGFjaXR5LTEwMCB0cmFuc2l0aW9uLWFsbCBwLTFcIj48aSBjbGFzc05hbWU9XCJmYS1zb2xpZCBmYS10cmFzaC1jYW5cIj48L2k+PC9idXR0b24+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxwIGNsYXNzTmFtZT1cInRleHQtc2xhdGUtNjAwIHRleHQtc20gbGVhZGluZy1yZWxheGVkIHdoaXRlc3BhY2UtcHJlLXdyYXBcIj57YW5uLmNvbnRlbnR9PC9wPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJtdC00IGZsZXggaXRlbXMtY2VudGVyIGdhcC0yIHRleHQteHMgdGV4dC1zbGF0ZS00MDAgZm9udC1tZWRpdW0gYm9yZGVyLXQgYm9yZGVyLXNsYXRlLTEwMCBwdC0zXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGkgY2xhc3NOYW1lPVwiZmEtcmVndWxhciBmYS1jbG9ja1wiPjwvaT48c3Bhbj57bmV3IERhdGUoYW5uLmNyZWF0ZWRBdCkudG9Mb2NhbGVTdHJpbmcoKX08L3NwYW4+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgKSlcbiAgICAgICAgICAgICAgICAgICAgICAgICl9XG4gICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgKTtcbiAgICAgICAgfTtcblxuICAgICAgICAvLyA1LiBHbG9iYWxDaGF0XG4gICAgICAgIGNvbnN0IEdsb2JhbENoYXQgPSAoeyBtZXNzYWdlcyB9KSA9PiB7XG4gICAgICAgICAgICBjb25zdCBbYWRtaW5Nc2csIHNldEFkbWluTXNnXSA9IHVzZVN0YXRlKCcnKTtcbiAgICAgICAgICAgIGNvbnN0IG1lc3NhZ2VzRW5kUmVmID0gdXNlUmVmKG51bGwpO1xuXG4gICAgICAgICAgICB1c2VFZmZlY3QoKCkgPT4geyBcbiAgICAgICAgICAgICAgICBpZiAobWVzc2FnZXNFbmRSZWYuY3VycmVudCkge1xuICAgICAgICAgICAgICAgICAgICBtZXNzYWdlc0VuZFJlZi5jdXJyZW50LnNjcm9sbEludG9WaWV3KHsgYmVoYXZpb3I6IFwic21vb3RoXCIgfSk7IFxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0sIFttZXNzYWdlc10pO1xuXG4gICAgICAgICAgICBjb25zdCBoYW5kbGVTZW5kID0gYXN5bmMgKGUpID0+IHtcbiAgICAgICAgICAgICAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgICAgICAgICAgaWYgKCFhZG1pbk1zZy50cmltKCkpIHJldHVybjtcbiAgICAgICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgICAgICBhd2FpdCBzZW5kQWRtaW5NZXNzYWdlKGFkbWluTXNnLCBcIlNpc3RlbSBBZG1pbmlcIik7XG4gICAgICAgICAgICAgICAgICAgIHNldEFkbWluTXNnKCcnKTtcbiAgICAgICAgICAgICAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmVycm9yKGVycm9yKTtcbiAgICAgICAgICAgICAgICAgICAgYWxlcnQoXCJNZXNhaiBnw7ZuZGVyaWxlbWVkaTogXCIgKyBlcnJvci5jb2RlKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9O1xuXG4gICAgICAgICAgICBjb25zdCBoYW5kbGVEZWxldGUgPSBhc3luYyAoaWQpID0+IHtcbiAgICAgICAgICAgICAgICBpZiAod2luZG93LmNvbmZpcm0oXCJCdSBtZXNhasSxIHNpbG1layBpc3RlZGnEn2luaXplIGVtaW4gbWlzaW5pej9cIikpIHtcbiAgICAgICAgICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGF3YWl0IGRlbGV0ZUNoYXRNZXNzYWdlKGlkKTtcbiAgICAgICAgICAgICAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoZXJyb3IpO1xuICAgICAgICAgICAgICAgICAgICAgICAgYWxlcnQoXCJTaWxtZSBiYcWfYXLEsXPEsXo6IFwiICsgZXJyb3IuY29kZSk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9O1xuXG4gICAgICAgICAgICBjb25zdCBzb3J0ZWRNZXNzYWdlcyA9IFsuLi5tZXNzYWdlc10uc29ydCgoYSwgYikgPT4gYS50aW1lc3RhbXAgLSBiLnRpbWVzdGFtcCk7XG5cbiAgICAgICAgICAgIHJldHVybiAoXG4gICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4IGZsZXgtY29sIGgtW2NhbGMoMTAwdmgtOHJlbSldIGJnLXdoaXRlIHJvdW5kZWQteGwgc2hhZG93LXNtIGJvcmRlciBib3JkZXItc2xhdGUtMjAwIG92ZXJmbG93LWhpZGRlblwiPlxuICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInAtNCBib3JkZXItYiBib3JkZXItc2xhdGUtMjAwIGJnLXNsYXRlLTUwIGZsZXgganVzdGlmeS1iZXR3ZWVuIGl0ZW1zLWNlbnRlclwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgPGgyIGNsYXNzTmFtZT1cImZvbnQtYm9sZCB0ZXh0LXNsYXRlLTgwMCBmbGV4IGl0ZW1zLWNlbnRlciBnYXAtMlwiPjxpIGNsYXNzTmFtZT1cImZhLXNvbGlkIGZhLWNvbW1lbnRzIHRleHQtcHJpbWFyeS01MDBcIj48L2k+IENhbmzEsSBHbG9iYWwgU29oYmV0PC9oMj5cbiAgICAgICAgICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cInRleHQteHMgZm9udC1ib2xkIGJnLWdyZWVuLTEwMCB0ZXh0LWdyZWVuLTcwMCBweC0yIHB5LTEgcm91bmRlZC1mdWxsIGZsZXggaXRlbXMtY2VudGVyIGdhcC0xXCI+PHNwYW4gY2xhc3NOYW1lPVwidy0yIGgtMiBiZy1ncmVlbi01MDAgcm91bmRlZC1mdWxsIGFuaW1hdGUtcHVsc2VcIj48L3NwYW4+Q2FubMSxIEFrxLHFnzwvc3Bhbj5cbiAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleC0xIG92ZXJmbG93LXktYXV0byBwLTQgc3BhY2UteS00IGJnLXNsYXRlLTUwLzUwXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICB7c29ydGVkTWVzc2FnZXMubGVuZ3RoID09PSAwID8gKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleCBoLWZ1bGwgaXRlbXMtY2VudGVyIGp1c3RpZnktY2VudGVyIHRleHQtc2xhdGUtNDAwXCI+PHA+SGVuw7x6IG1lc2FqIHlvay48L3A+PC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICApIDogKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNvcnRlZE1lc3NhZ2VzLm1hcChtc2cgPT4gKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGtleT17bXNnLmlkfSBjbGFzc05hbWU9e2BmbGV4IGdhcC0zIGdyb3VwICR7bXNnLmlzQWRtaW4gPyAnanVzdGlmeS1lbmQnIDogJyd9YH0+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7IW1zZy5pc0FkbWluICYmIDxkaXYgY2xhc3NOYW1lPVwidy04IGgtOCBiZy1zbGF0ZS0yMDAgcm91bmRlZC1mdWxsIGZsZXggaXRlbXMtY2VudGVyIGp1c3RpZnktY2VudGVyIHRleHQteHMgZm9udC1ib2xkIHRleHQtc2xhdGUtNjAwIGZsZXgtc2hyaW5rLTBcIj57bXNnLmRpc3BsYXlOYW1lID8gbXNnLmRpc3BsYXlOYW1lLmNoYXJBdCgwKS50b1VwcGVyQ2FzZSgpIDogJz8nfTwvZGl2Pn1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPXtgbWF4LXctWzcwJV0gcmVsYXRpdmUgZ3JvdXBgfT5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT17YHAtMyByb3VuZGVkLTJ4bCB0ZXh0LXNtIHNoYWRvdy1zbSAke21zZy5pc0FkbWluID8gJ2JnLXByaW1hcnktNjAwIHRleHQtd2hpdGUgcm91bmRlZC1ici1ub25lJyA6ICdiZy13aGl0ZSB0ZXh0LXNsYXRlLTgwMCBib3JkZXIgYm9yZGVyLXNsYXRlLTIwMCByb3VuZGVkLWJsLW5vbmUnfWB9PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7IW1zZy5pc0FkbWluICYmIDxkaXYgY2xhc3NOYW1lPVwiZm9udC1ib2xkIHRleHQteHMgbWItMSB0ZXh0LXByaW1hcnktNjAwXCI+e21zZy5kaXNwbGF5TmFtZX08L2Rpdj59XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHttc2cudGV4dH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT17YHRleHQtWzEwcHhdIHRleHQtc2xhdGUtNDAwIG10LTEgZmxleCBpdGVtcy1jZW50ZXIgZ2FwLTIgJHttc2cuaXNBZG1pbiA/ICdqdXN0aWZ5LWVuZCcgOiAnanVzdGlmeS1zdGFydCd9YH0+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtuZXcgRGF0ZShtc2cudGltZXN0YW1wKS50b0xvY2FsZVRpbWVTdHJpbmcoW10sIHtob3VyOiAnMi1kaWdpdCcsIG1pbnV0ZTonMi1kaWdpdCd9KX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGJ1dHRvbiBvbkNsaWNrPXsoKSA9PiBoYW5kbGVEZWxldGUobXNnLmlkKX0gY2xhc3NOYW1lPVwib3BhY2l0eS0wIGdyb3VwLWhvdmVyOm9wYWNpdHktMTAwIHRleHQtcmVkLTQwMCBob3Zlcjp0ZXh0LXJlZC02MDAgdHJhbnNpdGlvbi1vcGFjaXR5IGJnLXdoaXRlLzgwIHJvdW5kZWQgcHgtMVwiPjxpIGNsYXNzTmFtZT1cImZhLXNvbGlkIGZhLXRyYXNoLWNhblwiPjwvaT48L2J1dHRvbj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAge21zZy5pc0FkbWluICYmIDxkaXYgY2xhc3NOYW1lPVwidy04IGgtOCBiZy1wcmltYXJ5LTEwMCByb3VuZGVkLWZ1bGwgZmxleCBpdGVtcy1jZW50ZXIganVzdGlmeS1jZW50ZXIgdGV4dC14cyBmb250LWJvbGQgdGV4dC1wcmltYXJ5LTYwMCBmbGV4LXNocmluay0wXCI+PGkgY2xhc3NOYW1lPVwiZmEtc29saWQgZmEtc2hpZWxkLWhhbHZlZFwiPjwvaT48L2Rpdj59XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICkpXG4gICAgICAgICAgICAgICAgICAgICAgICApfVxuICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiByZWY9e21lc3NhZ2VzRW5kUmVmfSAvPlxuICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJwLTQgYmctd2hpdGUgYm9yZGVyLXQgYm9yZGVyLXNsYXRlLTIwMFwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgPGZvcm0gb25TdWJtaXQ9e2hhbmRsZVNlbmR9IGNsYXNzTmFtZT1cImZsZXggZ2FwLTJcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8aW5wdXQgdHlwZT1cInRleHRcIiB2YWx1ZT17YWRtaW5Nc2d9IG9uQ2hhbmdlPXsoZSkgPT4gc2V0QWRtaW5Nc2coZS50YXJnZXQudmFsdWUpfSBjbGFzc05hbWU9XCJmbGV4LTEgcHgtNCBweS0yIGJvcmRlciBib3JkZXItc2xhdGUtMzAwIHJvdW5kZWQtbGcgZm9jdXM6cmluZy0yIGZvY3VzOnJpbmctcHJpbWFyeS01MDAgb3V0bGluZS1ub25lIHRleHQtc21cIiBwbGFjZWhvbGRlcj1cIkFkbWluIG9sYXJhayBtZXNhaiBnw7ZuZGVyLi4uXCIvPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxidXR0b24gdHlwZT1cInN1Ym1pdFwiIGRpc2FibGVkPXshYWRtaW5Nc2cudHJpbSgpfSBjbGFzc05hbWU9XCJiZy1wcmltYXJ5LTYwMCB0ZXh0LXdoaXRlIHB4LTQgcHktMiByb3VuZGVkLWxnIGhvdmVyOmJnLXByaW1hcnktNzAwIGRpc2FibGVkOm9wYWNpdHktNTAgdHJhbnNpdGlvbi1jb2xvcnNcIj48aSBjbGFzc05hbWU9XCJmYS1zb2xpZCBmYS1wYXBlci1wbGFuZVwiPjwvaT48L2J1dHRvbj5cbiAgICAgICAgICAgICAgICAgICAgICAgIDwvZm9ybT5cbiAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICApO1xuICAgICAgICB9O1xuXG4gICAgICAgIC8vIDYuIE1BSU4gQVBQXG4gICAgICAgIGNvbnN0IEFwcCA9ICgpID0+IHtcbiAgICAgICAgICAgIGNvbnN0IFtjdXJyZW50VXNlciwgc2V0Q3VycmVudFVzZXJdID0gdXNlU3RhdGUobnVsbCk7XG4gICAgICAgICAgICBjb25zdCBbbG9hZGluZywgc2V0TG9hZGluZ10gPSB1c2VTdGF0ZSh0cnVlKTtcbiAgICAgICAgICAgIGNvbnN0IFtjdXJyZW50Vmlldywgc2V0Q3VycmVudFZpZXddID0gdXNlU3RhdGUoQWRtaW5WaWV3LkRBU0hCT0FSRCk7XG4gICAgICAgICAgICBjb25zdCBbaXNDb21wYXRpYmxlRW52LCBzZXRJc0NvbXBhdGlibGVFbnZdID0gdXNlU3RhdGUodHJ1ZSk7XG4gICAgICAgICAgICBjb25zdCBbaWdub3JlRW52RXJyb3IsIHNldElnbm9yZUVudkVycm9yXSA9IHVzZVN0YXRlKGZhbHNlKTtcbiAgICAgICAgICAgIFxuICAgICAgICAgICAgLy8gRGF0YVxuICAgICAgICAgICAgY29uc3QgW3VzZXJzLCBzZXRVc2Vyc10gPSB1c2VTdGF0ZShbXSk7XG4gICAgICAgICAgICBjb25zdCBbYW5ub3VuY2VtZW50cywgc2V0QW5ub3VuY2VtZW50c10gPSB1c2VTdGF0ZShbXSk7XG4gICAgICAgICAgICBjb25zdCBbbWVzc2FnZXMsIHNldE1lc3NhZ2VzXSA9IHVzZVN0YXRlKFtdKTtcblxuICAgICAgICAgICAgLy8gU2VjdXJpdHkgU3RlcHNcbiAgICAgICAgICAgIC8vIFN0YXJ0IGF0IC0xIGZvciBcIkRvd25sb2FkIENvZGU/XCIgcHJvbXB0XG4gICAgICAgICAgICBjb25zdCBbc2VjdXJpdHlTdGVwLCBzZXRTZWN1cml0eVN0ZXBdID0gdXNlU3RhdGUoLTEpOyBcbiAgICAgICAgICAgIGNvbnN0IFtzZWN1cml0eUFuc3dlciwgc2V0U2VjdXJpdHlBbnN3ZXJdID0gdXNlU3RhdGUoJycpO1xuICAgICAgICAgICAgY29uc3QgW2Vycm9yLCBzZXRFcnJvcl0gPSB1c2VTdGF0ZSgnJyk7XG5cbiAgICAgICAgICAgIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgICAgICAgICAgICAgLy8gRW52aXJvbm1lbnQgQ2hlY2sgZm9yIGZpbGU6Ly8gcHJvdG9jb2wgd2hpY2ggY2F1c2VzIENPUlMgZXJyb3JzXG4gICAgICAgICAgICAgICAgY29uc3QgcHJvdG9jb2wgPSB3aW5kb3cubG9jYXRpb24ucHJvdG9jb2w7XG4gICAgICAgICAgICAgICAgaWYgKHByb3RvY29sICE9PSAnaHR0cDonICYmIHByb3RvY29sICE9PSAnaHR0cHM6Jykge1xuICAgICAgICAgICAgICAgICAgICBzZXRJc0NvbXBhdGlibGVFbnYoZmFsc2UpO1xuICAgICAgICAgICAgICAgICAgICBzZXRMb2FkaW5nKGZhbHNlKTtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIGNvbnN0IHVuc3Vic2NyaWJlID0gb25BdXRoU3RhdGVDaGFuZ2VkKGF1dGgsICh1c2VyKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIGlmICh1c2VyICYmIHVzZXIuZW1haWwgIT09ICdtdWhhbW1lZGFsaWFyYXM0N0BnbWFpbC5jb20nKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBzaWduT3V0KGF1dGgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgc2V0RXJyb3IoJ1lldGtpc2l6IGUtcG9zdGEgYWRyZXNpLiBFcmnFn2ltIHJlZGRlZGlsZGkuJyk7XG4gICAgICAgICAgICAgICAgICAgICAgICBzZXRDdXJyZW50VXNlcihudWxsKTtcbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHNldEN1cnJlbnRVc2VyKHVzZXIpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIHNldExvYWRpbmcoZmFsc2UpO1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIHJldHVybiAoKSA9PiB1bnN1YnNjcmliZSgpO1xuICAgICAgICAgICAgfSwgW10pO1xuXG4gICAgICAgICAgICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgICAgICAgICAgICAgIGlmICghY3VycmVudFVzZXIpIHJldHVybjtcblxuICAgICAgICAgICAgICAgIC8vIEZJUkVTVE9SRSBMSVNURU5FUlNcbiAgICAgICAgICAgICAgICBjb25zdCB1c2Vyc1JlZiA9IGNvbGxlY3Rpb24oZGIsICd1c2VycycpO1xuICAgICAgICAgICAgICAgIGNvbnN0IHVuc3ViVXNlcnMgPSBvblNuYXBzaG90KHVzZXJzUmVmLCAoc25hcHNob3QpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgbGlzdCA9IHNuYXBzaG90LmRvY3MubWFwKGRvYyA9PiAoeyB1aWQ6IGRvYy5pZCwgLi4uZG9jLmRhdGEoKSB9KSk7XG4gICAgICAgICAgICAgICAgICAgIHNldFVzZXJzKGxpc3QpO1xuICAgICAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICAgICAgY29uc3QgYW5uUmVmID0gY29sbGVjdGlvbihkYiwgJ2Fubm91bmNlbWVudHMnKTtcbiAgICAgICAgICAgICAgICBjb25zdCB1bnN1YkFubiA9IG9uU25hcHNob3QoYW5uUmVmLCAoc25hcHNob3QpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgbGlzdCA9IHNuYXBzaG90LmRvY3MubWFwKGRvYyA9PiAoeyBpZDogZG9jLmlkLCAuLi5kb2MuZGF0YSgpIH0pKTtcbiAgICAgICAgICAgICAgICAgICAgc2V0QW5ub3VuY2VtZW50cyhsaXN0KTtcbiAgICAgICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgICAgIGNvbnN0IGNoYXRRdWVyeSA9IHF1ZXJ5KGNvbGxlY3Rpb24oZGIsICdnbG9iYWxDaGF0JyksIG9yZGVyQnkoJ3RpbWVzdGFtcCcsICdhc2MnKSk7XG4gICAgICAgICAgICAgICAgY29uc3QgdW5zdWJDaGF0ID0gb25TbmFwc2hvdChjaGF0UXVlcnksIChzbmFwc2hvdCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBsaXN0ID0gc25hcHNob3QuZG9jcy5tYXAoZG9jID0+ICh7IGlkOiBkb2MuaWQsIC4uLmRvYy5kYXRhKCkgfSkpO1xuICAgICAgICAgICAgICAgICAgICBzZXRNZXNzYWdlcyhsaXN0KTtcbiAgICAgICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgICAgIHJldHVybiAoKSA9PiB7IHVuc3ViVXNlcnMoKTsgdW5zdWJBbm4oKTsgdW5zdWJDaGF0KCk7IH07XG4gICAgICAgICAgICB9LCBbY3VycmVudFVzZXJdKTtcblxuICAgICAgICAgICAgY29uc3QgaGFuZGxlU2VjdXJpdHlTdWJtaXQgPSAoZSkgPT4ge1xuICAgICAgICAgICAgICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgICAgICAgICBzZXRFcnJvcignJyk7XG4gICAgICAgICAgICAgICAgY29uc3QgYW5zd2VyID0gc2VjdXJpdHlBbnN3ZXIudHJpbSgpO1xuXG4gICAgICAgICAgICAgICAgaWYgKHNlY3VyaXR5U3RlcCA9PT0gMCkge1xuICAgICAgICAgICAgICAgICAgICBpZiAoYW5zd2VyID09PSAnTGFobWFjdW4nKSB7IHNldFNlY3VyaXR5U3RlcCgxKTsgc2V0U2VjdXJpdHlBbnN3ZXIoJycpOyB9XG4gICAgICAgICAgICAgICAgICAgIGVsc2Ugc2V0RXJyb3IoJ1lhbmzEscWfIGNldmFwISBHw7x2ZW5saWsgcHJvdG9rb2zDvCBpaGxhbGkuJyk7XG4gICAgICAgICAgICAgICAgfSBlbHNlIGlmIChzZWN1cml0eVN0ZXAgPT09IDEpIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGFuc3dlciA9PT0gJ1JlZG1pIE5vdGUgMTEgUHJvIDRHJykgeyBzZXRTZWN1cml0eVN0ZXAoMik7IHNldFNlY3VyaXR5QW5zd2VyKCcnKTsgfVxuICAgICAgICAgICAgICAgICAgICBlbHNlIHNldEVycm9yKCdZYW5sxLHFnyBjaWhheiBtb2RlbGkhJyk7XG4gICAgICAgICAgICAgICAgfSBlbHNlIGlmIChzZWN1cml0eVN0ZXAgPT09IDIpIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGFuc3dlciA9PT0gJ1NpZ2FyYcSww6dtZWvDlmxkw7xyw7xyJykgeyBzZXRTZWN1cml0eVN0ZXAoMyk7IHNldFNlY3VyaXR5QW5zd2VyKCcnKTsgfVxuICAgICAgICAgICAgICAgICAgICBlbHNlIHNldEVycm9yKCdIYXRhbMSxIE1hc3RlciDFnmlmcmUhIFNpc3RlbSBraWxpdGxlbml5b3IuLi4nKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgXG4gICAgICAgICAgICBjb25zdCBoYW5kbGVEb3dubG9hZENvZGUgPSAoKSA9PiB7XG4gICAgICAgICAgICAgICAgY29uc3QgZWxlbWVudCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJhXCIpO1xuICAgICAgICAgICAgICAgIGNvbnN0IGZpbGUgPSBuZXcgQmxvYihbZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50Lm91dGVySFRNTF0sIHt0eXBlOiAndGV4dC9odG1sJ30pO1xuICAgICAgICAgICAgICAgIGVsZW1lbnQuaHJlZiA9IFVSTC5jcmVhdGVPYmplY3RVUkwoZmlsZSk7XG4gICAgICAgICAgICAgICAgZWxlbWVudC5kb3dubG9hZCA9IFwibmUtaGFiZXItYWRtaW4uaHRtbFwiO1xuICAgICAgICAgICAgICAgIGRvY3VtZW50LmJvZHkuYXBwZW5kQ2hpbGQoZWxlbWVudCk7XG4gICAgICAgICAgICAgICAgZWxlbWVudC5jbGljaygpO1xuICAgICAgICAgICAgICAgIGRvY3VtZW50LmJvZHkucmVtb3ZlQ2hpbGQoZWxlbWVudCk7XG4gICAgICAgICAgICB9O1xuXG4gICAgICAgICAgICBjb25zdCBoYW5kbGVHb29nbGVMb2dpbiA9IGFzeW5jICgpID0+IHtcbiAgICAgICAgICAgICAgICBzZXRFcnJvcignJyk7XG4gICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgLy8gMS4gQ2hlY2sgUHJvdG9jb2wgRXhwbGljaXRseSBpbiBMb2dpblxuICAgICAgICAgICAgICAgIGlmICh3aW5kb3cubG9jYXRpb24ucHJvdG9jb2wgPT09ICdmaWxlOicpIHtcbiAgICAgICAgICAgICAgICAgICAgc2V0RXJyb3IoJ0tSxLBUxLBLIEhBVEE6IEdvb2dsZSBpbGUgR2lyacWfIMO2emVsbGnEn2kgXCJmaWxlOi8vXCIgcHJvdG9rb2zDvG5kZSAoZG9zeWF5YSDDp2lmdCB0xLFrbGF5YXJhayBhw6d0xLHEn8SxbsSxemRhKSBnw7x2ZW5saWsgbmVkZW5peWxlIMOHQUxJxZ5NQVouXFxuXFxuw4fDtnrDvG06XFxuMS4gVlMgQ29kZSBcIkxpdmUgU2VydmVyXCIgZWtsZW50aXNpbmkga3VydW4uXFxuMi4gRG9zeWF5YSBzYcSfIHTEsWtsYXnEsXAgXCJPcGVuIHdpdGggTGl2ZSBTZXJ2ZXJcIiBkaXllcmVrIGHDp8Sxbi4nKTtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHJlc3VsdCA9IGF3YWl0IHNpZ25JbldpdGhHb29nbGUoKTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHJlc3VsdC51c2VyLmVtYWlsICE9PSAnbXVoYW1tZWRhbGlhcmFzNDdAZ21haWwuY29tJykge1xuICAgICAgICAgICAgICAgICAgICAgICAgYXdhaXQgc2lnbk91dChhdXRoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHNldEVycm9yKCdCdSBwYW5lbCBzYWRlY2UgeWV0a2lsaSB5w7ZuZXRpY2kgKG11aGFtbWVkYWxpYXJhczQ3QGdtYWlsLmNvbSkgacOnaW5kaXIuJyk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgICAgICAgICAgICAgICAgY29uc29sZS5lcnJvcihcIkxvZ2luIEVycjpcIiwgZXJyKTtcbiAgICAgICAgICAgICAgICAgICAgbGV0IG1zZyA9IGBHb29nbGUgR2lyacWfIEhhdGFzxLE6ICR7ZXJyLm1lc3NhZ2V9YDtcbiAgICAgICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgICAgIGlmIChlcnIuY29kZSA9PT0gJ2F1dGgvdW5hdXRob3JpemVkLWRvbWFpbicpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGN1cnJlbnREb21haW4gPSB3aW5kb3cubG9jYXRpb24uaG9zdG5hbWUgfHwgXCJCZWxpcnNpeiAoTG9jYWwpXCI7XG4gICAgICAgICAgICAgICAgICAgICAgICBtc2cgPSBgWUVUS8SwTEVORMSwUk1FIFNPUlVOVSAoRG9tYWluIMSwem5pIFlvaylcXG5cXG7FnnUgYW4gw6dhbMSxxZ90xLHEn8SxbsSxeiBhZHJlczogJHtjdXJyZW50RG9tYWlufVxcblxcbkJ1IGhhdGF5xLEgw6fDtnptZWsgacOnaW46XFxuMS4gRmlyZWJhc2UgQ29uc29sZSdhIGdpZGluLlxcbjIuIEF1dGhlbnRpY2F0aW9uID4gU2V0dGluZ3MgPiBBdXRob3JpemVkIERvbWFpbnMgc2VrbWVzaW5pIGHDp8Sxbi5cXG4zLiBcIkFkZCBEb21haW5cIiBidXRvbnVuYSBiYXPEsXAgxZ91IGFkcmVzaSBla2xleWluOiAke2N1cnJlbnREb21haW59YDtcbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIGlmIChlcnIuY29kZSA9PT0gJ2F1dGgvcG9wdXAtY2xvc2VkLWJ5LXVzZXInKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBtc2cgPSAnR2lyacWfIHBlbmNlcmVzaW5pIGthcGF0dMSxbsSxei4gTMO8dGZlbiB0ZWtyYXIgZGVuZXlpbi4nO1xuICAgICAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKGVyci5jb2RlID09PSAnYXV0aC9jYW5jZWxsZWQtcG9wdXAtcmVxdWVzdCcpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIG1zZyA9ICdHaXJpxZ8gacWfbGVtaSBpcHRhbCBlZGlsZGkgdmV5YSB5ZW5pIGJpciBpc3RlayB5YXDEsWxkxLEuJztcbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIGlmIChlcnIuY29kZSA9PT0gJ2F1dGgvcG9wdXAtYmxvY2tlZCcpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIG1zZyA9ICdUYXJhecSxY8SxbsSxeiBhw6fEsWzEsXIgcGVuY2VyZXlpIChwb3B1cCkgZW5nZWxsZWRpLiBBZHJlcyDDp3VidcSfdW5kYWtpIHNpbWdleWUgdMSxa2xhecSxcCBpemluIHZlcmluLic7XG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoZXJyLmNvZGUgPT09ICdhdXRoL29wZXJhdGlvbi1ub3Qtc3VwcG9ydGVkLWluLXRoaXMtZW52aXJvbm1lbnQnKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBtc2cgPSAnQnUgb3J0YW1kYSBHb29nbGUgR2lyacWfaSBkZXN0ZWtsZW5taXlvci4gTMO8dGZlbiBIVFRQL0hUVFBTIHN1bnVjdXN1IChsb2NhbGhvc3QpIGt1bGxhbsSxbi4nO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgICAgICBzZXRFcnJvcihtc2cpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH07XG5cbiAgICAgICAgICAgIGNvbnN0IGhhbmRsZUxvZ291dCA9ICgpID0+IHtcbiAgICAgICAgICAgICAgICBzaWduT3V0KGF1dGgpO1xuICAgICAgICAgICAgICAgIHNldFNlY3VyaXR5U3RlcCgtMSk7IC8vIFJlc2V0IHRvIGRvd25sb2FkIHByb21wdFxuICAgICAgICAgICAgICAgIHNldFNlY3VyaXR5QW5zd2VyKCcnKTtcbiAgICAgICAgICAgIH07XG5cbiAgICAgICAgICAgIC8vIFdhcm5pbmcgU2NyZWVuIGZvciBmaWxlOi8vIHByb3RvY29sXG4gICAgICAgICAgICBpZiAoIWlzQ29tcGF0aWJsZUVudiAmJiAhaWdub3JlRW52RXJyb3IpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gKFxuICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cIm1pbi1oLXNjcmVlbiBmbGV4IGl0ZW1zLWNlbnRlciBqdXN0aWZ5LWNlbnRlciBiZy1zbGF0ZS05MDAgcC00XCI+XG4gICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImJnLXNsYXRlLTgwMCBwLTggcm91bmRlZC0yeGwgc2hhZG93LTJ4bCB3LWZ1bGwgbWF4LXctbGcgYm9yZGVyIGJvcmRlci1yZWQtODAwLzUwIHJlbGF0aXZlIG92ZXJmbG93LWhpZGRlbiB0ZXh0LWNlbnRlclwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiaW5saW5lLWZsZXggaXRlbXMtY2VudGVyIGp1c3RpZnktY2VudGVyIHctMjAgaC0yMCByb3VuZGVkLWZ1bGwgYmctcmVkLTkwMC8zMCBtYi02IGFuaW1hdGUtcHVsc2VcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGkgY2xhc3NOYW1lPVwiZmEtc29saWQgZmEtdHJpYW5nbGUtZXhjbGFtYXRpb24gdGV4dC1yZWQtNTAwIHRleHQtNHhsXCI+PC9pPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxoMSBjbGFzc05hbWU9XCJ0ZXh0LTJ4bCBmb250LWJvbGQgdGV4dC13aGl0ZSBtYi00XCI+RGVzdGVrbGVubWV5ZW4gw4dhbMSxxZ9tYSBPcnRhbcSxPC9oMT5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8cCBjbGFzc05hbWU9XCJ0ZXh0LXNsYXRlLTMwMCBtYi02IHRleHQtc20gbGVhZGluZy1yZWxheGVkXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIEJ1IHV5Z3VsYW1hIGfDvHZlbmxpayBuZWRlbmxlcml5bGUgKEdvb2dsZSBDT1JTIFBvbGl0aWthc8SxKSBkb8SfcnVkYW4gZG9zeWEgc2lzdGVtaSAoZmlsZTovLyB2ZXlhIGNvbnRlbnQ6Ly8pIMO8emVyaW5kZW4gw6dhbMSxxZ90xLFyxLFsZMSxxJ/EsW5kYSBHb29nbGUgR2lyacWfaSBoYXRhbMSxIMOnYWzEscWfYWJpbGlyLlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvcD5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImJnLXNsYXRlLTkwMC81MCBwLTQgcm91bmRlZC1sZyB0ZXh0LWxlZnQgdGV4dC1zbSB0ZXh0LXNsYXRlLTQwMCBzcGFjZS15LTMgYm9yZGVyIGJvcmRlci1zbGF0ZS03MDBcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxzdHJvbmcgY2xhc3NOYW1lPVwidGV4dC1wcmltYXJ5LTQwMCBibG9jayBtYi0xXCI+PGkgY2xhc3NOYW1lPVwiZmEtc29saWQgZmEtY29kZSBtci0yXCI+PC9pPlZTIENvZGUgS3VsbGFuxLF5b3JzYW7EsXo6PC9zdHJvbmc+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBMw7x0ZmVuIGRvc3lheWEgc2HEnyB0xLFrbGF5xLFwIFwiT3BlbiB3aXRoIExpdmUgU2VydmVyXCIgc2XDp2VuZcSfaW5pIGt1bGxhbsSxbiAoRWtsZW50aSBnZXJla3RpcmlyKS5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8c3Ryb25nIGNsYXNzTmFtZT1cInRleHQtcHJpbWFyeS00MDAgYmxvY2sgbWItMVwiPjxpIGNsYXNzTmFtZT1cImZhLXNvbGlkIGZhLWRlc2t0b3AgbXItMlwiPjwvaT5EacSfZXIgRWRpdMO2cmxlcjo8L3N0cm9uZz5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIEhlcmhhbmdpIGJpciB5ZXJlbCBzdW51Y3UgKGxvY2FsaG9zdCkgw7x6ZXJpbmRlbiDDp2FsxLHFn3TEsXLEsW4uXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwibXQtOCBmbGV4IGZsZXgtY29sIGdhcC0zXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxidXR0b24gb25DbGljaz17KCkgPT4gc2V0SWdub3JlRW52RXJyb3IodHJ1ZSl9IGNsYXNzTmFtZT1cInctZnVsbCBiZy1yZWQtNjAwLzgwIHRleHQtd2hpdGUgcHktMyByb3VuZGVkLWxnIGhvdmVyOmJnLXJlZC02MDAgdHJhbnNpdGlvbi1jb2xvcnMgZm9udC1ib2xkXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBSaXNrbGVyaSBLYWJ1bCBFdCB2ZSBEZXZhbSBFdFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2J1dHRvbj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGJ1dHRvbiBvbkNsaWNrPXtoYW5kbGVEb3dubG9hZENvZGV9IGNsYXNzTmFtZT1cInctZnVsbCBiZy1zbGF0ZS03MDAgdGV4dC13aGl0ZSBweS0zIHJvdW5kZWQtbGcgaG92ZXI6Ymctc2xhdGUtNjAwIHRyYW5zaXRpb24tY29sb3JzIGZvbnQtbWVkaXVtXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8aSBjbGFzc05hbWU9XCJmYS1zb2xpZCBmYS1kb3dubG9hZCBtci0yXCI+PC9pPllpbmUgZGUgS2F5bmFrIEtvZHUgxLBuZGlyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvYnV0dG9uPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGlmIChsb2FkaW5nKSByZXR1cm4gPGRpdiBjbGFzc05hbWU9XCJtaW4taC1zY3JlZW4gZmxleCBpdGVtcy1jZW50ZXIganVzdGlmeS1jZW50ZXIgYmctc2xhdGUtNTBcIj48ZGl2IGNsYXNzTmFtZT1cImFuaW1hdGUtc3BpbiByb3VuZGVkLWZ1bGwgaC0xMiB3LTEyIGJvcmRlci1iLTIgYm9yZGVyLXByaW1hcnktNjAwXCI+PC9kaXY+PC9kaXY+O1xuXG4gICAgICAgICAgICBpZiAoIWN1cnJlbnRVc2VyKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIChcbiAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJtaW4taC1zY3JlZW4gZmxleCBpdGVtcy1jZW50ZXIganVzdGlmeS1jZW50ZXIgYmctc2xhdGUtOTAwIHAtNCByZWxhdGl2ZSBvdmVyZmxvdy1oaWRkZW5cIj5cbiAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiYWJzb2x1dGUgaW5zZXQtMCBvcGFjaXR5LTEwIHBvaW50ZXItZXZlbnRzLW5vbmVcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiYWJzb2x1dGUgdG9wLTAgbGVmdC0wIHctZnVsbCBoLWZ1bGwgYmctW3JhZGlhbC1ncmFkaWVudChjaXJjbGVfYXRfY2VudGVyLF92YXIoLS10dy1ncmFkaWVudC1zdG9wcykpXSBmcm9tLXNsYXRlLTcwMCB2aWEtc2xhdGUtOTAwIHRvLWJsYWNrXCI+PC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiYmctc2xhdGUtODAwIHAtOCByb3VuZGVkLTJ4bCBzaGFkb3ctMnhsIHctZnVsbCBtYXgtdy1tZCBib3JkZXIgYm9yZGVyLXNsYXRlLTcwMCByZWxhdGl2ZSB6LTEwXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJ0ZXh0LWNlbnRlciBtYi04XCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiaW5saW5lLWZsZXggaXRlbXMtY2VudGVyIGp1c3RpZnktY2VudGVyIHctMTYgaC0xNiByb3VuZGVkLWZ1bGwgYmctc2xhdGUtNzAwIG1iLTQgc2hhZG93LWlubmVyXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8aSBjbGFzc05hbWU9e2BmYS1zb2xpZCAke3NlY3VyaXR5U3RlcCA8IDMgPyAnZmEtc2hpZWxkLWNhdCcgOiAnZmEtZ29vZ2xlJ30gJHtzZWN1cml0eVN0ZXAgPCAzID8gJ3RleHQtcHJpbWFyeS01MDAnIDogJ3RleHQtd2hpdGUnfSB0ZXh0LTJ4bGB9PjwvaT5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxoMSBjbGFzc05hbWU9XCJ0ZXh0LTJ4bCBmb250LWJvbGQgdGV4dC13aGl0ZVwiPkfDvHZlbmxpayBQcm90b2tvbMO8PC9oMT5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHAgY2xhc3NOYW1lPVwidGV4dC1zbGF0ZS00MDAgbXQtMiB0ZXh0LXNtXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7c2VjdXJpdHlTdGVwID09PSAtMSAmJiBcIkJhxZ9sYW5nxLHDpzogS2F5bmFrIEtvZHVcIn1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtzZWN1cml0eVN0ZXAgPT09IDAgJiYgXCIxLiBBxZ9hbWE6IEtpbWxpayBEb8SfcnVsYW1hXCJ9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7c2VjdXJpdHlTdGVwID09PSAxICYmIFwiMi4gQcWfYW1hOiBDaWhheiBEb8SfcnVsYW1hXCJ9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7c2VjdXJpdHlTdGVwID09PSAyICYmIFwiMy4gQcWfYW1hOiBNYXN0ZXIgRXJpxZ9pbVwifVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAge3NlY3VyaXR5U3RlcCA9PT0gMyAmJiBcIjQuIEHFn2FtYTogR29vZ2xlIFlldGtpbGVuZGlybWVcIn1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9wPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cIm10LTQgaC0xIHctZnVsbCBiZy1zbGF0ZS03MDAgcm91bmRlZC1mdWxsIG92ZXJmbG93LWhpZGRlblwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJoLWZ1bGwgYmctcHJpbWFyeS01MDAgdHJhbnNpdGlvbi1hbGwgZHVyYXRpb24tNTAwXCIgc3R5bGU9e3sgd2lkdGg6IGAkeygoc2VjdXJpdHlTdGVwICsgMikgLyA1KSAqIDEwMH0lYCB9fT48L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAge2Vycm9yICYmIChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJiZy1yZWQtOTAwLzUwIHRleHQtcmVkLTIwMCBwLTMgcm91bmRlZC1sZyB0ZXh0LXNtIG1iLTQgYm9yZGVyIGJvcmRlci1yZWQtODAwIGZsZXggaXRlbXMtY2VudGVyIGdhcC0yIGFuaW1hdGUtcHVsc2UgYnJlYWstd29yZHMgd2hpdGVzcGFjZS1wcmUtbGluZSBzZWxlY3QtdGV4dFwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGkgY2xhc3NOYW1lPVwiZmEtc29saWQgZmEtdHJpYW5nbGUtZXhjbGFtYXRpb24gZmxleC1zaHJpbmstMCBtdC0xXCI+PC9pPjxzcGFuPntlcnJvcn08L3NwYW4+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICl9XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB7c2VjdXJpdHlTdGVwID09PSAtMSA/IChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJzcGFjZS15LTRcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8cCBjbGFzc05hbWU9XCJ0ZXh0LXdoaXRlIHRleHQtY2VudGVyIGZvbnQtbWVkaXVtXCI+QnUga29kdSBpbmRpcm1layBpc3RpeW9yIG11c3VudXo/PC9wPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxidXR0b24gb25DbGljaz17KCkgPT4geyBoYW5kbGVEb3dubG9hZENvZGUoKTsgc2V0U2VjdXJpdHlTdGVwKDApOyB9fSBjbGFzc05hbWU9XCJ3LWZ1bGwgYmctZ3JlZW4tNjAwIHRleHQtd2hpdGUgcHktMyByb3VuZGVkLWxnIGhvdmVyOmJnLWdyZWVuLTcwMCB0cmFuc2l0aW9uLWNvbG9ycyBmb250LWJvbGQgc2hhZG93LWxnIHNoYWRvdy1ncmVlbi05MDAvMjAgZmxleCBpdGVtcy1jZW50ZXIganVzdGlmeS1jZW50ZXIgZ2FwLTJcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8aSBjbGFzc05hbWU9XCJmYS1zb2xpZCBmYS1kb3dubG9hZFwiPjwvaT4gRXZldCwgS29kdSDEsG5kaXJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2J1dHRvbj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8YnV0dG9uIG9uQ2xpY2s9eygpID0+IHNldFNlY3VyaXR5U3RlcCgwKX0gY2xhc3NOYW1lPVwidy1mdWxsIGJnLXNsYXRlLTcwMCB0ZXh0LXNsYXRlLTMwMCBweS0zIHJvdW5kZWQtbGcgaG92ZXI6Ymctc2xhdGUtNjAwIHRyYW5zaXRpb24tY29sb3JzIGZvbnQtbWVkaXVtXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgSGF5xLFyLCBHaXJpxZ8gWWFwXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9idXR0b24+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICkgOiAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDw+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7c2VjdXJpdHlTdGVwIDwgMyA/IChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8Zm9ybSBvblN1Ym1pdD17aGFuZGxlU2VjdXJpdHlTdWJtaXR9IGNsYXNzTmFtZT1cInNwYWNlLXktNFwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGxhYmVsIGNsYXNzTmFtZT1cImJsb2NrIHRleHQtc20gZm9udC1tZWRpdW0gdGV4dC1zbGF0ZS0zMDAgbWItMVwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtzZWN1cml0eVN0ZXAgPT09IDAgJiYgXCJGYXZvcmkgeWVtZcSfaW5peiBuZWRpcj9cIn1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7c2VjdXJpdHlTdGVwID09PSAxICYmIFwiVGVsZWZvbiBtb2RlbGluaXogbmVkaXI/XCJ9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAge3NlY3VyaXR5U3RlcCA9PT0gMiAmJiBcIk1hc3RlciDFnmlmcmU6XCJ9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2xhYmVsPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGlucHV0IHR5cGU9e3NlY3VyaXR5U3RlcCA9PT0gMiA/IFwicGFzc3dvcmRcIiA6IFwidGV4dFwifSB2YWx1ZT17c2VjdXJpdHlBbnN3ZXJ9IG9uQ2hhbmdlPXsoZSkgPT4gc2V0U2VjdXJpdHlBbnN3ZXIoZS50YXJnZXQudmFsdWUpfSBjbGFzc05hbWU9XCJ3LWZ1bGwgcHgtNCBweS0zIGJnLXNsYXRlLTkwMCBib3JkZXIgYm9yZGVyLXNsYXRlLTYwMCB0ZXh0LXdoaXRlIHJvdW5kZWQtbGcgZm9jdXM6cmluZy0yIGZvY3VzOnJpbmctcHJpbWFyeS01MDAgb3V0bGluZS1ub25lIHBsYWNlaG9sZGVyLXNsYXRlLTYwMFwiIHBsYWNlaG9sZGVyPVwiQ2V2YWLEsW7EsXrEsSBnaXJpbi4uLlwiIGF1dG9Gb2N1cyByZXF1aXJlZCAvPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4IGdhcC0yXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7c2VjdXJpdHlTdGVwID4gMCAmJiA8YnV0dG9uIHR5cGU9XCJidXR0b25cIiBvbkNsaWNrPXsoKSA9PiBzZXRTZWN1cml0eVN0ZXAoc2VjdXJpdHlTdGVwIC0gMSl9IGNsYXNzTmFtZT1cInB4LTQgcHktMyBiZy1zbGF0ZS03MDAgdGV4dC1zbGF0ZS0zMDAgcm91bmRlZC1sZyBob3ZlcjpiZy1zbGF0ZS02MDBcIj48aSBjbGFzc05hbWU9XCJmYS1zb2xpZCBmYS1hcnJvdy1sZWZ0XCI+PC9pPjwvYnV0dG9uPn1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxidXR0b24gdHlwZT1cInN1Ym1pdFwiIGNsYXNzTmFtZT1cImZsZXgtMSBiZy1wcmltYXJ5LTYwMCB0ZXh0LXdoaXRlIHB5LTMgcm91bmRlZC1sZyBob3ZlcjpiZy1wcmltYXJ5LTcwMCB0cmFuc2l0aW9uLWNvbG9ycyBmb250LWJvbGQgc2hhZG93LWxnIHNoYWRvdy1wcmltYXJ5LTkwMC8yMFwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFNvbnJha2kgQWTEsW0gPGkgY2xhc3NOYW1lPVwiZmEtc29saWQgZmEtYXJyb3ctcmlnaHQgbWwtMlwiPjwvaT5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvYnV0dG9uPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Zvcm0+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICApIDogKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwic3BhY2UteS00XCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJ0ZXh0LXhzIHRleHQtY2VudGVyIHRleHQtc2xhdGUtNTAwIG1iLTRcIj5Hw7x2ZW5saWsgZHV2YXJsYXLEsSBhxZ/EsWxkxLEuPGJyLz5Mw7x0ZmVuIHlldGtpbGkgR29vZ2xlIGhlc2FixLEgaWxlIGRldmFtIGVkaW4uPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8YnV0dG9uIG9uQ2xpY2s9e2hhbmRsZUdvb2dsZUxvZ2lufSBjbGFzc05hbWU9XCJ3LWZ1bGwgYmctd2hpdGUgdGV4dC1zbGF0ZS04MDAgcHktMyByb3VuZGVkLWxnIGhvdmVyOmJnLXNsYXRlLTEwMCB0cmFuc2l0aW9uLWNvbG9ycyBmb250LWJvbGQgc2hhZG93LWxnIGZsZXggaXRlbXMtY2VudGVyIGp1c3RpZnktY2VudGVyIGdhcC0zXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxpbWcgc3JjPVwiaHR0cHM6Ly93d3cuc3ZncmVwby5jb20vc2hvdy80NzU2NTYvZ29vZ2xlLWNvbG9yLnN2Z1wiIGFsdD1cIkdvb2dsZVwiIGNsYXNzTmFtZT1cInctNSBoLTVcIiAvPiBHb29nbGUgaWxlIEdpcmnFnyBZYXBcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvYnV0dG9uPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGJ1dHRvbiBvbkNsaWNrPXsoKSA9PiBzZXRTZWN1cml0eVN0ZXAoMil9IGNsYXNzTmFtZT1cInctZnVsbCB0ZXh0LXNsYXRlLTUwMCB0ZXh0LXNtIGhvdmVyOnRleHQtc2xhdGUtMzAwXCI+R2VyaSBEw7ZuPC9idXR0b24+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICApfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8Lz5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICApfVxuICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHJldHVybiAoXG4gICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4IGJnLXNsYXRlLTUwIG1pbi1oLXNjcmVlblwiPlxuICAgICAgICAgICAgICAgICAgICA8U2lkZWJhciBjdXJyZW50Vmlldz17Y3VycmVudFZpZXd9IG9uQ2hhbmdlVmlldz17c2V0Q3VycmVudFZpZXd9IG9uTG9nb3V0PXtoYW5kbGVMb2dvdXR9IC8+XG4gICAgICAgICAgICAgICAgICAgIDxtYWluIGNsYXNzTmFtZT1cIm1sLTY0IGZsZXgtMSBwLThcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgIDxoZWFkZXIgY2xhc3NOYW1lPVwiZmxleCBqdXN0aWZ5LWJldHdlZW4gaXRlbXMtY2VudGVyIG1iLThcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8aDEgY2xhc3NOYW1lPVwidGV4dC0yeGwgZm9udC1ib2xkIHRleHQtc2xhdGUtOTAwIGNhcGl0YWxpemVcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtjdXJyZW50VmlldyA9PT0gQWRtaW5WaWV3LkRBU0hCT0FSRCAmJiAnR2VuZWwgQmFrxLHFnyd9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7Y3VycmVudFZpZXcgPT09IEFkbWluVmlldy5VU0VSUyAmJiAnS3VsbGFuxLFjxLFsYXInfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAge2N1cnJlbnRWaWV3ID09PSBBZG1pblZpZXcuQU5OT1VOQ0VNRU5UUyAmJiAnRHV5dXJ1IE1lcmtlemknfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAge2N1cnJlbnRWaWV3ID09PSBBZG1pblZpZXcuQ0hBVCAmJiAnU29oYmV0IERlbmV0aW1pJ31cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9oMT5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHAgY2xhc3NOYW1lPVwidGV4dC1zbGF0ZS01MDAgdGV4dC1zbVwiPlNvbiBnw7xuY2VsbGVtZToge25ldyBEYXRlKCkudG9Mb2NhbGVUaW1lU3RyaW5nKCl9PC9wPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleCBpdGVtcy1jZW50ZXIgZ2FwLTRcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJ0ZXh0LXJpZ2h0IGhpZGRlbiBzbTpibG9ja1wiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHAgY2xhc3NOYW1lPVwidGV4dC1zbSBmb250LWJvbGQgdGV4dC1zbGF0ZS04MDBcIj57Y3VycmVudFVzZXIuZW1haWx9PC9wPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHAgY2xhc3NOYW1lPVwidGV4dC14cyB0ZXh0LXByaW1hcnktNjAwIGZvbnQtbWVkaXVtXCI+U8O8cGVyIEFkbWluPC9wPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJ3LTEwIGgtMTAgYmctc2xhdGUtOTAwIHJvdW5kZWQtZnVsbCBmbGV4IGl0ZW1zLWNlbnRlciBqdXN0aWZ5LWNlbnRlciB0ZXh0LXdoaXRlIGZvbnQtYm9sZCBib3JkZXItMiBib3JkZXItc2xhdGUtMjAwXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7Y3VycmVudFVzZXIucGhvdG9VUkwgPyA8aW1nIHNyYz17Y3VycmVudFVzZXIucGhvdG9VUkx9IGNsYXNzTmFtZT1cInctZnVsbCBoLWZ1bGwgcm91bmRlZC1mdWxsIG9iamVjdC1jb3ZlclwiIC8+IDogY3VycmVudFVzZXIuZW1haWw/LmNoYXJBdCgwKS50b1VwcGVyQ2FzZSgpfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgIDwvaGVhZGVyPlxuICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJhbmltYXRlLWZhZGUtaW5cIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB7Y3VycmVudFZpZXcgPT09IEFkbWluVmlldy5EQVNIQk9BUkQgJiYgPERhc2hib2FyZCB1c2VyQ291bnQ9e3VzZXJzLmxlbmd0aH0gb25saW5lQ291bnQ9e21lc3NhZ2VzLmxlbmd0aH0gbWVzc2FnZUNvdW50PXttZXNzYWdlcy5sZW5ndGh9IC8+fVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtjdXJyZW50VmlldyA9PT0gQWRtaW5WaWV3LlVTRVJTICYmIDxVc2VyTWFuYWdlbWVudCB1c2Vycz17dXNlcnN9IC8+fVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtjdXJyZW50VmlldyA9PT0gQWRtaW5WaWV3LkFOTk9VTkNFTUVOVFMgJiYgPEFubm91bmNlbWVudHMgYW5ub3VuY2VtZW50cz17YW5ub3VuY2VtZW50c30gLz59XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAge2N1cnJlbnRWaWV3ID09PSBBZG1pblZpZXcuQ0hBVCAmJiA8R2xvYmFsQ2hhdCBtZXNzYWdlcz17bWVzc2FnZXN9IC8+fVxuICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgIDwvbWFpbj5cbiAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICk7XG4gICAgICAgIH07XG5cbiAgICAgICAgY29uc3Qgcm9vdCA9IFJlYWN0RE9NLmNyZWF0ZVJvb3QoZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3Jvb3QnKSk7XG4gICAgICAgIHJvb3QucmVuZGVyKDxBcHAgLz4pO1xuICAgICJdLCJtYXBwaW5ncyI6Ijs7Ozs7OztBQUNRLE9BQU9BLEtBQUssSUFBSUMsUUFBUSxFQUFFQyxTQUFTLEVBQUVDLE1BQU0sUUFBUSxPQUFPO0FBQzFELE9BQU9DLFFBQVEsTUFBTSxrQkFBa0I7QUFDdkMsU0FBU0MsYUFBYSxRQUFRLGNBQWM7QUFDNUMsU0FBU0MsT0FBTyxFQUFFQyxrQkFBa0IsRUFBRUMsZUFBZSxFQUFFQyxrQkFBa0IsRUFBRUMsT0FBTyxRQUFRLGVBQWU7QUFDekcsU0FBU0MsWUFBWSxFQUFFQyxVQUFVLEVBQUVDLEdBQUcsRUFBRUMsTUFBTSxFQUFFQyxTQUFTLEVBQUVDLFNBQVMsRUFBRUMsVUFBVSxFQUFFQyxLQUFLLEVBQUVDLE9BQU8sUUFBUSxvQkFBb0I7O0FBRTVIO0FBQ0EsSUFBTUMsY0FBYyxHQUFHO0VBQ25CQyxNQUFNLEVBQUUseUNBQXlDO0VBQ2pEQyxVQUFVLEVBQUUsOEJBQThCO0VBQzFDQyxTQUFTLEVBQUUsY0FBYztFQUN6QkMsYUFBYSxFQUFFLGtDQUFrQztFQUNqREMsaUJBQWlCLEVBQUUsY0FBYztFQUNqQ0MsS0FBSyxFQUFFLDJDQUEyQztFQUNsREMsYUFBYSxFQUFFO0FBQ25CLENBQUM7QUFFRCxJQUFNQyxHQUFHLEdBQUd2QixhQUFhLENBQUNlLGNBQWMsQ0FBQztBQUN6QyxJQUFNUyxJQUFJLEdBQUd2QixPQUFPLENBQUNzQixHQUFHLENBQUM7QUFDekIsSUFBTUUsRUFBRSxHQUFHbkIsWUFBWSxDQUFDaUIsR0FBRyxDQUFDOztBQUU1QjtBQUNBLElBQU1HLGdCQUFnQjtFQUFBLElBQUFDLElBQUEsR0FBQUMsaUJBQUEsQ0FBRyxhQUFZO0lBQ2pDLElBQU1DLFFBQVEsR0FBRyxJQUFJM0Isa0JBQWtCLENBQUMsQ0FBQztJQUN6QyxPQUFPQyxlQUFlLENBQUNxQixJQUFJLEVBQUVLLFFBQVEsQ0FBQztFQUMxQyxDQUFDO0VBQUEsZ0JBSEtILGdCQUFnQkEsQ0FBQTtJQUFBLE9BQUFDLElBQUEsQ0FBQUcsS0FBQSxPQUFBQyxTQUFBO0VBQUE7QUFBQSxHQUdyQjtBQUVELElBQU1DLHNCQUFzQjtFQUFBLElBQUFDLEtBQUEsR0FBQUwsaUJBQUEsQ0FBRyxXQUFPTSxNQUFNLEVBQUVDLGFBQWEsRUFBSztJQUM1RCxJQUFNQyxPQUFPLEdBQUc1QixHQUFHLENBQUNpQixFQUFFLEVBQUUsT0FBTyxFQUFFUyxNQUFNLENBQUM7SUFDeEMsTUFBTXhCLFNBQVMsQ0FBQzBCLE9BQU8sRUFBRTtNQUFFQyxVQUFVLEVBQUUsQ0FBQ0Y7SUFBYyxDQUFDLENBQUM7RUFDNUQsQ0FBQztFQUFBLGdCQUhLSCxzQkFBc0JBLENBQUFNLEVBQUEsRUFBQUMsR0FBQTtJQUFBLE9BQUFOLEtBQUEsQ0FBQUgsS0FBQSxPQUFBQyxTQUFBO0VBQUE7QUFBQSxHQUczQjtBQUVELElBQU1TLE9BQU87RUFBQSxJQUFBQyxLQUFBLEdBQUFiLGlCQUFBLENBQUcsV0FBT00sTUFBTSxFQUFFUSxlQUFlLEVBQUs7SUFDL0MsSUFBTU4sT0FBTyxHQUFHNUIsR0FBRyxDQUFDaUIsRUFBRSxFQUFFLE9BQU8sRUFBRVMsTUFBTSxDQUFDO0lBQ3hDLElBQU1TLE9BQU8sR0FBRztNQUNaQyxRQUFRLEVBQUUsSUFBSTtNQUNkQyxRQUFRLEVBQUVILGVBQWUsR0FBR0ksSUFBSSxDQUFDQyxHQUFHLENBQUMsQ0FBQyxHQUFJTCxlQUFlLEdBQUcsRUFBRSxHQUFHLEVBQUUsR0FBRyxJQUFLLEdBQUc7SUFDbEYsQ0FBQztJQUNELE1BQU1oQyxTQUFTLENBQUMwQixPQUFPLEVBQUVPLE9BQU8sQ0FBQztFQUNyQyxDQUFDO0VBQUEsZ0JBUEtILE9BQU9BLENBQUFRLEdBQUEsRUFBQUMsR0FBQTtJQUFBLE9BQUFSLEtBQUEsQ0FBQVgsS0FBQSxPQUFBQyxTQUFBO0VBQUE7QUFBQSxHQU9aO0FBRUQsSUFBTW1CLFNBQVM7RUFBQSxJQUFBQyxLQUFBLEdBQUF2QixpQkFBQSxDQUFHLFdBQU9NLE1BQU0sRUFBSztJQUNoQyxJQUFNRSxPQUFPLEdBQUc1QixHQUFHLENBQUNpQixFQUFFLEVBQUUsT0FBTyxFQUFFUyxNQUFNLENBQUM7SUFDeEMsTUFBTXhCLFNBQVMsQ0FBQzBCLE9BQU8sRUFBRTtNQUFFUSxRQUFRLEVBQUUsS0FBSztNQUFFQyxRQUFRLEVBQUU7SUFBSyxDQUFDLENBQUM7RUFDakUsQ0FBQztFQUFBLGdCQUhLSyxTQUFTQSxDQUFBRSxHQUFBO0lBQUEsT0FBQUQsS0FBQSxDQUFBckIsS0FBQSxPQUFBQyxTQUFBO0VBQUE7QUFBQSxHQUdkO0FBRUQsSUFBTXNCLGtCQUFrQjtFQUFBLElBQUFDLEtBQUEsR0FBQTFCLGlCQUFBLENBQUcsV0FBTzJCLEtBQUssRUFBRUMsT0FBTyxFQUFFQyxNQUFNLEVBQUs7SUFDekQsSUFBTUMsZ0JBQWdCLEdBQUduRCxVQUFVLENBQUNrQixFQUFFLEVBQUUsZUFBZSxDQUFDO0lBQ3hELE1BQU1oQixNQUFNLENBQUNpRCxnQkFBZ0IsRUFBRTtNQUMzQkgsS0FBSztNQUFFQyxPQUFPO01BQUVDLE1BQU07TUFBRUUsU0FBUyxFQUFFYixJQUFJLENBQUNDLEdBQUcsQ0FBQyxDQUFDO01BQUVhLE1BQU0sRUFBRTtJQUMzRCxDQUFDLENBQUM7RUFDTixDQUFDO0VBQUEsZ0JBTEtQLGtCQUFrQkEsQ0FBQVEsR0FBQSxFQUFBQyxHQUFBLEVBQUFDLEdBQUE7SUFBQSxPQUFBVCxLQUFBLENBQUF4QixLQUFBLE9BQUFDLFNBQUE7RUFBQTtBQUFBLEdBS3ZCO0FBRUQsSUFBTWlDLGtCQUFrQjtFQUFBLElBQUFDLEtBQUEsR0FBQXJDLGlCQUFBLENBQUcsV0FBT3NDLEVBQUUsRUFBSztJQUNyQyxJQUFNQyxNQUFNLEdBQUczRCxHQUFHLENBQUNpQixFQUFFLEVBQUUsZUFBZSxFQUFFeUMsRUFBRSxDQUFDO0lBQzNDLE1BQU12RCxTQUFTLENBQUN3RCxNQUFNLENBQUM7RUFDM0IsQ0FBQztFQUFBLGdCQUhLSCxrQkFBa0JBLENBQUFJLEdBQUE7SUFBQSxPQUFBSCxLQUFBLENBQUFuQyxLQUFBLE9BQUFDLFNBQUE7RUFBQTtBQUFBLEdBR3ZCO0FBRUQsSUFBTXNDLGdCQUFnQjtFQUFBLElBQUFDLEtBQUEsR0FBQTFDLGlCQUFBLENBQUcsV0FBTzJDLElBQUksRUFBRUMsU0FBUyxFQUFLO0lBQ2hELElBQU1DLE9BQU8sR0FBR2xFLFVBQVUsQ0FBQ2tCLEVBQUUsRUFBRSxZQUFZLENBQUM7SUFDNUMsTUFBTWhCLE1BQU0sQ0FBQ2dFLE9BQU8sRUFBRTtNQUNsQkYsSUFBSTtNQUFFckMsTUFBTSxFQUFFLE9BQU87TUFBRXdDLFdBQVcsRUFBRUYsU0FBUztNQUFFRyxTQUFTLEVBQUU3QixJQUFJLENBQUNDLEdBQUcsQ0FBQyxDQUFDO01BQUU2QixPQUFPLEVBQUU7SUFDbkYsQ0FBQyxDQUFDO0VBQ04sQ0FBQztFQUFBLGdCQUxLUCxnQkFBZ0JBLENBQUFRLEdBQUEsRUFBQUMsR0FBQTtJQUFBLE9BQUFSLEtBQUEsQ0FBQXhDLEtBQUEsT0FBQUMsU0FBQTtFQUFBO0FBQUEsR0FLckI7QUFFRCxJQUFNZ0QsaUJBQWlCO0VBQUEsSUFBQUMsS0FBQSxHQUFBcEQsaUJBQUEsQ0FBRyxXQUFPc0MsRUFBRSxFQUFLO0lBQ3BDLElBQU1lLE1BQU0sR0FBR3pFLEdBQUcsQ0FBQ2lCLEVBQUUsRUFBRSxZQUFZLEVBQUV5QyxFQUFFLENBQUM7SUFDeEMsTUFBTXZELFNBQVMsQ0FBQ3NFLE1BQU0sQ0FBQztFQUMzQixDQUFDO0VBQUEsZ0JBSEtGLGlCQUFpQkEsQ0FBQUcsSUFBQTtJQUFBLE9BQUFGLEtBQUEsQ0FBQWxELEtBQUEsT0FBQUMsU0FBQTtFQUFBO0FBQUEsR0FHdEI7O0FBRUQ7QUFDQSxJQUFNb0QsU0FBUyxHQUFHO0VBQ2RDLFNBQVMsRUFBRSxXQUFXO0VBQ3RCQyxLQUFLLEVBQUUsT0FBTztFQUNkQyxhQUFhLEVBQUUsZUFBZTtFQUM5QkMsSUFBSSxFQUFFO0FBQ1YsQ0FBQzs7QUFFRDs7QUFFQTtBQUNBLElBQU1DLE9BQU8sR0FBR0MsS0FBQSxJQUE2QztFQUFBLElBQTVDO0lBQUVDLFdBQVc7SUFBRUMsWUFBWTtJQUFFQztFQUFTLENBQUMsR0FBQUgsS0FBQTtFQUNwRCxJQUFNSSxTQUFTLEdBQUcsQ0FDZDtJQUFFM0IsRUFBRSxFQUFFaUIsU0FBUyxDQUFDQyxTQUFTO0lBQUVVLEtBQUssRUFBRSxhQUFhO0lBQUVDLElBQUksRUFBRTtFQUFnQixDQUFDLEVBQ3hFO0lBQUU3QixFQUFFLEVBQUVpQixTQUFTLENBQUNFLEtBQUs7SUFBRVMsS0FBSyxFQUFFLG9CQUFvQjtJQUFFQyxJQUFJLEVBQUU7RUFBVyxDQUFDLEVBQ3RFO0lBQUU3QixFQUFFLEVBQUVpQixTQUFTLENBQUNHLGFBQWE7SUFBRVEsS0FBSyxFQUFFLFdBQVc7SUFBRUMsSUFBSSxFQUFFO0VBQWMsQ0FBQyxFQUN4RTtJQUFFN0IsRUFBRSxFQUFFaUIsU0FBUyxDQUFDSSxJQUFJO0lBQUVPLEtBQUssRUFBRSxlQUFlO0lBQUVDLElBQUksRUFBRTtFQUFjLENBQUMsQ0FDdEU7RUFFRCxJQUFNQyxrQkFBa0IsR0FBR0EsQ0FBQSxLQUFNO0lBQzdCLElBQU1DLE9BQU8sR0FBR0MsUUFBUSxDQUFDQyxhQUFhLENBQUMsR0FBRyxDQUFDO0lBQzNDLElBQU1DLElBQUksR0FBRyxJQUFJQyxJQUFJLENBQUMsQ0FBQ0gsUUFBUSxDQUFDSSxlQUFlLENBQUNDLFNBQVMsQ0FBQyxFQUFFO01BQUNDLElBQUksRUFBRTtJQUFXLENBQUMsQ0FBQztJQUNoRlAsT0FBTyxDQUFDUSxJQUFJLEdBQUdDLEdBQUcsQ0FBQ0MsZUFBZSxDQUFDUCxJQUFJLENBQUM7SUFDeENILE9BQU8sQ0FBQ1csUUFBUSxHQUFHLHFCQUFxQjtJQUN4Q1YsUUFBUSxDQUFDVyxJQUFJLENBQUNDLFdBQVcsQ0FBQ2IsT0FBTyxDQUFDO0lBQ2xDQSxPQUFPLENBQUNjLEtBQUssQ0FBQyxDQUFDO0lBQ2ZiLFFBQVEsQ0FBQ1csSUFBSSxDQUFDRyxXQUFXLENBQUNmLE9BQU8sQ0FBQztFQUN0QyxDQUFDO0VBRUQsb0JBQ0l0RyxLQUFBLENBQUF3RyxhQUFBO0lBQUtjLFNBQVMsRUFBQztFQUF1RixnQkFDbEd0SCxLQUFBLENBQUF3RyxhQUFBO0lBQUtjLFNBQVMsRUFBQztFQUF1RCxnQkFDbEV0SCxLQUFBLENBQUF3RyxhQUFBO0lBQUtjLFNBQVMsRUFBQztFQUFvRSxnQkFDL0V0SCxLQUFBLENBQUF3RyxhQUFBO0lBQUdjLFNBQVMsRUFBQztFQUE4QyxDQUFJLENBQzlELENBQUMsZUFDTnRILEtBQUEsQ0FBQXdHLGFBQUE7SUFBSWMsU0FBUyxFQUFDO0VBQWtDLEdBQUMsVUFBUSxlQUFBdEgsS0FBQSxDQUFBd0csYUFBQTtJQUFNYyxTQUFTLEVBQUM7RUFBa0IsR0FBQyxRQUFZLENBQUssQ0FDNUcsQ0FBQyxlQUVOdEgsS0FBQSxDQUFBd0csYUFBQTtJQUFLYyxTQUFTLEVBQUM7RUFBVyxnQkFDdEJ0SCxLQUFBLENBQUF3RyxhQUFBO0lBQVFlLE9BQU8sRUFBRWxCLGtCQUFtQjtJQUFDaUIsU0FBUyxFQUFDO0VBQTRLLGdCQUN2TnRILEtBQUEsQ0FBQXdHLGFBQUE7SUFBR2MsU0FBUyxFQUFDO0VBQWlFLENBQUksQ0FBQyxlQUNuRnRILEtBQUEsQ0FBQXdHLGFBQUEsZUFBTSwyQkFBMEIsQ0FDNUIsQ0FDUCxDQUFDLGVBRU54RyxLQUFBLENBQUF3RyxhQUFBO0lBQUtjLFNBQVMsRUFBQztFQUFzQixHQUNoQ3BCLFNBQVMsQ0FBQ3NCLEdBQUcsQ0FBRUMsSUFBSSxpQkFDaEJ6SCxLQUFBLENBQUF3RyxhQUFBO0lBQ0lrQixHQUFHLEVBQUVELElBQUksQ0FBQ2xELEVBQUc7SUFDYmdELE9BQU8sRUFBRUEsQ0FBQSxLQUFNdkIsWUFBWSxDQUFDeUIsSUFBSSxDQUFDbEQsRUFBRSxDQUFFO0lBQ3JDK0MsU0FBUywyRkFBQUssTUFBQSxDQUNMNUIsV0FBVyxLQUFLMEIsSUFBSSxDQUFDbEQsRUFBRSxHQUNqQiwyREFBMkQsR0FDM0Qsb0RBQW9EO0VBQzNELGdCQUVIdkUsS0FBQSxDQUFBd0csYUFBQTtJQUFHYyxTQUFTLGNBQUFLLE1BQUEsQ0FBY0YsSUFBSSxDQUFDckIsSUFBSTtFQUE4RCxDQUFJLENBQUMsZUFDdEdwRyxLQUFBLENBQUF3RyxhQUFBO0lBQU1jLFNBQVMsRUFBQztFQUFhLEdBQUVHLElBQUksQ0FBQ3RCLEtBQVksQ0FDNUMsQ0FDWCxDQUNBLENBQUMsZUFDTm5HLEtBQUEsQ0FBQXdHLGFBQUE7SUFBS2MsU0FBUyxFQUFDO0VBQXlDLGdCQUNwRHRILEtBQUEsQ0FBQXdHLGFBQUE7SUFBUWUsT0FBTyxFQUFFdEIsUUFBUztJQUFDcUIsU0FBUyxFQUFDO0VBQStILGdCQUNoS3RILEtBQUEsQ0FBQXdHLGFBQUE7SUFBR2MsU0FBUyxFQUFDO0VBQWdDLENBQUksQ0FBQyxlQUNsRHRILEtBQUEsQ0FBQXdHLGFBQUEsZUFBTSw2QkFBZSxDQUNqQixDQUNQLENBQ0osQ0FBQztBQUVkLENBQUM7O0FBRUQ7QUFDQSxJQUFNb0IsU0FBUyxHQUFHQyxLQUFBLElBQThDO0VBQUEsSUFBN0M7SUFBRUMsU0FBUztJQUFFQyxXQUFXO0lBQUVDO0VBQWEsQ0FBQyxHQUFBSCxLQUFBO0VBQ3ZELG9CQUNJN0gsS0FBQSxDQUFBd0csYUFBQTtJQUFLYyxTQUFTLEVBQUM7RUFBVyxnQkFDdEJ0SCxLQUFBLENBQUF3RyxhQUFBO0lBQUljLFNBQVMsRUFBQztFQUFtQyxHQUFDLGdCQUFlLENBQUMsZUFDbEV0SCxLQUFBLENBQUF3RyxhQUFBO0lBQUtjLFNBQVMsRUFBQztFQUF1QyxnQkFDbER0SCxLQUFBLENBQUF3RyxhQUFBO0lBQUtjLFNBQVMsRUFBQztFQUFvRixnQkFDL0Z0SCxLQUFBLENBQUF3RyxhQUFBO0lBQUtjLFNBQVMsRUFBQztFQUFtRixnQkFDOUZ0SCxLQUFBLENBQUF3RyxhQUFBO0lBQUdjLFNBQVMsRUFBQztFQUEyQixDQUFJLENBQzNDLENBQUMsZUFDTnRILEtBQUEsQ0FBQXdHLGFBQUEsMkJBQ0l4RyxLQUFBLENBQUF3RyxhQUFBO0lBQUdjLFNBQVMsRUFBQztFQUFvQyxHQUFDLDRCQUFtQixDQUFDLGVBQ3RFdEgsS0FBQSxDQUFBd0csYUFBQTtJQUFHYyxTQUFTLEVBQUM7RUFBbUMsR0FBRVEsU0FBYSxDQUM5RCxDQUNKLENBQUMsZUFDTjlILEtBQUEsQ0FBQXdHLGFBQUE7SUFBS2MsU0FBUyxFQUFDO0VBQW9GLGdCQUMvRnRILEtBQUEsQ0FBQXdHLGFBQUE7SUFBS2MsU0FBUyxFQUFDO0VBQXFGLGdCQUNoR3RILEtBQUEsQ0FBQXdHLGFBQUE7SUFBR2MsU0FBUyxFQUFDO0VBQTBDLENBQUksQ0FDMUQsQ0FBQyxlQUNOdEgsS0FBQSxDQUFBd0csYUFBQSwyQkFDSXhHLEtBQUEsQ0FBQXdHLGFBQUE7SUFBR2MsU0FBUyxFQUFDO0VBQW9DLEdBQUMsZ0JBQWlCLENBQUMsZUFDcEV0SCxLQUFBLENBQUF3RyxhQUFBO0lBQUdjLFNBQVMsRUFBQztFQUFtQyxHQUFFVSxZQUFnQixDQUNqRSxDQUNKLENBQUMsZUFDTmhJLEtBQUEsQ0FBQXdHLGFBQUE7SUFBS2MsU0FBUyxFQUFDO0VBQW9GLGdCQUMvRnRILEtBQUEsQ0FBQXdHLGFBQUE7SUFBS2MsU0FBUyxFQUFDO0VBQXVGLGdCQUNsR3RILEtBQUEsQ0FBQXdHLGFBQUE7SUFBR2MsU0FBUyxFQUFDO0VBQTRCLENBQUksQ0FDNUMsQ0FBQyxlQUNOdEgsS0FBQSxDQUFBd0csYUFBQSwyQkFDSXhHLEtBQUEsQ0FBQXdHLGFBQUE7SUFBR2MsU0FBUyxFQUFDO0VBQW9DLEdBQUMsZUFBZ0IsQ0FBQyxlQUNuRXRILEtBQUEsQ0FBQXdHLGFBQUE7SUFBR2MsU0FBUyxFQUFDO0VBQW1DLEdBQUMsT0FBUSxDQUN4RCxDQUNKLENBQ0osQ0FBQyxlQUNOdEgsS0FBQSxDQUFBd0csYUFBQTtJQUFLYyxTQUFTLEVBQUM7RUFBa0csZ0JBQzdHdEgsS0FBQSxDQUFBd0csYUFBQTtJQUFLYyxTQUFTLEVBQUM7RUFBZSxnQkFDMUJ0SCxLQUFBLENBQUF3RyxhQUFBO0lBQUljLFNBQVMsRUFBQztFQUF3QixHQUFDLHlCQUFzQixDQUFDLGVBQzlEdEgsS0FBQSxDQUFBd0csYUFBQTtJQUFHYyxTQUFTLEVBQUM7RUFBeUIsR0FBQyx3S0FBa0ksQ0FDeEssQ0FBQyxlQUNOdEgsS0FBQSxDQUFBd0csYUFBQTtJQUFLYyxTQUFTLEVBQUM7RUFBOEUsZ0JBQ3pGdEgsS0FBQSxDQUFBd0csYUFBQTtJQUFHYyxTQUFTLEVBQUM7RUFBa0MsQ0FBSSxDQUNsRCxDQUNKLENBQ0osQ0FBQztBQUVkLENBQUM7O0FBRUQ7QUFDQSxJQUFNVyxjQUFjLEdBQUdDLEtBQUEsSUFBZTtFQUFBLElBQWQ7SUFBRUM7RUFBTSxDQUFDLEdBQUFELEtBQUE7RUFDN0IsSUFBTSxDQUFDRSxVQUFVLEVBQUVDLGFBQWEsQ0FBQyxHQUFHcEksUUFBUSxDQUFDLEVBQUUsQ0FBQztFQUNoRCxJQUFNLENBQUNxSSxrQkFBa0IsRUFBRUMscUJBQXFCLENBQUMsR0FBR3RJLFFBQVEsQ0FBQyxJQUFJLENBQUM7RUFFbEUsSUFBTXVJLGFBQWEsR0FBR0wsS0FBSyxDQUFDTSxNQUFNLENBQUNDLENBQUMsSUFDaEMsQ0FBQ0EsQ0FBQyxDQUFDM0QsV0FBVyxJQUFJLEVBQUUsRUFBRTRELFdBQVcsQ0FBQyxDQUFDLENBQUNDLFFBQVEsQ0FBQ1IsVUFBVSxDQUFDTyxXQUFXLENBQUMsQ0FBQyxDQUFDLElBQ3RFLENBQUNELENBQUMsQ0FBQ0csS0FBSyxJQUFJLEVBQUUsRUFBRUYsV0FBVyxDQUFDLENBQUMsQ0FBQ0MsUUFBUSxDQUFDUixVQUFVLENBQUNPLFdBQVcsQ0FBQyxDQUFDLENBQ25FLENBQUM7RUFFRCxJQUFNRyxjQUFjO0lBQUEsSUFBQUMsTUFBQSxHQUFBOUcsaUJBQUEsQ0FBRyxXQUFPK0csSUFBSSxFQUFLO01BQ25DLElBQUlBLElBQUksQ0FBQy9GLFFBQVEsRUFBRTtRQUNmLElBQUlnRyxNQUFNLENBQUNDLE9BQU8sSUFBQXZCLE1BQUEsQ0FBSXFCLElBQUksQ0FBQ2pFLFdBQVcsZ0dBQXFELENBQUMsRUFBRTtVQUMxRixJQUFJO1lBQ0EsTUFBTXhCLFNBQVMsQ0FBQ3lGLElBQUksQ0FBQ0csR0FBRyxDQUFDO1VBQzdCLENBQUMsQ0FBQyxPQUFPQyxLQUFLLEVBQUU7WUFDWkMsT0FBTyxDQUFDRCxLQUFLLENBQUNBLEtBQUssQ0FBQztZQUNwQkUsS0FBSyxDQUFDLG1CQUFtQixHQUFHRixLQUFLLENBQUNHLElBQUksQ0FBQztVQUMzQztRQUNKO01BQ0osQ0FBQyxNQUFNO1FBQ0hoQixxQkFBcUIsQ0FBQ1MsSUFBSSxDQUFDO01BQy9CO0lBQ0osQ0FBQztJQUFBLGdCQWJLRixjQUFjQSxDQUFBVSxJQUFBO01BQUEsT0FBQVQsTUFBQSxDQUFBNUcsS0FBQSxPQUFBQyxTQUFBO0lBQUE7RUFBQSxHQWFuQjtFQUVELElBQU1xSCxVQUFVO0lBQUEsSUFBQUMsTUFBQSxHQUFBekgsaUJBQUEsQ0FBRyxXQUFPMEgsUUFBUSxFQUFLO01BQ25DLElBQUlyQixrQkFBa0IsRUFBRTtRQUNwQixJQUFJO1VBQ0EsTUFBTXpGLE9BQU8sQ0FBQ3lGLGtCQUFrQixDQUFDYSxHQUFHLEVBQUVRLFFBQVEsQ0FBQztVQUMvQ3BCLHFCQUFxQixDQUFDLElBQUksQ0FBQztRQUMvQixDQUFDLENBQUMsT0FBT2EsS0FBSyxFQUFFO1VBQ1pDLE9BQU8sQ0FBQ0QsS0FBSyxDQUFDQSxLQUFLLENBQUM7VUFDcEJFLEtBQUssQ0FBQyxtQkFBbUIsR0FBR0YsS0FBSyxDQUFDRyxJQUFJLENBQUM7UUFDM0M7TUFDSjtJQUNKLENBQUM7SUFBQSxnQkFWS0UsVUFBVUEsQ0FBQUcsSUFBQTtNQUFBLE9BQUFGLE1BQUEsQ0FBQXZILEtBQUEsT0FBQUMsU0FBQTtJQUFBO0VBQUEsR0FVZjtFQUVELElBQU15SCx3QkFBd0I7SUFBQSxJQUFBQyxNQUFBLEdBQUE3SCxpQkFBQSxDQUFHLFdBQU9rSCxHQUFHLEVBQUUzRyxhQUFhLEVBQUs7TUFDM0QsSUFBSTtRQUNBLE1BQU1ILHNCQUFzQixDQUFDOEcsR0FBRyxFQUFFM0csYUFBYSxDQUFDO01BQ3BELENBQUMsQ0FBQyxPQUFPNEcsS0FBSyxFQUFFO1FBQ1pDLE9BQU8sQ0FBQ0QsS0FBSyxDQUFDQSxLQUFLLENBQUM7UUFDcEJFLEtBQUssQ0FBQyxtQkFBbUIsR0FBR0YsS0FBSyxDQUFDRyxJQUFJLENBQUM7TUFDM0M7SUFDSixDQUFDO0lBQUEsZ0JBUEtNLHdCQUF3QkEsQ0FBQUUsSUFBQSxFQUFBQyxJQUFBO01BQUEsT0FBQUYsTUFBQSxDQUFBM0gsS0FBQSxPQUFBQyxTQUFBO0lBQUE7RUFBQSxHQU83QjtFQUVELG9CQUNJcEMsS0FBQSxDQUFBd0csYUFBQTtJQUFLYyxTQUFTLEVBQUM7RUFBVyxnQkFDdEJ0SCxLQUFBLENBQUF3RyxhQUFBO0lBQUtjLFNBQVMsRUFBQztFQUFtQyxnQkFDOUN0SCxLQUFBLENBQUF3RyxhQUFBO0lBQUljLFNBQVMsRUFBQztFQUFtQyxHQUFDLGlDQUFzQixDQUFDLGVBQ3pFdEgsS0FBQSxDQUFBd0csYUFBQTtJQUFLYyxTQUFTLEVBQUM7RUFBVSxnQkFDckJ0SCxLQUFBLENBQUF3RyxhQUFBO0lBQ0lLLElBQUksRUFBQyxNQUFNO0lBQUNvRCxXQUFXLEVBQUMsNEJBQWtCO0lBQzFDM0MsU0FBUyxFQUFDLDBHQUEwRztJQUNwSDRDLEtBQUssRUFBRTlCLFVBQVc7SUFBQytCLFFBQVEsRUFBR0MsQ0FBQyxJQUFLL0IsYUFBYSxDQUFDK0IsQ0FBQyxDQUFDQyxNQUFNLENBQUNILEtBQUs7RUFBRSxDQUNyRSxDQUFDLGVBQ0ZsSyxLQUFBLENBQUF3RyxhQUFBO0lBQUdjLFNBQVMsRUFBQztFQUF5RCxDQUFJLENBQ3pFLENBQ0osQ0FBQyxlQUNOdEgsS0FBQSxDQUFBd0csYUFBQTtJQUFLYyxTQUFTLEVBQUM7RUFBdUUsZ0JBQ2xGdEgsS0FBQSxDQUFBd0csYUFBQTtJQUFPYyxTQUFTLEVBQUM7RUFBc0MsZ0JBQ25EdEgsS0FBQSxDQUFBd0csYUFBQTtJQUFPYyxTQUFTLEVBQUM7RUFBYSxnQkFDMUJ0SCxLQUFBLENBQUF3RyxhQUFBLDBCQUNJeEcsS0FBQSxDQUFBd0csYUFBQTtJQUFJYyxTQUFTLEVBQUM7RUFBZ0UsR0FBQyxxQkFBYSxDQUFDLGVBQzdGdEgsS0FBQSxDQUFBd0csYUFBQTtJQUFJYyxTQUFTLEVBQUM7RUFBZ0UsR0FBQyxPQUFTLENBQUMsZUFDekZ0SCxLQUFBLENBQUF3RyxhQUFBO0lBQUljLFNBQVMsRUFBQztFQUFnRSxHQUFDLFVBQVksQ0FBQyxlQUM1RnRILEtBQUEsQ0FBQXdHLGFBQUE7SUFBSWMsU0FBUyxFQUFDO0VBQWlFLEdBQUMsb0JBQVksQ0FDNUYsQ0FDRCxDQUFDLGVBQ1J0SCxLQUFBLENBQUF3RyxhQUFBO0lBQU9jLFNBQVMsRUFBQztFQUFvQyxHQUNoRGtCLGFBQWEsQ0FBQzhCLE1BQU0sS0FBSyxDQUFDLGdCQUN2QnRLLEtBQUEsQ0FBQXdHLGFBQUEsMEJBQUl4RyxLQUFBLENBQUF3RyxhQUFBO0lBQUkrRCxPQUFPLEVBQUUsQ0FBRTtJQUFDakQsU0FBUyxFQUFDO0VBQXNDLEdBQUMsc0NBQXlCLENBQUssQ0FBQyxHQUVwR2tCLGFBQWEsQ0FBQ2hCLEdBQUcsQ0FBQ3dCLElBQUksaUJBQ2xCaEosS0FBQSxDQUFBd0csYUFBQTtJQUFJa0IsR0FBRyxFQUFFc0IsSUFBSSxDQUFDRyxHQUFJO0lBQUM3QixTQUFTLEVBQUM7RUFBcUMsZ0JBQzlEdEgsS0FBQSxDQUFBd0csYUFBQTtJQUFJYyxTQUFTLEVBQUM7RUFBNkIsZ0JBQ3ZDdEgsS0FBQSxDQUFBd0csYUFBQTtJQUFLYyxTQUFTLEVBQUM7RUFBbUIsZ0JBQzlCdEgsS0FBQSxDQUFBd0csYUFBQTtJQUFLYyxTQUFTLEVBQUM7RUFBNkgsR0FDdkkwQixJQUFJLENBQUN3QixRQUFRLGdCQUFHeEssS0FBQSxDQUFBd0csYUFBQTtJQUFLaUUsR0FBRyxFQUFFekIsSUFBSSxDQUFDd0IsUUFBUztJQUFDbEQsU0FBUyxFQUFDO0VBQTRCLENBQUMsQ0FBQyxHQUFJMEIsSUFBSSxDQUFDakUsV0FBVyxHQUFHaUUsSUFBSSxDQUFDakUsV0FBVyxDQUFDMkYsTUFBTSxDQUFDLENBQUMsQ0FBQyxDQUFDQyxXQUFXLENBQUMsQ0FBQyxHQUFHLEdBQ25KLENBQUMsZUFDTjNLLEtBQUEsQ0FBQXdHLGFBQUE7SUFBS2MsU0FBUyxFQUFDO0VBQU0sZ0JBQ2pCdEgsS0FBQSxDQUFBd0csYUFBQTtJQUFLYyxTQUFTLEVBQUM7RUFBNEQsR0FDdEUwQixJQUFJLENBQUNqRSxXQUFXLElBQUksbUJBQW1CLEVBQ3ZDaUUsSUFBSSxDQUFDdEcsVUFBVSxpQkFBSTFDLEtBQUEsQ0FBQXdHLGFBQUE7SUFBR2MsU0FBUyxFQUFDO0VBQWdELENBQUksQ0FDcEYsQ0FBQyxlQUNOdEgsS0FBQSxDQUFBd0csYUFBQTtJQUFLYyxTQUFTLEVBQUM7RUFBd0IsR0FBRTBCLElBQUksQ0FBQ0gsS0FBVyxDQUN4RCxDQUNKLENBQ0wsQ0FBQyxlQUNMN0ksS0FBQSxDQUFBd0csYUFBQTtJQUFJYyxTQUFTLEVBQUM7RUFBNkIsR0FDdEMwQixJQUFJLENBQUMvRixRQUFRLGdCQUNWakQsS0FBQSxDQUFBd0csYUFBQTtJQUFNYyxTQUFTLEVBQUM7RUFBdUYsR0FBQyxlQUM1RixFQUFDMEIsSUFBSSxDQUFDOUYsUUFBUSxtQkFBQXlFLE1BQUEsQ0FBYyxJQUFJeEUsSUFBSSxDQUFDNkYsSUFBSSxDQUFDOUYsUUFBUSxDQUFDLENBQUMwSCxrQkFBa0IsQ0FBQyxDQUFDLFNBQU0sWUFDcEYsQ0FBQyxnQkFFUDVLLEtBQUEsQ0FBQXdHLGFBQUE7SUFBTWMsU0FBUyxFQUFDO0VBQTJGLEdBQUMsT0FBVyxDQUUzSCxDQUFDLGVBQ0x0SCxLQUFBLENBQUF3RyxhQUFBO0lBQUljLFNBQVMsRUFBQztFQUE2QixnQkFDdkN0SCxLQUFBLENBQUF3RyxhQUFBO0lBQVFlLE9BQU8sRUFBRUEsQ0FBQSxLQUFNc0Msd0JBQXdCLENBQUNiLElBQUksQ0FBQ0csR0FBRyxFQUFFSCxJQUFJLENBQUN0RyxVQUFVLElBQUksS0FBSyxDQUFFO0lBQ2hGNEUsU0FBUyxnQ0FBQUssTUFBQSxDQUFnQ3FCLElBQUksQ0FBQ3RHLFVBQVUsR0FBRyxlQUFlLEdBQUcsb0NBQW9DO0VBQUcsZ0JBQ3BIMUMsS0FBQSxDQUFBd0csYUFBQTtJQUFHYyxTQUFTLEVBQUM7RUFBMEIsQ0FBSSxDQUN2QyxDQUNSLENBQUMsZUFDTHRILEtBQUEsQ0FBQXdHLGFBQUE7SUFBSWMsU0FBUyxFQUFDO0VBQTRELGdCQUN0RXRILEtBQUEsQ0FBQXdHLGFBQUE7SUFBUWUsT0FBTyxFQUFFQSxDQUFBLEtBQU11QixjQUFjLENBQUNFLElBQUksQ0FBRTtJQUN4QzFCLFNBQVMsbUZBQUFLLE1BQUEsQ0FBbUZxQixJQUFJLENBQUMvRixRQUFRLEdBQUcsY0FBYyxHQUFHLDZCQUE2QjtFQUFHLEdBQzVKK0YsSUFBSSxDQUFDL0YsUUFBUSxHQUFHLGVBQWUsR0FBRyxTQUMvQixDQUNSLENBQ0osQ0FDUCxDQUVGLENBQ0osQ0FDTixDQUFDLEVBQ0xxRixrQkFBa0IsaUJBQ2Z0SSxLQUFBLENBQUF3RyxhQUFBO0lBQUtjLFNBQVMsRUFBQztFQUE0RSxnQkFDdkZ0SCxLQUFBLENBQUF3RyxhQUFBO0lBQUtjLFNBQVMsRUFBQztFQUF3RCxnQkFDbkV0SCxLQUFBLENBQUF3RyxhQUFBO0lBQUljLFNBQVMsRUFBQztFQUF1QyxHQUFDLHNDQUFxQixlQUFBdEgsS0FBQSxDQUFBd0csYUFBQTtJQUFNYyxTQUFTLEVBQUM7RUFBa0IsR0FBRWdCLGtCQUFrQixDQUFDdkQsV0FBa0IsQ0FBSyxDQUFDLGVBQzFKL0UsS0FBQSxDQUFBd0csYUFBQTtJQUFLYyxTQUFTLEVBQUM7RUFBVyxnQkFDdEJ0SCxLQUFBLENBQUF3RyxhQUFBO0lBQVFlLE9BQU8sRUFBRUEsQ0FBQSxLQUFNa0MsVUFBVSxDQUFDLEVBQUUsQ0FBRTtJQUFDbkMsU0FBUyxFQUFDO0VBQWtHLGdCQUMvSXRILEtBQUEsQ0FBQXdHLGFBQUEsZUFBTSxTQUFhLENBQUMsZUFBQXhHLEtBQUEsQ0FBQXdHLGFBQUE7SUFBR2MsU0FBUyxFQUFDO0VBQWlFLENBQUksQ0FDbEcsQ0FBQyxlQUNUdEgsS0FBQSxDQUFBd0csYUFBQTtJQUFRZSxPQUFPLEVBQUVBLENBQUEsS0FBTWtDLFVBQVUsQ0FBQyxHQUFHLENBQUU7SUFBQ25DLFNBQVMsRUFBQztFQUFrRyxnQkFDaEp0SCxLQUFBLENBQUF3RyxhQUFBLGVBQU0sU0FBYSxDQUFDLGVBQUF4RyxLQUFBLENBQUF3RyxhQUFBO0lBQUdjLFNBQVMsRUFBQztFQUF1RSxDQUFJLENBQ3hHLENBQUMsZUFDVHRILEtBQUEsQ0FBQXdHLGFBQUE7SUFBUWUsT0FBTyxFQUFFQSxDQUFBLEtBQU1rQyxVQUFVLENBQUMsSUFBSSxDQUFFO0lBQUNuQyxTQUFTLEVBQUM7RUFBbUosZ0JBQ2xNdEgsS0FBQSxDQUFBd0csYUFBQSxlQUFNLHlCQUFjLENBQUMsZUFBQXhHLEtBQUEsQ0FBQXdHLGFBQUE7SUFBR2MsU0FBUyxFQUFDO0VBQXVELENBQUksQ0FDekYsQ0FDUCxDQUFDLGVBQ050SCxLQUFBLENBQUF3RyxhQUFBO0lBQUtjLFNBQVMsRUFBQztFQUF1QixnQkFDbEN0SCxLQUFBLENBQUF3RyxhQUFBO0lBQVFlLE9BQU8sRUFBRUEsQ0FBQSxLQUFNZ0IscUJBQXFCLENBQUMsSUFBSSxDQUFFO0lBQUNqQixTQUFTLEVBQUM7RUFBMEUsR0FBQyxZQUFhLENBQ3JKLENBQ0osQ0FDSixDQUVSLENBQUM7QUFFZCxDQUFDOztBQUVEO0FBQ0EsSUFBTXVELGFBQWEsR0FBR0MsTUFBQSxJQUF1QjtFQUFBLElBQXRCO0lBQUVDO0VBQWMsQ0FBQyxHQUFBRCxNQUFBO0VBQ3BDLElBQU0sQ0FBQ2xILEtBQUssRUFBRW9ILFFBQVEsQ0FBQyxHQUFHL0ssUUFBUSxDQUFDLEVBQUUsQ0FBQztFQUN0QyxJQUFNLENBQUM0RCxPQUFPLEVBQUVvSCxVQUFVLENBQUMsR0FBR2hMLFFBQVEsQ0FBQyxFQUFFLENBQUM7RUFDMUMsSUFBTSxDQUFDaUwsWUFBWSxFQUFFQyxlQUFlLENBQUMsR0FBR2xMLFFBQVEsQ0FBQyxLQUFLLENBQUM7RUFFdkQsSUFBTW1MLFlBQVk7SUFBQSxJQUFBQyxNQUFBLEdBQUFwSixpQkFBQSxDQUFHLFdBQU9tSSxDQUFDLEVBQUs7TUFDOUJBLENBQUMsQ0FBQ2tCLGNBQWMsQ0FBQyxDQUFDO01BQ2xCLElBQUksQ0FBQzFILEtBQUssQ0FBQzJILElBQUksQ0FBQyxDQUFDLElBQUksQ0FBQzFILE9BQU8sQ0FBQzBILElBQUksQ0FBQyxDQUFDLEVBQUU7TUFDdENKLGVBQWUsQ0FBQyxJQUFJLENBQUM7TUFDckIsSUFBSTtRQUNBLE1BQU16SCxrQkFBa0IsQ0FBQ0UsS0FBSyxFQUFFQyxPQUFPLEVBQUUsT0FBTyxDQUFDO1FBQ2pEbUgsUUFBUSxDQUFDLEVBQUUsQ0FBQztRQUFFQyxVQUFVLENBQUMsRUFBRSxDQUFDO01BQ2hDLENBQUMsQ0FBQyxPQUFPN0IsS0FBSyxFQUFFO1FBQ1pDLE9BQU8sQ0FBQ0QsS0FBSyxDQUFDQSxLQUFLLENBQUM7UUFDcEJFLEtBQUssQ0FBQyx3QkFBd0IsR0FBR0YsS0FBSyxDQUFDRyxJQUFJLENBQUM7TUFDaEQsQ0FBQyxTQUFTO1FBQ040QixlQUFlLENBQUMsS0FBSyxDQUFDO01BQzFCO0lBQ0osQ0FBQztJQUFBLGdCQWJLQyxZQUFZQSxDQUFBSSxJQUFBO01BQUEsT0FBQUgsTUFBQSxDQUFBbEosS0FBQSxPQUFBQyxTQUFBO0lBQUE7RUFBQSxHQWFqQjtFQUVELElBQU1xSixZQUFZO0lBQUEsSUFBQUMsTUFBQSxHQUFBekosaUJBQUEsQ0FBRyxXQUFPc0MsRUFBRSxFQUFLO01BQy9CLElBQUkwRSxNQUFNLENBQUNDLE9BQU8sQ0FBQywrQ0FBK0MsQ0FBQyxFQUFFO1FBQ2pFLElBQUk7VUFDQSxNQUFNN0Usa0JBQWtCLENBQUNFLEVBQUUsQ0FBQztRQUNoQyxDQUFDLENBQUMsT0FBTzZFLEtBQUssRUFBRTtVQUNaQyxPQUFPLENBQUNELEtBQUssQ0FBQ0EsS0FBSyxDQUFDO1VBQ3BCRSxLQUFLLENBQUMsbUJBQW1CLEdBQUdGLEtBQUssQ0FBQ0csSUFBSSxDQUFDO1FBQzNDO01BQ0o7SUFDSixDQUFDO0lBQUEsZ0JBVEtrQyxZQUFZQSxDQUFBRSxJQUFBO01BQUEsT0FBQUQsTUFBQSxDQUFBdkosS0FBQSxPQUFBQyxTQUFBO0lBQUE7RUFBQSxHQVNqQjtFQUVELG9CQUNJcEMsS0FBQSxDQUFBd0csYUFBQTtJQUFLYyxTQUFTLEVBQUM7RUFBdUMsZ0JBQ2xEdEgsS0FBQSxDQUFBd0csYUFBQTtJQUFLYyxTQUFTLEVBQUM7RUFBZSxnQkFDMUJ0SCxLQUFBLENBQUF3RyxhQUFBO0lBQUtjLFNBQVMsRUFBQztFQUF3RSxnQkFDbkZ0SCxLQUFBLENBQUF3RyxhQUFBO0lBQUljLFNBQVMsRUFBQztFQUErRCxnQkFDekV0SCxLQUFBLENBQUF3RyxhQUFBO0lBQUdjLFNBQVMsRUFBQztFQUFzQyxDQUFJLENBQUMsZ0JBQ3hELENBQUMsZUFDTHRILEtBQUEsQ0FBQXdHLGFBQUE7SUFBTW9GLFFBQVEsRUFBRVIsWUFBYTtJQUFDOUQsU0FBUyxFQUFDO0VBQVcsZ0JBQy9DdEgsS0FBQSxDQUFBd0csYUFBQSwyQkFDSXhHLEtBQUEsQ0FBQXdHLGFBQUE7SUFBT2MsU0FBUyxFQUFDO0VBQStDLEdBQUMsa0JBQWEsQ0FBQyxlQUMvRXRILEtBQUEsQ0FBQXdHLGFBQUE7SUFBT0ssSUFBSSxFQUFDLE1BQU07SUFBQ3FELEtBQUssRUFBRXRHLEtBQU07SUFBQ3VHLFFBQVEsRUFBR0MsQ0FBQyxJQUFLWSxRQUFRLENBQUNaLENBQUMsQ0FBQ0MsTUFBTSxDQUFDSCxLQUFLLENBQUU7SUFBQzVDLFNBQVMsRUFBQyxzR0FBc0c7SUFBQzJDLFdBQVcsRUFBQztFQUFvQixDQUFDLENBQzdOLENBQUMsZUFDTmpLLEtBQUEsQ0FBQXdHLGFBQUEsMkJBQ0l4RyxLQUFBLENBQUF3RyxhQUFBO0lBQU9jLFNBQVMsRUFBQztFQUErQyxHQUFDLGdCQUFhLENBQUMsZUFDL0V0SCxLQUFBLENBQUF3RyxhQUFBO0lBQVUwRCxLQUFLLEVBQUVyRyxPQUFRO0lBQUNzRyxRQUFRLEVBQUdDLENBQUMsSUFBS2EsVUFBVSxDQUFDYixDQUFDLENBQUNDLE1BQU0sQ0FBQ0gsS0FBSyxDQUFFO0lBQUMyQixJQUFJLEVBQUUsQ0FBRTtJQUFDdkUsU0FBUyxFQUFDLGtIQUFrSDtJQUFDMkMsV0FBVyxFQUFDO0VBQWlCLENBQVcsQ0FDcFAsQ0FBQyxlQUNOakssS0FBQSxDQUFBd0csYUFBQTtJQUFRSyxJQUFJLEVBQUMsUUFBUTtJQUFDaUYsUUFBUSxFQUFFWixZQUFhO0lBQUM1RCxTQUFTLEVBQUM7RUFBOEgsR0FDakw0RCxZQUFZLEdBQUcsaUJBQWlCLEdBQUcsU0FDaEMsQ0FDTixDQUNMLENBQ0osQ0FBQyxlQUNObEwsS0FBQSxDQUFBd0csYUFBQTtJQUFLYyxTQUFTLEVBQUM7RUFBeUIsZ0JBQ3BDdEgsS0FBQSxDQUFBd0csYUFBQTtJQUFJYyxTQUFTLEVBQUM7RUFBdUMsR0FBQyxpQkFBbUIsQ0FBQyxFQUN6RXlELGFBQWEsQ0FBQ1QsTUFBTSxLQUFLLENBQUMsZ0JBQ3ZCdEssS0FBQSxDQUFBd0csYUFBQTtJQUFLYyxTQUFTLEVBQUM7RUFBK0YsZ0JBQUN0SCxLQUFBLENBQUF3RyxhQUFBO0lBQUdjLFNBQVMsRUFBQztFQUF1QyxDQUFJLENBQUMsZUFBQXRILEtBQUEsQ0FBQXdHLGFBQUEsWUFBRyxnREFBK0IsQ0FBTSxDQUFDLEdBRWpOdUUsYUFBYSxDQUFDZ0IsSUFBSSxDQUFDLENBQUNDLENBQUMsRUFBQ0MsQ0FBQyxLQUFLQSxDQUFDLENBQUNqSSxTQUFTLEdBQUdnSSxDQUFDLENBQUNoSSxTQUFTLENBQUMsQ0FBQ3dELEdBQUcsQ0FBQzBFLEdBQUcsaUJBQzFEbE0sS0FBQSxDQUFBd0csYUFBQTtJQUFLa0IsR0FBRyxFQUFFd0UsR0FBRyxDQUFDM0gsRUFBRztJQUFDK0MsU0FBUyxFQUFDO0VBQXlHLGdCQUNqSXRILEtBQUEsQ0FBQXdHLGFBQUE7SUFBS2MsU0FBUyxFQUFDO0VBQXVDLGdCQUNsRHRILEtBQUEsQ0FBQXdHLGFBQUE7SUFBSWMsU0FBUyxFQUFDO0VBQWtDLEdBQUU0RSxHQUFHLENBQUN0SSxLQUFVLENBQUMsZUFDakU1RCxLQUFBLENBQUF3RyxhQUFBO0lBQVFlLE9BQU8sRUFBRUEsQ0FBQSxLQUFNa0UsWUFBWSxDQUFDUyxHQUFHLENBQUMzSCxFQUFFLENBQUU7SUFBQytDLFNBQVMsRUFBQztFQUF3RixnQkFBQ3RILEtBQUEsQ0FBQXdHLGFBQUE7SUFBR2MsU0FBUyxFQUFDO0VBQXVCLENBQUksQ0FBUyxDQUNoTSxDQUFDLGVBQ050SCxLQUFBLENBQUF3RyxhQUFBO0lBQUdjLFNBQVMsRUFBQztFQUE0RCxHQUFFNEUsR0FBRyxDQUFDckksT0FBVyxDQUFDLGVBQzNGN0QsS0FBQSxDQUFBd0csYUFBQTtJQUFLYyxTQUFTLEVBQUM7RUFBZ0csZ0JBQzNHdEgsS0FBQSxDQUFBd0csYUFBQTtJQUFHYyxTQUFTLEVBQUM7RUFBcUIsQ0FBSSxDQUFDLGVBQUF0SCxLQUFBLENBQUF3RyxhQUFBLGVBQU8sSUFBSXJELElBQUksQ0FBQytJLEdBQUcsQ0FBQ2xJLFNBQVMsQ0FBQyxDQUFDbUksY0FBYyxDQUFDLENBQVEsQ0FDNUYsQ0FDSixDQUNSLENBRUosQ0FDSixDQUFDO0FBRWQsQ0FBQzs7QUFFRDtBQUNBLElBQU1DLFVBQVUsR0FBR0MsTUFBQSxJQUFrQjtFQUFBLElBQWpCO0lBQUVDO0VBQVMsQ0FBQyxHQUFBRCxNQUFBO0VBQzVCLElBQU0sQ0FBQ0UsUUFBUSxFQUFFQyxXQUFXLENBQUMsR0FBR3ZNLFFBQVEsQ0FBQyxFQUFFLENBQUM7RUFDNUMsSUFBTXdNLGNBQWMsR0FBR3RNLE1BQU0sQ0FBQyxJQUFJLENBQUM7RUFFbkNELFNBQVMsQ0FBQyxNQUFNO0lBQ1osSUFBSXVNLGNBQWMsQ0FBQ0MsT0FBTyxFQUFFO01BQ3hCRCxjQUFjLENBQUNDLE9BQU8sQ0FBQ0MsY0FBYyxDQUFDO1FBQUVDLFFBQVEsRUFBRTtNQUFTLENBQUMsQ0FBQztJQUNqRTtFQUNKLENBQUMsRUFBRSxDQUFDTixRQUFRLENBQUMsQ0FBQztFQUVkLElBQU1PLFVBQVU7SUFBQSxJQUFBQyxNQUFBLEdBQUE3SyxpQkFBQSxDQUFHLFdBQU9tSSxDQUFDLEVBQUs7TUFDNUJBLENBQUMsQ0FBQ2tCLGNBQWMsQ0FBQyxDQUFDO01BQ2xCLElBQUksQ0FBQ2lCLFFBQVEsQ0FBQ2hCLElBQUksQ0FBQyxDQUFDLEVBQUU7TUFDdEIsSUFBSTtRQUNBLE1BQU03RyxnQkFBZ0IsQ0FBQzZILFFBQVEsRUFBRSxlQUFlLENBQUM7UUFDakRDLFdBQVcsQ0FBQyxFQUFFLENBQUM7TUFDbkIsQ0FBQyxDQUFDLE9BQU9wRCxLQUFLLEVBQUU7UUFDWkMsT0FBTyxDQUFDRCxLQUFLLENBQUNBLEtBQUssQ0FBQztRQUNwQkUsS0FBSyxDQUFDLHVCQUF1QixHQUFHRixLQUFLLENBQUNHLElBQUksQ0FBQztNQUMvQztJQUNKLENBQUM7SUFBQSxnQkFWS3NELFVBQVVBLENBQUFFLElBQUE7TUFBQSxPQUFBRCxNQUFBLENBQUEzSyxLQUFBLE9BQUFDLFNBQUE7SUFBQTtFQUFBLEdBVWY7RUFFRCxJQUFNcUosWUFBWTtJQUFBLElBQUF1QixNQUFBLEdBQUEvSyxpQkFBQSxDQUFHLFdBQU9zQyxFQUFFLEVBQUs7TUFDL0IsSUFBSTBFLE1BQU0sQ0FBQ0MsT0FBTyxDQUFDLDZDQUE2QyxDQUFDLEVBQUU7UUFDL0QsSUFBSTtVQUNBLE1BQU05RCxpQkFBaUIsQ0FBQ2IsRUFBRSxDQUFDO1FBQy9CLENBQUMsQ0FBQyxPQUFPNkUsS0FBSyxFQUFFO1VBQ1pDLE9BQU8sQ0FBQ0QsS0FBSyxDQUFDQSxLQUFLLENBQUM7VUFDcEJFLEtBQUssQ0FBQyxtQkFBbUIsR0FBR0YsS0FBSyxDQUFDRyxJQUFJLENBQUM7UUFDM0M7TUFDSjtJQUNKLENBQUM7SUFBQSxnQkFUS2tDLFlBQVlBLENBQUF3QixJQUFBO01BQUEsT0FBQUQsTUFBQSxDQUFBN0ssS0FBQSxPQUFBQyxTQUFBO0lBQUE7RUFBQSxHQVNqQjtFQUVELElBQU04SyxjQUFjLEdBQUcsQ0FBQyxHQUFHWixRQUFRLENBQUMsQ0FBQ1AsSUFBSSxDQUFDLENBQUNDLENBQUMsRUFBRUMsQ0FBQyxLQUFLRCxDQUFDLENBQUNoSCxTQUFTLEdBQUdpSCxDQUFDLENBQUNqSCxTQUFTLENBQUM7RUFFOUUsb0JBQ0loRixLQUFBLENBQUF3RyxhQUFBO0lBQUtjLFNBQVMsRUFBQztFQUEwRyxnQkFDckh0SCxLQUFBLENBQUF3RyxhQUFBO0lBQUtjLFNBQVMsRUFBQztFQUE2RSxnQkFDeEZ0SCxLQUFBLENBQUF3RyxhQUFBO0lBQUljLFNBQVMsRUFBQztFQUFrRCxnQkFBQ3RILEtBQUEsQ0FBQXdHLGFBQUE7SUFBR2MsU0FBUyxFQUFDO0VBQXVDLENBQUksQ0FBQyw2QkFBd0IsQ0FBQyxlQUNuSnRILEtBQUEsQ0FBQXdHLGFBQUE7SUFBTWMsU0FBUyxFQUFDO0VBQThGLGdCQUFDdEgsS0FBQSxDQUFBd0csYUFBQTtJQUFNYyxTQUFTLEVBQUM7RUFBaUQsQ0FBTyxDQUFDLDZCQUFnQixDQUN2TSxDQUFDLGVBQ050SCxLQUFBLENBQUF3RyxhQUFBO0lBQUtjLFNBQVMsRUFBQztFQUFxRCxHQUMvRDRGLGNBQWMsQ0FBQzVDLE1BQU0sS0FBSyxDQUFDLGdCQUN4QnRLLEtBQUEsQ0FBQXdHLGFBQUE7SUFBS2MsU0FBUyxFQUFDO0VBQXdELGdCQUFDdEgsS0FBQSxDQUFBd0csYUFBQSxZQUFHLHFCQUFtQixDQUFNLENBQUMsR0FFckcwRyxjQUFjLENBQUMxRixHQUFHLENBQUMyRixHQUFHLGlCQUNsQm5OLEtBQUEsQ0FBQXdHLGFBQUE7SUFBS2tCLEdBQUcsRUFBRXlGLEdBQUcsQ0FBQzVJLEVBQUc7SUFBQytDLFNBQVMsc0JBQUFLLE1BQUEsQ0FBc0J3RixHQUFHLENBQUNsSSxPQUFPLEdBQUcsYUFBYSxHQUFHLEVBQUU7RUFBRyxHQUMvRSxDQUFDa0ksR0FBRyxDQUFDbEksT0FBTyxpQkFBSWpGLEtBQUEsQ0FBQXdHLGFBQUE7SUFBS2MsU0FBUyxFQUFDO0VBQW1ILEdBQUU2RixHQUFHLENBQUNwSSxXQUFXLEdBQUdvSSxHQUFHLENBQUNwSSxXQUFXLENBQUMyRixNQUFNLENBQUMsQ0FBQyxDQUFDLENBQUNDLFdBQVcsQ0FBQyxDQUFDLEdBQUcsR0FBUyxDQUFDLGVBQzNOM0ssS0FBQSxDQUFBd0csYUFBQTtJQUFLYyxTQUFTO0VBQStCLGdCQUN6Q3RILEtBQUEsQ0FBQXdHLGFBQUE7SUFBS2MsU0FBUyx1Q0FBQUssTUFBQSxDQUF1Q3dGLEdBQUcsQ0FBQ2xJLE9BQU8sR0FBRywyQ0FBMkMsR0FBRyxpRUFBaUU7RUFBRyxHQUNoTCxDQUFDa0ksR0FBRyxDQUFDbEksT0FBTyxpQkFBSWpGLEtBQUEsQ0FBQXdHLGFBQUE7SUFBS2MsU0FBUyxFQUFDO0VBQXlDLEdBQUU2RixHQUFHLENBQUNwSSxXQUFpQixDQUFDLEVBQ2hHb0ksR0FBRyxDQUFDdkksSUFDSixDQUFDLGVBQ041RSxLQUFBLENBQUF3RyxhQUFBO0lBQUtjLFNBQVMsNkRBQUFLLE1BQUEsQ0FBNkR3RixHQUFHLENBQUNsSSxPQUFPLEdBQUcsYUFBYSxHQUFHLGVBQWU7RUFBRyxHQUN0SCxJQUFJOUIsSUFBSSxDQUFDZ0ssR0FBRyxDQUFDbkksU0FBUyxDQUFDLENBQUNvSSxrQkFBa0IsQ0FBQyxFQUFFLEVBQUU7SUFBQ0MsSUFBSSxFQUFFLFNBQVM7SUFBRUMsTUFBTSxFQUFDO0VBQVMsQ0FBQyxDQUFDLGVBQ3BGdE4sS0FBQSxDQUFBd0csYUFBQTtJQUFRZSxPQUFPLEVBQUVBLENBQUEsS0FBTWtFLFlBQVksQ0FBQzBCLEdBQUcsQ0FBQzVJLEVBQUUsQ0FBRTtJQUFDK0MsU0FBUyxFQUFDO0VBQStHLGdCQUFDdEgsS0FBQSxDQUFBd0csYUFBQTtJQUFHYyxTQUFTLEVBQUM7RUFBdUIsQ0FBSSxDQUFTLENBQ3ZOLENBQ0osQ0FBQyxFQUNMNkYsR0FBRyxDQUFDbEksT0FBTyxpQkFBSWpGLEtBQUEsQ0FBQXdHLGFBQUE7SUFBS2MsU0FBUyxFQUFDO0VBQXVILGdCQUFDdEgsS0FBQSxDQUFBd0csYUFBQTtJQUFHYyxTQUFTLEVBQUM7RUFBMkIsQ0FBSSxDQUFNLENBQ3hNLENBQ1IsQ0FDSixlQUNEdEgsS0FBQSxDQUFBd0csYUFBQTtJQUFLK0csR0FBRyxFQUFFZDtFQUFlLENBQUUsQ0FDMUIsQ0FBQyxlQUNOek0sS0FBQSxDQUFBd0csYUFBQTtJQUFLYyxTQUFTLEVBQUM7RUFBd0MsZ0JBQ25EdEgsS0FBQSxDQUFBd0csYUFBQTtJQUFNb0YsUUFBUSxFQUFFaUIsVUFBVztJQUFDdkYsU0FBUyxFQUFDO0VBQVksZ0JBQzlDdEgsS0FBQSxDQUFBd0csYUFBQTtJQUFPSyxJQUFJLEVBQUMsTUFBTTtJQUFDcUQsS0FBSyxFQUFFcUMsUUFBUztJQUFDcEMsUUFBUSxFQUFHQyxDQUFDLElBQUtvQyxXQUFXLENBQUNwQyxDQUFDLENBQUNDLE1BQU0sQ0FBQ0gsS0FBSyxDQUFFO0lBQUM1QyxTQUFTLEVBQUMsOEdBQThHO0lBQUMyQyxXQUFXLEVBQUM7RUFBOEIsQ0FBQyxDQUFDLGVBQ3ZQakssS0FBQSxDQUFBd0csYUFBQTtJQUFRSyxJQUFJLEVBQUMsUUFBUTtJQUFDaUYsUUFBUSxFQUFFLENBQUNTLFFBQVEsQ0FBQ2hCLElBQUksQ0FBQyxDQUFFO0lBQUNqRSxTQUFTLEVBQUM7RUFBMkcsZ0JBQUN0SCxLQUFBLENBQUF3RyxhQUFBO0lBQUdjLFNBQVMsRUFBQztFQUF5QixDQUFJLENBQVMsQ0FDek4sQ0FDTCxDQUNKLENBQUM7QUFFZCxDQUFDOztBQUVEO0FBQ0EsSUFBTWtHLEdBQUcsR0FBR0EsQ0FBQSxLQUFNO0VBQUEsSUFBQUMsa0JBQUE7RUFDZCxJQUFNLENBQUNDLFdBQVcsRUFBRUMsY0FBYyxDQUFDLEdBQUcxTixRQUFRLENBQUMsSUFBSSxDQUFDO0VBQ3BELElBQU0sQ0FBQzJOLE9BQU8sRUFBRUMsVUFBVSxDQUFDLEdBQUc1TixRQUFRLENBQUMsSUFBSSxDQUFDO0VBQzVDLElBQU0sQ0FBQzhGLFdBQVcsRUFBRStILGNBQWMsQ0FBQyxHQUFHN04sUUFBUSxDQUFDdUYsU0FBUyxDQUFDQyxTQUFTLENBQUM7RUFDbkUsSUFBTSxDQUFDc0ksZUFBZSxFQUFFQyxrQkFBa0IsQ0FBQyxHQUFHL04sUUFBUSxDQUFDLElBQUksQ0FBQztFQUM1RCxJQUFNLENBQUNnTyxjQUFjLEVBQUVDLGlCQUFpQixDQUFDLEdBQUdqTyxRQUFRLENBQUMsS0FBSyxDQUFDOztFQUUzRDtFQUNBLElBQU0sQ0FBQ2tJLEtBQUssRUFBRWdHLFFBQVEsQ0FBQyxHQUFHbE8sUUFBUSxDQUFDLEVBQUUsQ0FBQztFQUN0QyxJQUFNLENBQUM4SyxhQUFhLEVBQUVxRCxnQkFBZ0IsQ0FBQyxHQUFHbk8sUUFBUSxDQUFDLEVBQUUsQ0FBQztFQUN0RCxJQUFNLENBQUNxTSxRQUFRLEVBQUUrQixXQUFXLENBQUMsR0FBR3BPLFFBQVEsQ0FBQyxFQUFFLENBQUM7O0VBRTVDO0VBQ0E7RUFDQSxJQUFNLENBQUNxTyxZQUFZLEVBQUVDLGVBQWUsQ0FBQyxHQUFHdE8sUUFBUSxDQUFDLENBQUMsQ0FBQyxDQUFDO0VBQ3BELElBQU0sQ0FBQ3VPLGNBQWMsRUFBRUMsaUJBQWlCLENBQUMsR0FBR3hPLFFBQVEsQ0FBQyxFQUFFLENBQUM7RUFDeEQsSUFBTSxDQUFDbUosS0FBSyxFQUFFc0YsUUFBUSxDQUFDLEdBQUd6TyxRQUFRLENBQUMsRUFBRSxDQUFDO0VBRXRDQyxTQUFTLENBQUMsTUFBTTtJQUNaO0lBQ0EsSUFBTXlPLFFBQVEsR0FBRzFGLE1BQU0sQ0FBQzJGLFFBQVEsQ0FBQ0QsUUFBUTtJQUN6QyxJQUFJQSxRQUFRLEtBQUssT0FBTyxJQUFJQSxRQUFRLEtBQUssUUFBUSxFQUFFO01BQy9DWCxrQkFBa0IsQ0FBQyxLQUFLLENBQUM7TUFDekJILFVBQVUsQ0FBQyxLQUFLLENBQUM7TUFDakI7SUFDSjtJQUVBLElBQU1nQixXQUFXLEdBQUdwTyxrQkFBa0IsQ0FBQ29CLElBQUksRUFBR21ILElBQUksSUFBSztNQUNuRCxJQUFJQSxJQUFJLElBQUlBLElBQUksQ0FBQ0gsS0FBSyxLQUFLLDZCQUE2QixFQUFFO1FBQ3REbkksT0FBTyxDQUFDbUIsSUFBSSxDQUFDO1FBQ2I2TSxRQUFRLENBQUMsNkNBQTZDLENBQUM7UUFDdkRmLGNBQWMsQ0FBQyxJQUFJLENBQUM7TUFDeEIsQ0FBQyxNQUFNO1FBQ0hBLGNBQWMsQ0FBQzNFLElBQUksQ0FBQztNQUN4QjtNQUNBNkUsVUFBVSxDQUFDLEtBQUssQ0FBQztJQUNyQixDQUFDLENBQUM7SUFDRixPQUFPLE1BQU1nQixXQUFXLENBQUMsQ0FBQztFQUM5QixDQUFDLEVBQUUsRUFBRSxDQUFDO0VBRU4zTyxTQUFTLENBQUMsTUFBTTtJQUNaLElBQUksQ0FBQ3dOLFdBQVcsRUFBRTs7SUFFbEI7SUFDQSxJQUFNb0IsUUFBUSxHQUFHbE8sVUFBVSxDQUFDa0IsRUFBRSxFQUFFLE9BQU8sQ0FBQztJQUN4QyxJQUFNaU4sVUFBVSxHQUFHOU4sVUFBVSxDQUFDNk4sUUFBUSxFQUFHRSxRQUFRLElBQUs7TUFDbEQsSUFBTUMsSUFBSSxHQUFHRCxRQUFRLENBQUNFLElBQUksQ0FBQzFILEdBQUcsQ0FBQzNHLEdBQUcsSUFBQXNPLGFBQUE7UUFBT2hHLEdBQUcsRUFBRXRJLEdBQUcsQ0FBQzBEO01BQUUsR0FBSzFELEdBQUcsQ0FBQ3VPLElBQUksQ0FBQyxDQUFDLENBQUcsQ0FBQztNQUN2RWpCLFFBQVEsQ0FBQ2MsSUFBSSxDQUFDO0lBQ2xCLENBQUMsQ0FBQztJQUVGLElBQU16SyxNQUFNLEdBQUc1RCxVQUFVLENBQUNrQixFQUFFLEVBQUUsZUFBZSxDQUFDO0lBQzlDLElBQU11TixRQUFRLEdBQUdwTyxVQUFVLENBQUN1RCxNQUFNLEVBQUd3SyxRQUFRLElBQUs7TUFDOUMsSUFBTUMsSUFBSSxHQUFHRCxRQUFRLENBQUNFLElBQUksQ0FBQzFILEdBQUcsQ0FBQzNHLEdBQUcsSUFBQXNPLGFBQUE7UUFBTzVLLEVBQUUsRUFBRTFELEdBQUcsQ0FBQzBEO01BQUUsR0FBSzFELEdBQUcsQ0FBQ3VPLElBQUksQ0FBQyxDQUFDLENBQUcsQ0FBQztNQUN0RWhCLGdCQUFnQixDQUFDYSxJQUFJLENBQUM7SUFDMUIsQ0FBQyxDQUFDO0lBRUYsSUFBTUssU0FBUyxHQUFHcE8sS0FBSyxDQUFDTixVQUFVLENBQUNrQixFQUFFLEVBQUUsWUFBWSxDQUFDLEVBQUVYLE9BQU8sQ0FBQyxXQUFXLEVBQUUsS0FBSyxDQUFDLENBQUM7SUFDbEYsSUFBTW9PLFNBQVMsR0FBR3RPLFVBQVUsQ0FBQ3FPLFNBQVMsRUFBR04sUUFBUSxJQUFLO01BQ2xELElBQU1DLElBQUksR0FBR0QsUUFBUSxDQUFDRSxJQUFJLENBQUMxSCxHQUFHLENBQUMzRyxHQUFHLElBQUFzTyxhQUFBO1FBQU81SyxFQUFFLEVBQUUxRCxHQUFHLENBQUMwRDtNQUFFLEdBQUsxRCxHQUFHLENBQUN1TyxJQUFJLENBQUMsQ0FBQyxDQUFHLENBQUM7TUFDdEVmLFdBQVcsQ0FBQ1ksSUFBSSxDQUFDO0lBQ3JCLENBQUMsQ0FBQztJQUVGLE9BQU8sTUFBTTtNQUFFRixVQUFVLENBQUMsQ0FBQztNQUFFTSxRQUFRLENBQUMsQ0FBQztNQUFFRSxTQUFTLENBQUMsQ0FBQztJQUFFLENBQUM7RUFDM0QsQ0FBQyxFQUFFLENBQUM3QixXQUFXLENBQUMsQ0FBQztFQUVqQixJQUFNOEIsb0JBQW9CLEdBQUlwRixDQUFDLElBQUs7SUFDaENBLENBQUMsQ0FBQ2tCLGNBQWMsQ0FBQyxDQUFDO0lBQ2xCb0QsUUFBUSxDQUFDLEVBQUUsQ0FBQztJQUNaLElBQU1lLE1BQU0sR0FBR2pCLGNBQWMsQ0FBQ2pELElBQUksQ0FBQyxDQUFDO0lBRXBDLElBQUkrQyxZQUFZLEtBQUssQ0FBQyxFQUFFO01BQ3BCLElBQUltQixNQUFNLEtBQUssVUFBVSxFQUFFO1FBQUVsQixlQUFlLENBQUMsQ0FBQyxDQUFDO1FBQUVFLGlCQUFpQixDQUFDLEVBQUUsQ0FBQztNQUFFLENBQUMsTUFDcEVDLFFBQVEsQ0FBQywwQ0FBMEMsQ0FBQztJQUM3RCxDQUFDLE1BQU0sSUFBSUosWUFBWSxLQUFLLENBQUMsRUFBRTtNQUMzQixJQUFJbUIsTUFBTSxLQUFLLHNCQUFzQixFQUFFO1FBQUVsQixlQUFlLENBQUMsQ0FBQyxDQUFDO1FBQUVFLGlCQUFpQixDQUFDLEVBQUUsQ0FBQztNQUFFLENBQUMsTUFDaEZDLFFBQVEsQ0FBQyxzQkFBc0IsQ0FBQztJQUN6QyxDQUFDLE1BQU0sSUFBSUosWUFBWSxLQUFLLENBQUMsRUFBRTtNQUMzQixJQUFJbUIsTUFBTSxLQUFLLG9CQUFvQixFQUFFO1FBQUVsQixlQUFlLENBQUMsQ0FBQyxDQUFDO1FBQUVFLGlCQUFpQixDQUFDLEVBQUUsQ0FBQztNQUFFLENBQUMsTUFDOUVDLFFBQVEsQ0FBQyw2Q0FBNkMsQ0FBQztJQUNoRTtFQUNKLENBQUM7RUFFRCxJQUFNckksa0JBQWtCLEdBQUdBLENBQUEsS0FBTTtJQUM3QixJQUFNQyxPQUFPLEdBQUdDLFFBQVEsQ0FBQ0MsYUFBYSxDQUFDLEdBQUcsQ0FBQztJQUMzQyxJQUFNQyxJQUFJLEdBQUcsSUFBSUMsSUFBSSxDQUFDLENBQUNILFFBQVEsQ0FBQ0ksZUFBZSxDQUFDQyxTQUFTLENBQUMsRUFBRTtNQUFDQyxJQUFJLEVBQUU7SUFBVyxDQUFDLENBQUM7SUFDaEZQLE9BQU8sQ0FBQ1EsSUFBSSxHQUFHQyxHQUFHLENBQUNDLGVBQWUsQ0FBQ1AsSUFBSSxDQUFDO0lBQ3hDSCxPQUFPLENBQUNXLFFBQVEsR0FBRyxxQkFBcUI7SUFDeENWLFFBQVEsQ0FBQ1csSUFBSSxDQUFDQyxXQUFXLENBQUNiLE9BQU8sQ0FBQztJQUNsQ0EsT0FBTyxDQUFDYyxLQUFLLENBQUMsQ0FBQztJQUNmYixRQUFRLENBQUNXLElBQUksQ0FBQ0csV0FBVyxDQUFDZixPQUFPLENBQUM7RUFDdEMsQ0FBQztFQUVELElBQU1vSixpQkFBaUI7SUFBQSxJQUFBQyxNQUFBLEdBQUExTixpQkFBQSxDQUFHLGFBQVk7TUFDbEN5TSxRQUFRLENBQUMsRUFBRSxDQUFDOztNQUVaO01BQ0EsSUFBSXpGLE1BQU0sQ0FBQzJGLFFBQVEsQ0FBQ0QsUUFBUSxLQUFLLE9BQU8sRUFBRTtRQUN0Q0QsUUFBUSxDQUFDLHdQQUF3UCxDQUFDO1FBQ2xRO01BQ0o7TUFFQSxJQUFJO1FBQ0EsSUFBTWtCLE1BQU0sU0FBUzdOLGdCQUFnQixDQUFDLENBQUM7UUFDdkMsSUFBSTZOLE1BQU0sQ0FBQzVHLElBQUksQ0FBQ0gsS0FBSyxLQUFLLDZCQUE2QixFQUFFO1VBQ3JELE1BQU1uSSxPQUFPLENBQUNtQixJQUFJLENBQUM7VUFDbkI2TSxRQUFRLENBQUMseUVBQXlFLENBQUM7UUFDdkY7TUFDSixDQUFDLENBQUMsT0FBT21CLEdBQUcsRUFBRTtRQUNWeEcsT0FBTyxDQUFDRCxLQUFLLENBQUMsWUFBWSxFQUFFeUcsR0FBRyxDQUFDO1FBQ2hDLElBQUkxQyxHQUFHLHFDQUFBeEYsTUFBQSxDQUEyQmtJLEdBQUcsQ0FBQ0MsT0FBTyxDQUFFO1FBRS9DLElBQUlELEdBQUcsQ0FBQ3RHLElBQUksS0FBSywwQkFBMEIsRUFBRTtVQUN6QyxJQUFNd0csYUFBYSxHQUFHOUcsTUFBTSxDQUFDMkYsUUFBUSxDQUFDb0IsUUFBUSxJQUFJLGtCQUFrQjtVQUNwRTdDLEdBQUcsK0hBQUF4RixNQUFBLENBQTBFb0ksYUFBYSx1TkFBQXBJLE1BQUEsQ0FBa0xvSSxhQUFhLENBQUU7UUFDL1IsQ0FBQyxNQUFNLElBQUlGLEdBQUcsQ0FBQ3RHLElBQUksS0FBSywyQkFBMkIsRUFBRTtVQUNqRDRELEdBQUcsR0FBRyxzREFBc0Q7UUFDaEUsQ0FBQyxNQUFNLElBQUkwQyxHQUFHLENBQUN0RyxJQUFJLEtBQUssOEJBQThCLEVBQUU7VUFDcEQ0RCxHQUFHLEdBQUcsd0RBQXdEO1FBQ2xFLENBQUMsTUFBTSxJQUFJMEMsR0FBRyxDQUFDdEcsSUFBSSxLQUFLLG9CQUFvQixFQUFFO1VBQzFDNEQsR0FBRyxHQUFHLGdHQUFnRztRQUMxRyxDQUFDLE1BQU0sSUFBSTBDLEdBQUcsQ0FBQ3RHLElBQUksS0FBSyxrREFBa0QsRUFBRTtVQUN4RTRELEdBQUcsR0FBRywyRkFBMkY7UUFDckc7UUFFQXVCLFFBQVEsQ0FBQ3ZCLEdBQUcsQ0FBQztNQUNqQjtJQUNKLENBQUM7SUFBQSxnQkFsQ0t1QyxpQkFBaUJBLENBQUE7TUFBQSxPQUFBQyxNQUFBLENBQUF4TixLQUFBLE9BQUFDLFNBQUE7SUFBQTtFQUFBLEdBa0N0QjtFQUVELElBQU02TixZQUFZLEdBQUdBLENBQUEsS0FBTTtJQUN2QnZQLE9BQU8sQ0FBQ21CLElBQUksQ0FBQztJQUNiME0sZUFBZSxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQztJQUNyQkUsaUJBQWlCLENBQUMsRUFBRSxDQUFDO0VBQ3pCLENBQUM7O0VBRUQ7RUFDQSxJQUFJLENBQUNWLGVBQWUsSUFBSSxDQUFDRSxjQUFjLEVBQUU7SUFDckMsb0JBQ0lqTyxLQUFBLENBQUF3RyxhQUFBO01BQUtjLFNBQVMsRUFBQztJQUFnRSxnQkFDM0V0SCxLQUFBLENBQUF3RyxhQUFBO01BQUtjLFNBQVMsRUFBQztJQUF1SCxnQkFDbEl0SCxLQUFBLENBQUF3RyxhQUFBO01BQUtjLFNBQVMsRUFBQztJQUFpRyxnQkFDNUd0SCxLQUFBLENBQUF3RyxhQUFBO01BQUdjLFNBQVMsRUFBQztJQUF3RCxDQUFJLENBQ3hFLENBQUMsZUFDTnRILEtBQUEsQ0FBQXdHLGFBQUE7TUFBSWMsU0FBUyxFQUFDO0lBQW9DLEdBQUMsaURBQWlDLENBQUMsZUFDckZ0SCxLQUFBLENBQUF3RyxhQUFBO01BQUdjLFNBQVMsRUFBQztJQUE2QyxHQUFDLHdQQUV4RCxDQUFDLGVBQ0p0SCxLQUFBLENBQUF3RyxhQUFBO01BQUtjLFNBQVMsRUFBQztJQUFtRyxnQkFDOUd0SCxLQUFBLENBQUF3RyxhQUFBLDJCQUNJeEcsS0FBQSxDQUFBd0csYUFBQTtNQUFRYyxTQUFTLEVBQUM7SUFBNkIsZ0JBQUN0SCxLQUFBLENBQUF3RyxhQUFBO01BQUdjLFNBQVMsRUFBQztJQUF1QixDQUFJLENBQUMsc0NBQWdDLENBQUMsa0lBRXpILENBQUMsZUFDTnRILEtBQUEsQ0FBQXdHLGFBQUEsMkJBQ0l4RyxLQUFBLENBQUF3RyxhQUFBO01BQVFjLFNBQVMsRUFBQztJQUE2QixnQkFBQ3RILEtBQUEsQ0FBQXdHLGFBQUE7TUFBR2MsU0FBUyxFQUFDO0lBQTBCLENBQUksQ0FBQyw0QkFBd0IsQ0FBQyx5RkFFcEgsQ0FDSixDQUFDLGVBQ050SCxLQUFBLENBQUF3RyxhQUFBO01BQUtjLFNBQVMsRUFBQztJQUEwQixnQkFDckN0SCxLQUFBLENBQUF3RyxhQUFBO01BQVFlLE9BQU8sRUFBRUEsQ0FBQSxLQUFNMkcsaUJBQWlCLENBQUMsSUFBSSxDQUFFO01BQUM1RyxTQUFTLEVBQUM7SUFBOEYsR0FBQywrQkFFakosQ0FBQyxlQUNUdEgsS0FBQSxDQUFBd0csYUFBQTtNQUFRZSxPQUFPLEVBQUVsQixrQkFBbUI7TUFBQ2lCLFNBQVMsRUFBQztJQUFpRyxnQkFDNUl0SCxLQUFBLENBQUF3RyxhQUFBO01BQUdjLFNBQVMsRUFBQztJQUEyQixDQUFJLENBQUMsa0NBQ3pDLENBQ1AsQ0FDSixDQUNKLENBQUM7RUFFZDtFQUVBLElBQUlzRyxPQUFPLEVBQUUsb0JBQU81TixLQUFBLENBQUF3RyxhQUFBO0lBQUtjLFNBQVMsRUFBQztFQUEyRCxnQkFBQ3RILEtBQUEsQ0FBQXdHLGFBQUE7SUFBS2MsU0FBUyxFQUFDO0VBQW1FLENBQU0sQ0FBTSxDQUFDO0VBRTlMLElBQUksQ0FBQ29HLFdBQVcsRUFBRTtJQUNkLG9CQUNJMU4sS0FBQSxDQUFBd0csYUFBQTtNQUFLYyxTQUFTLEVBQUM7SUFBeUYsZ0JBQ3BHdEgsS0FBQSxDQUFBd0csYUFBQTtNQUFLYyxTQUFTLEVBQUM7SUFBaUQsZ0JBQzdEdEgsS0FBQSxDQUFBd0csYUFBQTtNQUFLYyxTQUFTLEVBQUM7SUFBNEksQ0FBTSxDQUMvSixDQUFDLGVBQ050SCxLQUFBLENBQUF3RyxhQUFBO01BQUtjLFNBQVMsRUFBQztJQUErRixnQkFDMUd0SCxLQUFBLENBQUF3RyxhQUFBO01BQUtjLFNBQVMsRUFBQztJQUFrQixnQkFDN0J0SCxLQUFBLENBQUF3RyxhQUFBO01BQUtjLFNBQVMsRUFBQztJQUErRixnQkFDMUd0SCxLQUFBLENBQUF3RyxhQUFBO01BQUdjLFNBQVMsY0FBQUssTUFBQSxDQUFjMkcsWUFBWSxHQUFHLENBQUMsR0FBRyxlQUFlLEdBQUcsV0FBVyxPQUFBM0csTUFBQSxDQUFJMkcsWUFBWSxHQUFHLENBQUMsR0FBRyxrQkFBa0IsR0FBRyxZQUFZO0lBQVksQ0FBSSxDQUNqSixDQUFDLGVBQ050TyxLQUFBLENBQUF3RyxhQUFBO01BQUljLFNBQVMsRUFBQztJQUErQixHQUFDLDBCQUFzQixDQUFDLGVBQ3JFdEgsS0FBQSxDQUFBd0csYUFBQTtNQUFHYyxTQUFTLEVBQUM7SUFBNkIsR0FDckNnSCxZQUFZLEtBQUssQ0FBQyxDQUFDLElBQUksd0JBQXdCLEVBQy9DQSxZQUFZLEtBQUssQ0FBQyxJQUFJLDRCQUE0QixFQUNsREEsWUFBWSxLQUFLLENBQUMsSUFBSSwyQkFBMkIsRUFDakRBLFlBQVksS0FBSyxDQUFDLElBQUkseUJBQXlCLEVBQy9DQSxZQUFZLEtBQUssQ0FBQyxJQUFJLGdDQUN4QixDQUFDLGVBQ0p0TyxLQUFBLENBQUF3RyxhQUFBO01BQUtjLFNBQVMsRUFBQztJQUEyRCxnQkFDdEV0SCxLQUFBLENBQUF3RyxhQUFBO01BQUtjLFNBQVMsRUFBQyxtREFBbUQ7TUFBQzRJLEtBQUssRUFBRTtRQUFFQyxLQUFLLEtBQUF4SSxNQUFBLENBQU0sQ0FBQzJHLFlBQVksR0FBRyxDQUFDLElBQUksQ0FBQyxHQUFJLEdBQUc7TUFBSTtJQUFFLENBQU0sQ0FDL0gsQ0FDSixDQUFDLEVBRUxsRixLQUFLLGlCQUNGcEosS0FBQSxDQUFBd0csYUFBQTtNQUFLYyxTQUFTLEVBQUM7SUFBZ0ssZ0JBQzNLdEgsS0FBQSxDQUFBd0csYUFBQTtNQUFHYyxTQUFTLEVBQUM7SUFBcUQsQ0FBSSxDQUFDLGVBQUF0SCxLQUFBLENBQUF3RyxhQUFBLGVBQU80QyxLQUFZLENBQ3pGLENBQ1IsRUFFQWtGLFlBQVksS0FBSyxDQUFDLENBQUMsZ0JBQ2hCdE8sS0FBQSxDQUFBd0csYUFBQTtNQUFLYyxTQUFTLEVBQUM7SUFBVyxnQkFDckJ0SCxLQUFBLENBQUF3RyxhQUFBO01BQUdjLFNBQVMsRUFBQztJQUFvQyxHQUFDLG1DQUFvQyxDQUFDLGVBQ3ZGdEgsS0FBQSxDQUFBd0csYUFBQTtNQUFRZSxPQUFPLEVBQUVBLENBQUEsS0FBTTtRQUFFbEIsa0JBQWtCLENBQUMsQ0FBQztRQUFFa0ksZUFBZSxDQUFDLENBQUMsQ0FBQztNQUFFLENBQUU7TUFBQ2pILFNBQVMsRUFBQztJQUFvSyxnQkFDalB0SCxLQUFBLENBQUF3RyxhQUFBO01BQUdjLFNBQVMsRUFBQztJQUFzQixDQUFJLENBQUMsMEJBQ25DLENBQUMsZUFDVHRILEtBQUEsQ0FBQXdHLGFBQUE7TUFBUWUsT0FBTyxFQUFFQSxDQUFBLEtBQU1nSCxlQUFlLENBQUMsQ0FBQyxDQUFFO01BQUNqSCxTQUFTLEVBQUM7SUFBcUcsR0FBQyw0QkFFbkosQ0FDUixDQUFDLGdCQUVOdEgsS0FBQSxDQUFBd0csYUFBQSxDQUFBeEcsS0FBQSxDQUFBb1EsUUFBQSxRQUNLOUIsWUFBWSxHQUFHLENBQUMsZ0JBQ2J0TyxLQUFBLENBQUF3RyxhQUFBO01BQU1vRixRQUFRLEVBQUU0RCxvQkFBcUI7TUFBQ2xJLFNBQVMsRUFBQztJQUFXLGdCQUN2RHRILEtBQUEsQ0FBQXdHLGFBQUEsMkJBQ0l4RyxLQUFBLENBQUF3RyxhQUFBO01BQU9jLFNBQVMsRUFBQztJQUErQyxHQUMzRGdILFlBQVksS0FBSyxDQUFDLElBQUkseUJBQXlCLEVBQy9DQSxZQUFZLEtBQUssQ0FBQyxJQUFJLDBCQUEwQixFQUNoREEsWUFBWSxLQUFLLENBQUMsSUFBSSxlQUNwQixDQUFDLGVBQ1J0TyxLQUFBLENBQUF3RyxhQUFBO01BQU9LLElBQUksRUFBRXlILFlBQVksS0FBSyxDQUFDLEdBQUcsVUFBVSxHQUFHLE1BQU87TUFBQ3BFLEtBQUssRUFBRXNFLGNBQWU7TUFBQ3JFLFFBQVEsRUFBR0MsQ0FBQyxJQUFLcUUsaUJBQWlCLENBQUNyRSxDQUFDLENBQUNDLE1BQU0sQ0FBQ0gsS0FBSyxDQUFFO01BQUM1QyxTQUFTLEVBQUMsb0pBQW9KO01BQUMyQyxXQUFXLEVBQUMsb0NBQXFCO01BQUNvRyxTQUFTO01BQUNDLFFBQVE7SUFBQSxDQUFFLENBQ3RWLENBQUMsZUFDTnRRLEtBQUEsQ0FBQXdHLGFBQUE7TUFBS2MsU0FBUyxFQUFDO0lBQVksR0FDdEJnSCxZQUFZLEdBQUcsQ0FBQyxpQkFBSXRPLEtBQUEsQ0FBQXdHLGFBQUE7TUFBUUssSUFBSSxFQUFDLFFBQVE7TUFBQ1UsT0FBTyxFQUFFQSxDQUFBLEtBQU1nSCxlQUFlLENBQUNELFlBQVksR0FBRyxDQUFDLENBQUU7TUFBQ2hILFNBQVMsRUFBQztJQUFxRSxnQkFBQ3RILEtBQUEsQ0FBQXdHLGFBQUE7TUFBR2MsU0FBUyxFQUFDO0lBQXdCLENBQUksQ0FBUyxDQUFDLGVBQ2hPdEgsS0FBQSxDQUFBd0csYUFBQTtNQUFRSyxJQUFJLEVBQUMsUUFBUTtNQUFDUyxTQUFTLEVBQUM7SUFBbUksR0FBQyxvQkFDbkosZUFBQXRILEtBQUEsQ0FBQXdHLGFBQUE7TUFBR2MsU0FBUyxFQUFDO0lBQThCLENBQUksQ0FDeEQsQ0FDUCxDQUNILENBQUMsZ0JBRVB0SCxLQUFBLENBQUF3RyxhQUFBO01BQUtjLFNBQVMsRUFBQztJQUFXLGdCQUN2QnRILEtBQUEsQ0FBQXdHLGFBQUE7TUFBS2MsU0FBUyxFQUFDO0lBQXlDLEdBQUMsbURBQTBCLGVBQUF0SCxLQUFBLENBQUF3RyxhQUFBLFdBQUksQ0FBQyx3REFBaUQsQ0FBQyxlQUMzSXhHLEtBQUEsQ0FBQXdHLGFBQUE7TUFBUWUsT0FBTyxFQUFFbUksaUJBQWtCO01BQUNwSSxTQUFTLEVBQUM7SUFBZ0osZ0JBQzVMdEgsS0FBQSxDQUFBd0csYUFBQTtNQUFLaUUsR0FBRyxFQUFDLHNEQUFzRDtNQUFDOEYsR0FBRyxFQUFDLFFBQVE7TUFBQ2pKLFNBQVMsRUFBQztJQUFTLENBQUUsQ0FBQyw4QkFDN0YsQ0FBQyxlQUNUdEgsS0FBQSxDQUFBd0csYUFBQTtNQUFRZSxPQUFPLEVBQUVBLENBQUEsS0FBTWdILGVBQWUsQ0FBQyxDQUFDLENBQUU7TUFBQ2pILFNBQVMsRUFBQztJQUFvRCxHQUFDLGFBQWdCLENBQ3ZILENBRVgsQ0FFTCxDQUNKLENBQUM7RUFFZDtFQUVBLG9CQUNJdEgsS0FBQSxDQUFBd0csYUFBQTtJQUFLYyxTQUFTLEVBQUM7RUFBK0IsZ0JBQzFDdEgsS0FBQSxDQUFBd0csYUFBQSxDQUFDWCxPQUFPO0lBQUNFLFdBQVcsRUFBRUEsV0FBWTtJQUFDQyxZQUFZLEVBQUU4SCxjQUFlO0lBQUM3SCxRQUFRLEVBQUVnSztFQUFhLENBQUUsQ0FBQyxlQUMzRmpRLEtBQUEsQ0FBQXdHLGFBQUE7SUFBTWMsU0FBUyxFQUFDO0VBQWtCLGdCQUM5QnRILEtBQUEsQ0FBQXdHLGFBQUE7SUFBUWMsU0FBUyxFQUFDO0VBQXdDLGdCQUN0RHRILEtBQUEsQ0FBQXdHLGFBQUEsMkJBQ0l4RyxLQUFBLENBQUF3RyxhQUFBO0lBQUljLFNBQVMsRUFBQztFQUE4QyxHQUN2RHZCLFdBQVcsS0FBS1AsU0FBUyxDQUFDQyxTQUFTLElBQUksYUFBYSxFQUNwRE0sV0FBVyxLQUFLUCxTQUFTLENBQUNFLEtBQUssSUFBSSxjQUFjLEVBQ2pESyxXQUFXLEtBQUtQLFNBQVMsQ0FBQ0csYUFBYSxJQUFJLGdCQUFnQixFQUMzREksV0FBVyxLQUFLUCxTQUFTLENBQUNJLElBQUksSUFBSSxpQkFDbkMsQ0FBQyxlQUNMNUYsS0FBQSxDQUFBd0csYUFBQTtJQUFHYyxTQUFTLEVBQUM7RUFBd0IsR0FBQyxxQkFBZ0IsRUFBQyxJQUFJbkUsSUFBSSxDQUFDLENBQUMsQ0FBQ2lLLGtCQUFrQixDQUFDLENBQUssQ0FDekYsQ0FBQyxlQUNOcE4sS0FBQSxDQUFBd0csYUFBQTtJQUFLYyxTQUFTLEVBQUM7RUFBeUIsZ0JBQ3BDdEgsS0FBQSxDQUFBd0csYUFBQTtJQUFLYyxTQUFTLEVBQUM7RUFBNEIsZ0JBQ3ZDdEgsS0FBQSxDQUFBd0csYUFBQTtJQUFHYyxTQUFTLEVBQUM7RUFBa0MsR0FBRW9HLFdBQVcsQ0FBQzdFLEtBQVMsQ0FBQyxlQUN2RTdJLEtBQUEsQ0FBQXdHLGFBQUE7SUFBR2MsU0FBUyxFQUFDO0VBQXNDLEdBQUMsZ0JBQWMsQ0FDakUsQ0FBQyxlQUNOdEgsS0FBQSxDQUFBd0csYUFBQTtJQUFLYyxTQUFTLEVBQUM7RUFBcUgsR0FDL0hvRyxXQUFXLENBQUNsRCxRQUFRLGdCQUFHeEssS0FBQSxDQUFBd0csYUFBQTtJQUFLaUUsR0FBRyxFQUFFaUQsV0FBVyxDQUFDbEQsUUFBUztJQUFDbEQsU0FBUyxFQUFDO0VBQXlDLENBQUUsQ0FBQyxJQUFBbUcsa0JBQUEsR0FBR0MsV0FBVyxDQUFDN0UsS0FBSyxjQUFBNEUsa0JBQUEsdUJBQWpCQSxrQkFBQSxDQUFtQi9DLE1BQU0sQ0FBQyxDQUFDLENBQUMsQ0FBQ0MsV0FBVyxDQUFDLENBQ3pKLENBQ0osQ0FDRCxDQUFDLGVBQ1QzSyxLQUFBLENBQUF3RyxhQUFBO0lBQUtjLFNBQVMsRUFBQztFQUFpQixHQUMzQnZCLFdBQVcsS0FBS1AsU0FBUyxDQUFDQyxTQUFTLGlCQUFJekYsS0FBQSxDQUFBd0csYUFBQSxDQUFDb0IsU0FBUztJQUFDRSxTQUFTLEVBQUVLLEtBQUssQ0FBQ21DLE1BQU87SUFBQ3ZDLFdBQVcsRUFBRXVFLFFBQVEsQ0FBQ2hDLE1BQU87SUFBQ3RDLFlBQVksRUFBRXNFLFFBQVEsQ0FBQ2hDO0VBQU8sQ0FBRSxDQUFDLEVBQzFJdkUsV0FBVyxLQUFLUCxTQUFTLENBQUNFLEtBQUssaUJBQUkxRixLQUFBLENBQUF3RyxhQUFBLENBQUN5QixjQUFjO0lBQUNFLEtBQUssRUFBRUE7RUFBTSxDQUFFLENBQUMsRUFDbkVwQyxXQUFXLEtBQUtQLFNBQVMsQ0FBQ0csYUFBYSxpQkFBSTNGLEtBQUEsQ0FBQXdHLGFBQUEsQ0FBQ3FFLGFBQWE7SUFBQ0UsYUFBYSxFQUFFQTtFQUFjLENBQUUsQ0FBQyxFQUMxRmhGLFdBQVcsS0FBS1AsU0FBUyxDQUFDSSxJQUFJLGlCQUFJNUYsS0FBQSxDQUFBd0csYUFBQSxDQUFDNEYsVUFBVTtJQUFDRSxRQUFRLEVBQUVBO0VBQVMsQ0FBRSxDQUNuRSxDQUNILENBQ0wsQ0FBQztBQUVkLENBQUM7QUFFRCxJQUFNa0UsSUFBSSxHQUFHcFEsUUFBUSxDQUFDcVEsVUFBVSxDQUFDbEssUUFBUSxDQUFDbUssY0FBYyxDQUFDLE1BQU0sQ0FBQyxDQUFDO0FBQ2pFRixJQUFJLENBQUNHLE1BQU0sY0FBQzNRLEtBQUEsQ0FBQXdHLGFBQUEsQ0FBQ2dILEdBQUcsTUFBRSxDQUFDLENBQUMiLCJpZ25vcmVMaXN0IjpbXX0=</script><script src="https://apis.google.com/js/api.js?onload=__iframefcb512980" type="text/javascript" charset="UTF-8" gapi_processed="true"></script></head>
<body class="bg-gray-50 text-slate-800 antialiased">
    <div id="root"><div class="min-h-screen flex items-center justify-center bg-slate-900 p-4"><div class="bg-slate-800 p-8 rounded-2xl shadow-2xl w-full max-w-lg border border-red-800/50 relative overflow-hidden text-center"><div class="inline-flex items-center justify-center w-20 h-20 rounded-full bg-red-900/30 mb-6 animate-pulse"><i class="fa-solid fa-triangle-exclamation text-red-500 text-4xl"></i></div><h1 class="text-2xl font-bold text-white mb-4">Desteklenmeyen Çalışma Ortamı</h1><p class="text-slate-300 mb-6 text-sm leading-relaxed">Bu uygulama güvenlik nedenleriyle (Google CORS Politikası) doğrudan dosya sistemi (file:// veya content://) üzerinden çalıştırıldığında Google Girişi hatalı çalışabilir.</p><div class="bg-slate-900/50 p-4 rounded-lg text-left text-sm text-slate-400 space-y-3 border border-slate-700"><div><strong class="text-primary-400 block mb-1"><i class="fa-solid fa-code mr-2"></i>VS Code Kullanıyorsanız:</strong>Lütfen dosyaya sağ tıklayıp "Open with Live Server" seçeneğini kullanın (Eklenti gerektirir).</div><div><strong class="text-primary-400 block mb-1"><i class="fa-solid fa-desktop mr-2"></i>Diğer Editörler:</strong>Herhangi bir yerel sunucu (localhost) üzerinden çalıştırın.</div></div><div class="mt-8 flex flex-col gap-3"><button class="w-full bg-red-600/80 text-white py-3 rounded-lg hover:bg-red-600 transition-colors font-bold">Riskleri Kabul Et ve Devam Et</button><button class="w-full bg-slate-700 text-white py-3 rounded-lg hover:bg-slate-600 transition-colors font-medium"><i class="fa-solid fa-download mr-2"></i>Yine de Kaynak Kodu İndir</button></div></div></div></div>

    <script type="text/babel" data-type="module">
        import React, { useState, useEffect, useRef } from 'react';
        import ReactDOM from 'react-dom/client';
        import { initializeApp } from "firebase/app";
        import { getAuth, GoogleAuthProvider, signInWithPopup, onAuthStateChanged, signOut } from "firebase/auth";
        import { getFirestore, collection, doc, addDoc, updateDoc, deleteDoc, onSnapshot, query, orderBy } from "firebase/firestore";

        // --- FIREBASE CONFIGURATION ---
        const firebaseConfig = {
            apiKey: "AIzaSyAsxn43MPQiDJlHjNJ3zlGtEKo57G28KuQ",
            authDomain: "ne-haber-web.firebaseapp.com",
            projectId: "ne-haber-web",
            storageBucket: "ne-haber-web.firebasestorage.app",
            messagingSenderId: "690913738782",
            appId: "1:690913738782:web:91a39c8d8e0fa96307ee0f",
            measurementId: "G-18Q4ELPE3P"
        };

        const app = initializeApp(firebaseConfig);
        const auth = getAuth(app);
        const db = getFirestore(app);

        // --- FIREBASE SERVICES ---
        const signInWithGoogle = async () => {
            const provider = new GoogleAuthProvider();
            return signInWithPopup(auth, provider);
        };

        const toggleUserVerification = async (userId, currentStatus) => {
            const userRef = doc(db, 'users', userId);
            await updateDoc(userRef, { isVerified: !currentStatus });
        };

        const banUser = async (userId, durationInHours) => {
            const userRef = doc(db, 'users', userId);
            const banData = {
                isBanned: true,
                banUntil: durationInHours ? Date.now() + (durationInHours * 60 * 60 * 1000) : null
            };
            await updateDoc(userRef, banData);
        };

        const unbanUser = async (userId) => {
            const userRef = doc(db, 'users', userId);
            await updateDoc(userRef, { isBanned: false, banUntil: null });
        };

        const createAnnouncement = async (title, content, author) => {
            const announcementsRef = collection(db, 'announcements');
            await addDoc(announcementsRef, {
                title, content, author, createdAt: Date.now(), active: true
            });
        };

        const deleteAnnouncement = async (id) => {
            const annRef = doc(db, 'announcements', id);
            await deleteDoc(annRef);
        };

        const sendAdminMessage = async (text, adminName) => {
            const chatRef = collection(db, 'globalChat');
            await addDoc(chatRef, {
                text, userId: 'ADMIN', displayName: adminName, timestamp: Date.now(), isAdmin: true
            });
        };

        const deleteChatMessage = async (id) => {
            const msgRef = doc(db, 'globalChat', id);
            await deleteDoc(msgRef);
        };

        // --- ENUMS ---
        const AdminView = {
            DASHBOARD: 'DASHBOARD',
            USERS: 'USERS',
            ANNOUNCEMENTS: 'ANNOUNCEMENTS',
            CHAT: 'CHAT'
        };

        // --- COMPONENTS ---

        // 1. Sidebar
        const Sidebar = ({ currentView, onChangeView, onLogout }) => {
            const menuItems = [
                { id: AdminView.DASHBOARD, label: 'Panel Özeti', icon: 'fa-chart-line' },
                { id: AdminView.USERS, label: 'Kullanıcı Yönetimi', icon: 'fa-users' },
                { id: AdminView.ANNOUNCEMENTS, label: 'Duyurular', icon: 'fa-bullhorn' },
                { id: AdminView.CHAT, label: 'Global Sohbet', icon: 'fa-comments' },
            ];

            const handleDownloadCode = () => {
                const element = document.createElement("a");
                const file = new Blob([document.documentElement.outerHTML], {type: 'text/html'});
                element.href = URL.createObjectURL(file);
                element.download = "ne-haber-admin.html";
                document.body.appendChild(element);
                element.click();
                document.body.removeChild(element);
            };

            return (
                <div className="w-64 bg-slate-900 text-white flex flex-col h-screen fixed left-0 top-0 shadow-xl z-10">
                    <div className="p-6 border-b border-slate-800 flex items-center gap-3">
                        <div className="w-8 h-8 bg-primary-500 rounded-lg flex items-center justify-center">
                            <i className="fa-solid fa-shield-halved text-white text-sm"></i>
                        </div>
                        <h1 className="text-xl font-bold tracking-tight">Ne Haber<span className="text-primary-500">.Admin</span></h1>
                    </div>
                    
                    <div className="px-4 pt-6">
                        <button onClick={handleDownloadCode} className="w-full flex items-center justify-center gap-2 px-4 py-3 bg-green-600 text-white hover:bg-green-700 rounded-xl transition-all shadow-lg shadow-green-900/20 font-bold group">
                            <i className="fa-solid fa-download group-hover:scale-110 transition-transform"></i>
                            <span>Kodu İndir / Yedekle</span>
                        </button>
                    </div>

                    <nav className="flex-1 p-4 space-y-2">
                        {menuItems.map((item) => (
                            <button
                                key={item.id}
                                onClick={() => onChangeView(item.id)}
                                className={`w-full flex items-center gap-3 px-4 py-3 rounded-xl transition-all duration-200 group ${
                                    currentView === item.id 
                                        ? 'bg-primary-600 text-white shadow-lg shadow-primary-900/50' 
                                        : 'text-slate-400 hover:bg-slate-800 hover:text-white'
                                }`}
                            >
                                <i className={`fa-solid ${item.icon} w-5 text-center transition-transform group-hover:scale-110`}></i>
                                <span className="font-medium">{item.label}</span>
                            </button>
                        ))}
                    </nav>
                    <div className="p-4 border-t border-slate-800 space-y-2">
                        <button onClick={onLogout} className="w-full flex items-center gap-2 px-4 py-2 text-slate-400 hover:text-red-400 hover:bg-slate-800/50 rounded-lg transition-colors">
                            <i className="fa-solid fa-right-from-bracket"></i>
                            <span>Çıkış Yap</span>
                        </button>
                    </div>
                </div>
            );
        };

        // 2. Dashboard
        const Dashboard = ({ userCount, onlineCount, messageCount }) => {
            return (
                <div className="space-y-6">
                    <h2 className="text-2xl font-bold text-slate-800">Panel Özeti</h2>
                    <div className="grid grid-cols-1 md:grid-cols-3 gap-6">
                        <div className="bg-white p-6 rounded-2xl shadow-sm border border-slate-100 flex items-center gap-4">
                            <div className="w-12 h-12 rounded-full bg-blue-100 flex items-center justify-center text-blue-600">
                                <i className="fa-solid fa-users text-xl"></i>
                            </div>
                            <div>
                                <p className="text-sm text-slate-500 font-medium">Toplam Kullanıcı</p>
                                <p className="text-2xl font-bold text-slate-900">{userCount}</p>
                            </div>
                        </div>
                        <div className="bg-white p-6 rounded-2xl shadow-sm border border-slate-100 flex items-center gap-4">
                            <div className="w-12 h-12 rounded-full bg-green-100 flex items-center justify-center text-green-600">
                                <i className="fa-solid fa-circle text-xl animate-pulse"></i>
                            </div>
                            <div>
                                <p className="text-sm text-slate-500 font-medium">Aktif Mesajlar</p>
                                <p className="text-2xl font-bold text-slate-900">{messageCount}</p>
                            </div>
                        </div>
                        <div className="bg-white p-6 rounded-2xl shadow-sm border border-slate-100 flex items-center gap-4">
                            <div className="w-12 h-12 rounded-full bg-purple-100 flex items-center justify-center text-purple-600">
                                <i className="fa-solid fa-server text-xl"></i>
                            </div>
                            <div>
                                <p className="text-sm text-slate-500 font-medium">Sistem Durumu</p>
                                <p className="text-2xl font-bold text-slate-900">Aktif</p>
                            </div>
                        </div>
                    </div>
                    <div className="bg-gradient-to-r from-slate-800 to-slate-900 rounded-2xl p-8 text-white relative overflow-hidden">
                        <div className="relative z-10">
                            <h3 className="text-xl font-bold mb-2">Hoşgeldiniz, Admin</h3>
                            <p className="text-slate-300 max-w-lg">Bu panel üzerinden kullanıcıları yönetebilir, yasaklama işlemlerini gerçekleştirebilir ve global duyurular yayınlayabilirsiniz.</p>
                        </div>
                        <div className="absolute right-0 bottom-0 opacity-10 transform translate-x-10 translate-y-10">
                            <i className="fa-solid fa-fingerprint text-9xl"></i>
                        </div>
                    </div>
                </div>
            );
        };

        // 3. UserManagement
        const UserManagement = ({ users }) => {
            const [searchTerm, setSearchTerm] = useState('');
            const [selectedUserForBan, setSelectedUserForBan] = useState(null);

            const filteredUsers = users.filter(u => 
                (u.displayName || '').toLowerCase().includes(searchTerm.toLowerCase()) ||
                (u.email || '').toLowerCase().includes(searchTerm.toLowerCase())
            );

            const handleBanClick = async (user) => {
                if (user.isBanned) {
                    if (window.confirm(`${user.displayName} kullanıcısının yasağını kaldırmak istiyor musunuz?`)) {
                        try {
                            await unbanUser(user.uid);
                        } catch (error) {
                            console.error(error);
                            alert("İşlem başarısız: " + error.code);
                        }
                    }
                } else {
                    setSelectedUserForBan(user);
                }
            };

            const confirmBan = async (duration) => {
                if (selectedUserForBan) {
                    try {
                        await banUser(selectedUserForBan.uid, duration);
                        setSelectedUserForBan(null);
                    } catch (error) {
                        console.error(error);
                        alert("İşlem başarısız: " + error.code);
                    }
                }
            };

            const handleToggleVerification = async (uid, currentStatus) => {
                try {
                    await toggleUserVerification(uid, currentStatus);
                } catch (error) {
                    console.error(error);
                    alert("İşlem başarısız: " + error.code);
                }
            };

            return (
                <div className="space-y-6">
                    <div className="flex justify-between items-center">
                        <h2 className="text-2xl font-bold text-slate-800">Kullanıcı Yönetimi</h2>
                        <div className="relative">
                            <input 
                                type="text" placeholder="Kullanıcı ara..." 
                                className="pl-10 pr-4 py-2 border border-slate-300 rounded-lg focus:ring-2 focus:ring-primary-500 outline-none w-64"
                                value={searchTerm} onChange={(e) => setSearchTerm(e.target.value)}
                            />
                            <i className="fa-solid fa-search absolute left-3 top-3 text-slate-400"></i>
                        </div>
                    </div>
                    <div className="bg-white rounded-xl shadow-sm border border-slate-200 overflow-hidden">
                        <table className="min-w-full divide-y divide-slate-200">
                            <thead className="bg-slate-50">
                                <tr>
                                    <th className="px-6 py-3 text-left text-xs font-bold text-slate-500 uppercase">Kullanıcı</th>
                                    <th className="px-6 py-3 text-left text-xs font-bold text-slate-500 uppercase">Durum</th>
                                    <th className="px-6 py-3 text-left text-xs font-bold text-slate-500 uppercase">Mavi Tik</th>
                                    <th className="px-6 py-3 text-right text-xs font-bold text-slate-500 uppercase">İşlemler</th>
                                </tr>
                            </thead>
                            <tbody className="bg-white divide-y divide-slate-200">
                                {filteredUsers.length === 0 ? (
                                    <tr><td colSpan={4} className="px-6 py-8 text-center text-slate-500">Kullanıcı bulunamadı.</td></tr>
                                ) : (
                                    filteredUsers.map(user => (
                                        <tr key={user.uid} className="hover:bg-slate-50 transition-colors">
                                            <td className="px-6 py-4 whitespace-nowrap">
                                                <div className="flex items-center">
                                                    <div className="h-10 w-10 flex-shrink-0 bg-slate-200 rounded-full flex items-center justify-center text-slate-500 font-bold overflow-hidden">
                                                        {user.photoURL ? <img src={user.photoURL} className="w-full h-full object-cover"/> : (user.displayName ? user.displayName.charAt(0).toUpperCase() : '?')}
                                                    </div>
                                                    <div className="ml-4">
                                                        <div className="text-sm font-medium text-slate-900 flex items-center gap-1">
                                                            {user.displayName || 'İsimsiz Kullanıcı'}
                                                            {user.isVerified && <i className="fa-solid fa-circle-check text-blue-500 text-xs"></i>}
                                                        </div>
                                                        <div className="text-sm text-slate-500">{user.email}</div>
                                                    </div>
                                                </div>
                                            </td>
                                            <td className="px-6 py-4 whitespace-nowrap">
                                                {user.isBanned ? (
                                                    <span className="px-2 inline-flex text-xs leading-5 font-semibold rounded-full bg-red-100 text-red-800">
                                                        Yasaklı {user.banUntil ? `(Bitiş: ${new Date(user.banUntil).toLocaleDateString()})` : '(Sınırsız)'}
                                                    </span>
                                                ) : (
                                                    <span className="px-2 inline-flex text-xs leading-5 font-semibold rounded-full bg-green-100 text-green-800">Aktif</span>
                                                )}
                                            </td>
                                            <td className="px-6 py-4 whitespace-nowrap">
                                                <button onClick={() => handleToggleVerification(user.uid, user.isVerified || false)}
                                                    className={`text-2xl transition-colors ${user.isVerified ? 'text-blue-500' : 'text-slate-200 hover:text-blue-300'}`}>
                                                    <i className="fa-solid fa-circle-check"></i>
                                                </button>
                                            </td>
                                            <td className="px-6 py-4 whitespace-nowrap text-right text-sm font-medium">
                                                <button onClick={() => handleBanClick(user)}
                                                    className={`px-3 py-1 rounded-md text-white text-xs font-bold uppercase transition-colors ${user.isBanned ? 'bg-slate-500' : 'bg-red-500 hover:bg-red-600'}`}>
                                                    {user.isBanned ? 'Yasağı Kaldır' : 'Yasakla'}
                                                </button>
                                            </td>
                                        </tr>
                                    ))
                                )}
                            </tbody>
                        </table>
                    </div>
                    {selectedUserForBan && (
                        <div className="fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50">
                            <div className="bg-white rounded-xl shadow-2xl p-6 w-96 max-w-full m-4">
                                <h3 className="text-lg font-bold text-slate-800 mb-4">Kullanıcıyı Yasakla: <span className="text-primary-600">{selectedUserForBan.displayName}</span></h3>
                                <div className="space-y-3">
                                    <button onClick={() => confirmBan(24)} className="w-full p-3 text-left border rounded-lg hover:bg-slate-50 flex justify-between items-center group">
                                        <span>24 Saat</span><i className="fa-regular fa-clock text-slate-400 group-hover:text-primary-500"></i>
                                    </button>
                                    <button onClick={() => confirmBan(168)} className="w-full p-3 text-left border rounded-lg hover:bg-slate-50 flex justify-between items-center group">
                                        <span>1 Hafta</span><i className="fa-solid fa-calendar-week text-slate-400 group-hover:text-primary-500"></i>
                                    </button>
                                    <button onClick={() => confirmBan(null)} className="w-full p-3 text-left border border-red-200 bg-red-50 rounded-lg hover:bg-red-100 flex justify-between items-center group text-red-700 font-medium">
                                        <span>Sınırsız</span><i className="fa-solid fa-ban text-red-400 group-hover:text-red-600"></i>
                                    </button>
                                </div>
                                <div className="mt-6 flex justify-end">
                                    <button onClick={() => setSelectedUserForBan(null)} className="px-4 py-2 text-slate-500 hover:bg-slate-100 rounded-lg transition-colors">İptal</button>
                                </div>
                            </div>
                        </div>
                    )}
                </div>
            );
        };

        // 4. Announcements
        const Announcements = ({ announcements }) => {
            const [title, setTitle] = useState('');
            const [content, setContent] = useState('');
            const [isSubmitting, setIsSubmitting] = useState(false);

            const handleSubmit = async (e) => {
                e.preventDefault();
                if (!title.trim() || !content.trim()) return;
                setIsSubmitting(true);
                try {
                    await createAnnouncement(title, content, "Admin");
                    setTitle(''); setContent('');
                } catch (error) {
                    console.error(error);
                    alert("Duyuru yayınlanamadı: " + error.code);
                } finally { 
                    setIsSubmitting(false); 
                }
            };

            const handleDelete = async (id) => {
                if (window.confirm("Bu duyuruyu silmek istediğinize emin misiniz?")) {
                    try {
                        await deleteAnnouncement(id);
                    } catch (error) {
                        console.error(error);
                        alert("Silme başarısız: " + error.code);
                    }
                }
            };

            return (
                <div className="grid grid-cols-1 lg:grid-cols-3 gap-8">
                    <div className="lg:col-span-1">
                        <div className="bg-white p-6 rounded-xl shadow-sm border border-slate-200 sticky top-4">
                            <h2 className="text-xl font-bold text-slate-800 mb-4 flex items-center gap-2">
                                <i className="fa-solid fa-pen-nib text-primary-500"></i> Yeni Duyuru
                            </h2>
                            <form onSubmit={handleSubmit} className="space-y-4">
                                <div>
                                    <label className="block text-sm font-medium text-slate-700 mb-1">Başlık</label>
                                    <input type="text" value={title} onChange={(e) => setTitle(e.target.value)} className="w-full px-4 py-2 border border-slate-300 rounded-lg focus:ring-2 focus:ring-primary-500 outline-none" placeholder="Örn: Sunucu Bakımı"/>
                                </div>
                                <div>
                                    <label className="block text-sm font-medium text-slate-700 mb-1">İçerik</label>
                                    <textarea value={content} onChange={(e) => setContent(e.target.value)} rows={5} className="w-full px-4 py-2 border border-slate-300 rounded-lg focus:ring-2 focus:ring-primary-500 outline-none resize-none" placeholder="Duyuru metni..."></textarea>
                                </div>
                                <button type="submit" disabled={isSubmitting} className="w-full bg-primary-600 text-white py-2 px-4 rounded-lg hover:bg-primary-700 transition-colors disabled:opacity-50 font-medium">
                                    {isSubmitting ? 'Yayınlanıyor...' : 'Yayınla'}
                                </button>
                            </form>
                        </div>
                    </div>
                    <div className="lg:col-span-2 space-y-4">
                        <h2 className="text-xl font-bold text-slate-800 mb-4">Aktif Duyurular</h2>
                        {announcements.length === 0 ? (
                            <div className="text-center py-12 bg-slate-50 rounded-xl border border-dashed border-slate-300 text-slate-500"><i className="fa-regular fa-newspaper text-3xl mb-2"></i><p>Henüz duyuru oluşturulmamış.</p></div>
                        ) : (
                            announcements.sort((a,b) => b.createdAt - a.createdAt).map(ann => (
                                <div key={ann.id} className="bg-white p-6 rounded-xl shadow-sm border border-slate-200 group hover:border-primary-200 transition-all">
                                    <div className="flex justify-between items-start mb-2">
                                        <h3 className="font-bold text-lg text-slate-900">{ann.title}</h3>
                                        <button onClick={() => handleDelete(ann.id)} className="text-slate-400 hover:text-red-500 opacity-0 group-hover:opacity-100 transition-all p-1"><i className="fa-solid fa-trash-can"></i></button>
                                    </div>
                                    <p className="text-slate-600 text-sm leading-relaxed whitespace-pre-wrap">{ann.content}</p>
                                    <div className="mt-4 flex items-center gap-2 text-xs text-slate-400 font-medium border-t border-slate-100 pt-3">
                                        <i className="fa-regular fa-clock"></i><span>{new Date(ann.createdAt).toLocaleString()}</span>
                                    </div>
                                </div>
                            ))
                        )}
                    </div>
                </div>
            );
        };

        // 5. GlobalChat
        const GlobalChat = ({ messages }) => {
            const [adminMsg, setAdminMsg] = useState('');
            const messagesEndRef = useRef(null);

            useEffect(() => { 
                if (messagesEndRef.current) {
                    messagesEndRef.current.scrollIntoView({ behavior: "smooth" }); 
                }
            }, [messages]);

            const handleSend = async (e) => {
                e.preventDefault();
                if (!adminMsg.trim()) return;
                try {
                    await sendAdminMessage(adminMsg, "Sistem Admini");
                    setAdminMsg('');
                } catch (error) {
                    console.error(error);
                    alert("Mesaj gönderilemedi: " + error.code);
                }
            };

            const handleDelete = async (id) => {
                if (window.confirm("Bu mesajı silmek istediğinize emin misiniz?")) {
                    try {
                        await deleteChatMessage(id);
                    } catch (error) {
                        console.error(error);
                        alert("Silme başarısız: " + error.code);
                    }
                }
            };

            const sortedMessages = [...messages].sort((a, b) => a.timestamp - b.timestamp);

            return (
                <div className="flex flex-col h-[calc(100vh-8rem)] bg-white rounded-xl shadow-sm border border-slate-200 overflow-hidden">
                    <div className="p-4 border-b border-slate-200 bg-slate-50 flex justify-between items-center">
                        <h2 className="font-bold text-slate-800 flex items-center gap-2"><i className="fa-solid fa-comments text-primary-500"></i> Canlı Global Sohbet</h2>
                        <span className="text-xs font-bold bg-green-100 text-green-700 px-2 py-1 rounded-full flex items-center gap-1"><span className="w-2 h-2 bg-green-500 rounded-full animate-pulse"></span>Canlı Akış</span>
                    </div>
                    <div className="flex-1 overflow-y-auto p-4 space-y-4 bg-slate-50/50">
                        {sortedMessages.length === 0 ? (
                            <div className="flex h-full items-center justify-center text-slate-400"><p>Henüz mesaj yok.</p></div>
                        ) : (
                            sortedMessages.map(msg => (
                                <div key={msg.id} className={`flex gap-3 group ${msg.isAdmin ? 'justify-end' : ''}`}>
                                    {!msg.isAdmin && <div className="w-8 h-8 bg-slate-200 rounded-full flex items-center justify-center text-xs font-bold text-slate-600 flex-shrink-0">{msg.displayName ? msg.displayName.charAt(0).toUpperCase() : '?'}</div>}
                                    <div className={`max-w-[70%] relative group`}>
                                        <div className={`p-3 rounded-2xl text-sm shadow-sm ${msg.isAdmin ? 'bg-primary-600 text-white rounded-br-none' : 'bg-white text-slate-800 border border-slate-200 rounded-bl-none'}`}>
                                            {!msg.isAdmin && <div className="font-bold text-xs mb-1 text-primary-600">{msg.displayName}</div>}
                                            {msg.text}
                                        </div>
                                        <div className={`text-[10px] text-slate-400 mt-1 flex items-center gap-2 ${msg.isAdmin ? 'justify-end' : 'justify-start'}`}>
                                            {new Date(msg.timestamp).toLocaleTimeString([], {hour: '2-digit', minute:'2-digit'})}
                                            <button onClick={() => handleDelete(msg.id)} className="opacity-0 group-hover:opacity-100 text-red-400 hover:text-red-600 transition-opacity bg-white/80 rounded px-1"><i className="fa-solid fa-trash-can"></i></button>
                                        </div>
                                    </div>
                                    {msg.isAdmin && <div className="w-8 h-8 bg-primary-100 rounded-full flex items-center justify-center text-xs font-bold text-primary-600 flex-shrink-0"><i className="fa-solid fa-shield-halved"></i></div>}
                                </div>
                            ))
                        )}
                        <div ref={messagesEndRef} />
                    </div>
                    <div className="p-4 bg-white border-t border-slate-200">
                        <form onSubmit={handleSend} className="flex gap-2">
                            <input type="text" value={adminMsg} onChange={(e) => setAdminMsg(e.target.value)} className="flex-1 px-4 py-2 border border-slate-300 rounded-lg focus:ring-2 focus:ring-primary-500 outline-none text-sm" placeholder="Admin olarak mesaj gönder..."/>
                            <button type="submit" disabled={!adminMsg.trim()} className="bg-primary-600 text-white px-4 py-2 rounded-lg hover:bg-primary-700 disabled:opacity-50 transition-colors"><i className="fa-solid fa-paper-plane"></i></button>
                        </form>
                    </div>
                </div>
            );
        };

        // 6. MAIN APP
        const App = () => {
            const [currentUser, setCurrentUser] = useState(null);
            const [loading, setLoading] = useState(true);
            const [currentView, setCurrentView] = useState(AdminView.DASHBOARD);
            const [isCompatibleEnv, setIsCompatibleEnv] = useState(true);
            const [ignoreEnvError, setIgnoreEnvError] = useState(false);
            
            // Data
            const [users, setUsers] = useState([]);
            const [announcements, setAnnouncements] = useState([]);
            const [messages, setMessages] = useState([]);

            // Security Steps
            // Start at -1 for "Download Code?" prompt
            const [securityStep, setSecurityStep] = useState(-1); 
            const [securityAnswer, setSecurityAnswer] = useState('');
            const [error, setError] = useState('');

            useEffect(() => {
                // Environment Check for file:// protocol which causes CORS errors
                const protocol = window.location.protocol;
                if (protocol !== 'http:' && protocol !== 'https:') {
                    setIsCompatibleEnv(false);
                    setLoading(false);
                    return;
                }

                const unsubscribe = onAuthStateChanged(auth, (user) => {
                    if (user && user.email !== 'muhammedaliaras47@gmail.com') {
                        signOut(auth);
                        setError('Yetkisiz e-posta adresi. Erişim reddedildi.');
                        setCurrentUser(null);
                    } else {
                        setCurrentUser(user);
                    }
                    setLoading(false);
                });
                return () => unsubscribe();
            }, []);

            useEffect(() => {
                if (!currentUser) return;

                // FIRESTORE LISTENERS
                const usersRef = collection(db, 'users');
                const unsubUsers = onSnapshot(usersRef, (snapshot) => {
                    const list = snapshot.docs.map(doc => ({ uid: doc.id, ...doc.data() }));
                    setUsers(list);
                });

                const annRef = collection(db, 'announcements');
                const unsubAnn = onSnapshot(annRef, (snapshot) => {
                    const list = snapshot.docs.map(doc => ({ id: doc.id, ...doc.data() }));
                    setAnnouncements(list);
                });

                const chatQuery = query(collection(db, 'globalChat'), orderBy('timestamp', 'asc'));
                const unsubChat = onSnapshot(chatQuery, (snapshot) => {
                    const list = snapshot.docs.map(doc => ({ id: doc.id, ...doc.data() }));
                    setMessages(list);
                });

                return () => { unsubUsers(); unsubAnn(); unsubChat(); };
            }, [currentUser]);

            const handleSecuritySubmit = (e) => {
                e.preventDefault();
                setError('');
                const answer = securityAnswer.trim();

                if (securityStep === 0) {
                    if (answer === 'Lahmacun') { setSecurityStep(1); setSecurityAnswer(''); }
                    else setError('Yanlış cevap! Güvenlik protokolü ihlali.');
                } else if (securityStep === 1) {
                    if (answer === 'Redmi Note 11 Pro 4G') { setSecurityStep(2); setSecurityAnswer(''); }
                    else setError('Yanlış cihaz modeli!');
                } else if (securityStep === 2) {
                    if (answer === 'SigaraİçmekÖldürür') { setSecurityStep(3); setSecurityAnswer(''); }
                    else setError('Hatalı Master Şifre! Sistem kilitleniyor...');
                }
            };
            
            const handleDownloadCode = () => {
                const element = document.createElement("a");
                const file = new Blob([document.documentElement.outerHTML], {type: 'text/html'});
                element.href = URL.createObjectURL(file);
                element.download = "ne-haber-admin.html";
                document.body.appendChild(element);
                element.click();
                document.body.removeChild(element);
            };

            const handleGoogleLogin = async () => {
                setError('');
                
                // 1. Check Protocol Explicitly in Login
                if (window.location.protocol === 'file:') {
                    setError('KRİTİK HATA: Google ile Giriş özelliği "file://" protokolünde (dosyaya çift tıklayarak açtığınızda) güvenlik nedeniyle ÇALIŞMAZ.\n\nÇözüm:\n1. VS Code "Live Server" eklentisini kurun.\n2. Dosyaya sağ tıklayıp "Open with Live Server" diyerek açın.');
                    return;
                }

                try {
                    const result = await signInWithGoogle();
                    if (result.user.email !== 'muhammedaliaras47@gmail.com') {
                        await signOut(auth);
                        setError('Bu panel sadece yetkili yönetici (muhammedaliaras47@gmail.com) içindir.');
                    }
                } catch (err) {
                    console.error("Login Err:", err);
                    let msg = `Google Giriş Hatası: ${err.message}`;
                    
                    if (err.code === 'auth/unauthorized-domain') {
                        const currentDomain = window.location.hostname || "Belirsiz (Local)";
                        msg = `YETKİLENDİRME SORUNU (Domain İzni Yok)\n\nŞu an çalıştığınız adres: ${currentDomain}\n\nBu hatayı çözmek için:\n1. Firebase Console'a gidin.\n2. Authentication > Settings > Authorized Domains sekmesini açın.\n3. "Add Domain" butonuna basıp şu adresi ekleyin: ${currentDomain}`;
                    } else if (err.code === 'auth/popup-closed-by-user') {
                        msg = 'Giriş penceresini kapattınız. Lütfen tekrar deneyin.';
                    } else if (err.code === 'auth/cancelled-popup-request') {
                        msg = 'Giriş işlemi iptal edildi veya yeni bir istek yapıldı.';
                    } else if (err.code === 'auth/popup-blocked') {
                        msg = 'Tarayıcınız açılır pencereyi (popup) engelledi. Adres çubuğundaki simgeye tıklayıp izin verin.';
                    } else if (err.code === 'auth/operation-not-supported-in-this-environment') {
                        msg = 'Bu ortamda Google Girişi desteklenmiyor. Lütfen HTTP/HTTPS sunucusu (localhost) kullanın.';
                    }
                    
                    setError(msg);
                }
            };

            const handleLogout = () => {
                signOut(auth);
                setSecurityStep(-1); // Reset to download prompt
                setSecurityAnswer('');
            };

            // Warning Screen for file:// protocol
            if (!isCompatibleEnv && !ignoreEnvError) {
                return (
                    <div className="min-h-screen flex items-center justify-center bg-slate-900 p-4">
                        <div className="bg-slate-800 p-8 rounded-2xl shadow-2xl w-full max-w-lg border border-red-800/50 relative overflow-hidden text-center">
                            <div className="inline-flex items-center justify-center w-20 h-20 rounded-full bg-red-900/30 mb-6 animate-pulse">
                                <i className="fa-solid fa-triangle-exclamation text-red-500 text-4xl"></i>
                            </div>
                            <h1 className="text-2xl font-bold text-white mb-4">Desteklenmeyen Çalışma Ortamı</h1>
                            <p className="text-slate-300 mb-6 text-sm leading-relaxed">
                                Bu uygulama güvenlik nedenleriyle (Google CORS Politikası) doğrudan dosya sistemi (file:// veya content://) üzerinden çalıştırıldığında Google Girişi hatalı çalışabilir.
                            </p>
                            <div className="bg-slate-900/50 p-4 rounded-lg text-left text-sm text-slate-400 space-y-3 border border-slate-700">
                                <div>
                                    <strong className="text-primary-400 block mb-1"><i className="fa-solid fa-code mr-2"></i>VS Code Kullanıyorsanız:</strong>
                                    Lütfen dosyaya sağ tıklayıp "Open with Live Server" seçeneğini kullanın (Eklenti gerektirir).
                                </div>
                                <div>
                                    <strong className="text-primary-400 block mb-1"><i className="fa-solid fa-desktop mr-2"></i>Diğer Editörler:</strong>
                                    Herhangi bir yerel sunucu (localhost) üzerinden çalıştırın.
                                </div>
                            </div>
                            <div className="mt-8 flex flex-col gap-3">
                                <button onClick={() => setIgnoreEnvError(true)} className="w-full bg-red-600/80 text-white py-3 rounded-lg hover:bg-red-600 transition-colors font-bold">
                                    Riskleri Kabul Et ve Devam Et
                                </button>
                                <button onClick={handleDownloadCode} className="w-full bg-slate-700 text-white py-3 rounded-lg hover:bg-slate-600 transition-colors font-medium">
                                    <i className="fa-solid fa-download mr-2"></i>Yine de Kaynak Kodu İndir
                                </button>
                            </div>
                        </div>
                    </div>
                );
            }

            if (loading) return <div className="min-h-screen flex items-center justify-center bg-slate-50"><div className="animate-spin rounded-full h-12 w-12 border-b-2 border-primary-600"></div></div>;

            if (!currentUser) {
                return (
                    <div className="min-h-screen flex items-center justify-center bg-slate-900 p-4 relative overflow-hidden">
                        <div className="absolute inset-0 opacity-10 pointer-events-none">
                           <div className="absolute top-0 left-0 w-full h-full bg-[radial-gradient(circle_at_center,_var(--tw-gradient-stops))] from-slate-700 via-slate-900 to-black"></div>
                        </div>
                        <div className="bg-slate-800 p-8 rounded-2xl shadow-2xl w-full max-w-md border border-slate-700 relative z-10">
                            <div className="text-center mb-8">
                                <div className="inline-flex items-center justify-center w-16 h-16 rounded-full bg-slate-700 mb-4 shadow-inner">
                                    <i className={`fa-solid ${securityStep < 3 ? 'fa-shield-cat' : 'fa-google'} ${securityStep < 3 ? 'text-primary-500' : 'text-white'} text-2xl`}></i>
                                </div>
                                <h1 className="text-2xl font-bold text-white">Güvenlik Protokolü</h1>
                                <p className="text-slate-400 mt-2 text-sm">
                                    {securityStep === -1 && "Başlangıç: Kaynak Kodu"}
                                    {securityStep === 0 && "1. Aşama: Kimlik Doğrulama"}
                                    {securityStep === 1 && "2. Aşama: Cihaz Doğrulama"}
                                    {securityStep === 2 && "3. Aşama: Master Erişim"}
                                    {securityStep === 3 && "4. Aşama: Google Yetkilendirme"}
                                </p>
                                <div className="mt-4 h-1 w-full bg-slate-700 rounded-full overflow-hidden">
                                    <div className="h-full bg-primary-500 transition-all duration-500" style={{ width: `${((securityStep + 2) / 5) * 100}%` }}></div>
                                </div>
                            </div>
                            
                            {error && (
                                <div className="bg-red-900/50 text-red-200 p-3 rounded-lg text-sm mb-4 border border-red-800 flex items-center gap-2 animate-pulse break-words whitespace-pre-line select-text">
                                    <i className="fa-solid fa-triangle-exclamation flex-shrink-0 mt-1"></i><span>{error}</span>
                                </div>
                            )}

                            {securityStep === -1 ? (
                                <div className="space-y-4">
                                     <p className="text-white text-center font-medium">Bu kodu indirmek istiyor musunuz?</p>
                                     <button onClick={() => { handleDownloadCode(); setSecurityStep(0); }} className="w-full bg-green-600 text-white py-3 rounded-lg hover:bg-green-700 transition-colors font-bold shadow-lg shadow-green-900/20 flex items-center justify-center gap-2">
                                        <i className="fa-solid fa-download"></i> Evet, Kodu İndir
                                     </button>
                                     <button onClick={() => setSecurityStep(0)} className="w-full bg-slate-700 text-slate-300 py-3 rounded-lg hover:bg-slate-600 transition-colors font-medium">
                                        Hayır, Giriş Yap
                                     </button>
                                </div>
                            ) : (
                                <>
                                    {securityStep < 3 ? (
                                        <form onSubmit={handleSecuritySubmit} className="space-y-4">
                                            <div>
                                                <label className="block text-sm font-medium text-slate-300 mb-1">
                                                    {securityStep === 0 && "Favori yemeğiniz nedir?"}
                                                    {securityStep === 1 && "Telefon modeliniz nedir?"}
                                                    {securityStep === 2 && "Master Şifre:"}
                                                </label>
                                                <input type={securityStep === 2 ? "password" : "text"} value={securityAnswer} onChange={(e) => setSecurityAnswer(e.target.value)} className="w-full px-4 py-3 bg-slate-900 border border-slate-600 text-white rounded-lg focus:ring-2 focus:ring-primary-500 outline-none placeholder-slate-600" placeholder="Cevabınızı girin..." autoFocus required />
                                            </div>
                                            <div className="flex gap-2">
                                                {securityStep > 0 && <button type="button" onClick={() => setSecurityStep(securityStep - 1)} className="px-4 py-3 bg-slate-700 text-slate-300 rounded-lg hover:bg-slate-600"><i className="fa-solid fa-arrow-left"></i></button>}
                                                <button type="submit" className="flex-1 bg-primary-600 text-white py-3 rounded-lg hover:bg-primary-700 transition-colors font-bold shadow-lg shadow-primary-900/20">
                                                    Sonraki Adım <i className="fa-solid fa-arrow-right ml-2"></i>
                                                </button>
                                            </div>
                                        </form>
                                    ) : (
                                        <div className="space-y-4">
                                           <div className="text-xs text-center text-slate-500 mb-4">Güvenlik duvarları aşıldı.<br/>Lütfen yetkili Google hesabı ile devam edin.</div>
                                          <button onClick={handleGoogleLogin} className="w-full bg-white text-slate-800 py-3 rounded-lg hover:bg-slate-100 transition-colors font-bold shadow-lg flex items-center justify-center gap-3">
                                            <img src="https://www.svgrepo.com/show/475656/google-color.svg" alt="Google" className="w-5 h-5" /> Google ile Giriş Yap
                                          </button>
                                          <button onClick={() => setSecurityStep(2)} className="w-full text-slate-500 text-sm hover:text-slate-300">Geri Dön</button>
                                        </div>
                                    )}
                                </>
                            )}
                        </div>
                    </div>
                );
            }

            return (
                <div className="flex bg-slate-50 min-h-screen">
                    <Sidebar currentView={currentView} onChangeView={setCurrentView} onLogout={handleLogout} />
                    <main className="ml-64 flex-1 p-8">
                        <header className="flex justify-between items-center mb-8">
                            <div>
                                <h1 className="text-2xl font-bold text-slate-900 capitalize">
                                    {currentView === AdminView.DASHBOARD && 'Genel Bakış'}
                                    {currentView === AdminView.USERS && 'Kullanıcılar'}
                                    {currentView === AdminView.ANNOUNCEMENTS && 'Duyuru Merkezi'}
                                    {currentView === AdminView.CHAT && 'Sohbet Denetimi'}
                                </h1>
                                <p className="text-slate-500 text-sm">Son güncelleme: {new Date().toLocaleTimeString()}</p>
                            </div>
                            <div className="flex items-center gap-4">
                                <div className="text-right hidden sm:block">
                                    <p className="text-sm font-bold text-slate-800">{currentUser.email}</p>
                                    <p className="text-xs text-primary-600 font-medium">Süper Admin</p>
                                </div>
                                <div className="w-10 h-10 bg-slate-900 rounded-full flex items-center justify-center text-white font-bold border-2 border-slate-200">
                                    {currentUser.photoURL ? <img src={currentUser.photoURL} className="w-full h-full rounded-full object-cover" /> : currentUser.email?.charAt(0).toUpperCase()}
                                </div>
                            </div>
                        </header>
                        <div className="animate-fade-in">
                            {currentView === AdminView.DASHBOARD && <Dashboard userCount={users.length} onlineCount={messages.length} messageCount={messages.length} />}
                            {currentView === AdminView.USERS && <UserManagement users={users} />}
                            {currentView === AdminView.ANNOUNCEMENTS && <Announcements announcements={announcements} />}
                            {currentView === AdminView.CHAT && <GlobalChat messages={messages} />}
                        </div>
                    </main>
                </div>
            );
        };

        const root = ReactDOM.createRoot(document.getElementById('root'));
        root.render(<App />);
    </script>


        <script type="module" onerror="console.warn('Failed to load the app. Try reloading it.')">import '@/index';</script>
        <iframe ng-non-bindable="" frameborder="0" hspace="0" marginheight="0" marginwidth="0" scrolling="no" tabindex="-1" vspace="0" width="100%" aria-hidden="true" id="I0_1766922380274" name="I0_1766922380274" src="https://ne-haber-web.firebaseapp.com/__/auth/iframe?apiKey=AIzaSyAsxn43MPQiDJlHjNJ3zlGtEKo57G28KuQ&amp;appName=%5BDEFAULT%5D&amp;v=10.7.1&amp;eid=p&amp;usegapi=1&amp;jsh=m%3B%2F_%2Fscs%2Fabc-static%2F_%2Fjs%2Fk%3Dgapi.lb.tr.azDnutpS-6s.O%2Fd%3D1%2Frs%3DAHpOoo9wrwdgHlQbi5ropVnnHwaNg2VaSQ%2Fm%3D__features__#id=I0_1766922380274&amp;_gfid=I0_1766922380274&amp;parent=blob%3A%2F%2F&amp;pfname=&amp;rpctoken=38610595" style="position: absolute; top: -100px; width: 1px; height: 1px;"></iframe></body></html>
